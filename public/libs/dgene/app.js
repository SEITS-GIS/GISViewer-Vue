(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(150),o={log:"DGene log:",info:"DGene info:",warn:"DGene warn:",error:"DGene error:",ENTRY_INIT_ERROR:"Initializ error ",ENTRY_Developer_CLOSE:"Developer model has closed",ENTRY_INITIALIZE_Vesion:"DGene Fusion Version : V".concat(r.version),ENTRY_INITIALIZE_ERROR:"DGene Fusion Version error.Will return to the home page after five seconds, contact the administrator to modify.",ENTRY_FILE_INITIALIZE_ERROR:"Initialization file request returned data error.",ENTRY_FILE_REQUEST_ERROR:"Initialization file request returned data error.",ENTRY_SCENE_INITIALIZE_ERROR:"Initialization scene request returned data error.",ENTRY_SCENE_REQUEST_ERROR:"Initialization scene request returned data error.",ENTRY_FUSION_INITIALIZE_ERROR:"Initialization fusion request returned data error.",ENTRY_FUSION_REQUEST_ERROR:"Initialization fusion request returned data error.",SCENE_FUSION_OK:"Fusion module started."}},10:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n(27),n(24);var r,o,i,a=n(0);function s(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}Object.assign(s.prototype,{setSize:function(){},render:function(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}),s.FullScreenQuad=(r=new a.B(-1,1,1,-1,0,1),o=new a.D(2,2),i=function(e){this._mesh=new a.x(o,e)},Object.defineProperty(i.prototype,"material",{get:function(){return this._mesh.material},set:function(e){this._mesh.material=e}}),Object.assign(i.prototype,{render:function(e){e.render(this._mesh,r)}}),i)},127:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n(113),n(35),n(166),n(51),n(40),n(21);var r=n(0),o=function(e,t){var n,o,i,a,s;this.object=e,this.domElement=void 0!==t?t:document,this.enabled=!0,this.target=new r.U,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!1,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:r.u.LEFT,MIDDLE:r.u.MIDDLE,RIGHT:r.u.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return h.phi},this.getAzimuthalAngle=function(){return h.theta},this.saveState=function(){_.target0.copy(_.target),_.position0.copy(_.object.position),_.zoom0=_.object.zoom},this.reset=function(){_.target.copy(_.target0),_.object.position.copy(_.position0),_.object.zoom=_.zoom0,_.object.updateProjectionMatrix(),_.dispatchEvent(u),_.update(),p=d.NONE},this.update=(n=new r.U,o=(new r.E).setFromUnitVectors(e.up,new r.U(0,1,0)),i=o.clone().inverse(),a=new r.U,s=new r.E,function(){var e=_.object.position;return n.copy(e).sub(_.target),n.applyQuaternion(o),h.setFromVector3(n),_.autoRotate&&p===d.NONE&&M(2*Math.PI/60/60*_.autoRotateSpeed),h.theta+=m.theta,h.phi+=m.phi,h.theta=Math.max(_.minAzimuthAngle,Math.min(_.maxAzimuthAngle,h.theta)),h.phi=Math.max(_.minPolarAngle,Math.min(_.maxPolarAngle,h.phi)),h.makeSafe(),h.radius*=A,h.radius=Math.max(_.minDistance,Math.min(_.maxDistance,h.radius)),_.target.add(y),n.setFromSpherical(h),n.applyQuaternion(i),e.copy(_.target).add(n),_.object.lookAt(_.target),!0===_.enableDamping?(m.theta*=1-_.dampingFactor,m.phi*=1-_.dampingFactor,y.multiplyScalar(1-_.dampingFactor)):(m.set(0,0,0),y.set(0,0,0)),A=1,!!(b||a.distanceToSquared(_.object.position)>f||8*(1-s.dot(_.object.quaternion))>f)&&(_.dispatchEvent(u),a.copy(_.object.position),s.copy(_.object.quaternion),b=!1,!0)}),this.dispose=function(){_.domElement.removeEventListener("contextmenu",ne,!1),_.domElement.removeEventListener("mousedown",V,!1),_.domElement.removeEventListener("wheel",Z,!1),_.domElement.removeEventListener("touchstart",$,!1),_.domElement.removeEventListener("touchend",te,!1),_.domElement.removeEventListener("touchmove",ee,!1),document.removeEventListener("mousemove",K,!1),document.removeEventListener("mouseup",q,!1),window.removeEventListener("keydown",J,!1)};var _=this,u={type:"change"},l={type:"start"},c={type:"end"},d={NONE:0,ROTATE_UP:1,ROTATE_LEFT:2,ROTATE:3,DOLLY:4,DOLLY_ROTATE:7,PAN:8,DOLLY_PAN:12},p=d.NONE,f=1e-6,h=new r.L,m=new r.L,A=1,y=new r.U,b=!1,E=new r.T,g=new r.T,F=new r.T,v=new r.T,x=new r.T,T=new r.T,P=new r.T,D=new r.T,C=new r.T,w=new r.T,I=new r.T,O=new r.T,S=new r.T,B=new r.T;function L(){return Math.pow(.95,_.zoomSpeed)}function M(e){m.theta-=e}function R(e){m.phi-=e}var N,U=(N=new r.U,function(e,t){N.setFromMatrixColumn(t,0),N.multiplyScalar(-e),y.add(N)}),k=function(){var e=new r.U;return function(t,n){!0===_.screenSpacePanning?e.setFromMatrixColumn(n,1):(e.setFromMatrixColumn(n,0),e.crossVectors(_.object.up,e)),e.multiplyScalar(t),y.add(e)}}(),j=function(){var e=new r.U;return function(t,n){var r=_.domElement===document?_.domElement.body:_.domElement;if(_.object.isPerspectiveCamera){var o=_.object.position;e.copy(o).sub(_.target);var i=e.length();i*=Math.tan(_.object.fov/2*Math.PI/180),U(2*t*i/r.clientHeight,_.object.matrix),k(2*n*i/r.clientHeight,_.object.matrix)}else _.object.isOrthographicCamera?(U(t*(_.object.right-_.object.left)/_.object.zoom/r.clientWidth,_.object.matrix),k(n*(_.object.top-_.object.bottom)/_.object.zoom/r.clientHeight,_.object.matrix)):(console.warn("WARNING: MapControls.js encountered an unknown camera type - pan disabled."),_.enablePan=!1)}}();function X(e){_.object.isPerspectiveCamera?A/=e:_.object.isOrthographicCamera?(_.object.zoom=Math.max(_.minZoom,Math.min(_.maxZoom,_.object.zoom*e)),_.object.updateProjectionMatrix(),b=!0):(console.warn("WARNING: MapControls.js encountered an unknown camera type - dolly/zoom disabled."),_.enableZoom=!1)}function G(e){_.object.isPerspectiveCamera?A*=e:_.object.isOrthographicCamera?(_.object.zoom=Math.max(_.minZoom,Math.min(_.maxZoom,_.object.zoom/e)),_.object.updateProjectionMatrix(),b=!0):(console.warn("WARNING: MapControls.js encountered an unknown camera type - dolly/zoom disabled."),_.enableZoom=!1)}function Q(e){E.set(e.clientX,e.clientY)}function Y(e){if(!1!==_.enableRotate&&0!=(p&d.ROTATE)){if(F.set(e.touches[0].pageX,e.touches[0].pageY),v.set(e.touches[1].pageX,e.touches[1].pageY),x.subVectors(F,E),T.subVectors(v,g),P.subVectors(g,E),D.subVectors(v,F),function(){if(!W(P))return!1;if(!W(D))return!1;if(!H(x))return!1;if(!H(T))return!1;return x.dot(T)>0}()){var t=_.domElement===document?_.domElement.body:_.domElement;R(2*Math.PI*x.y/t.clientHeight),p=d.ROTATE_UP}else 0!=(p&d.ROTATE_LEFT)&&M((P.angle()-D.angle())*_.rotateSpeed);E.copy(F),g.copy(v)}}var z,W=(z=Math.sin(Math.PI/6),function(e){return Math.abs(Math.sin(e.angle()))<z}),H=function(){var e=Math.cos(Math.PI/2-Math.PI/6);return function(t){return Math.abs(Math.cos(t.angle()))<e}}();function V(e){if(!1!==_.enabled){switch(e.preventDefault(),e.button){case _.mouseButtons.LEFT:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===_.enableRotate)return;Q(e),p=d.ROTATE}else{if(!1===_.enablePan)return;!function(e){C.set(e.clientX,e.clientY)}(e),p=d.PAN}break;case _.mouseButtons.MIDDLE:if(!1===_.enableZoom)return;!function(e){O.set(e.clientX,e.clientY)}(e),p=d.DOLLY;break;case _.mouseButtons.RIGHT:if(!1===_.enableRotate)return;Q(e),p=d.ROTATE}p!==d.NONE&&(document.addEventListener("mousemove",K,!1),document.addEventListener("mouseup",q,!1),_.dispatchEvent(l))}}function K(e){if(!1!==_.enabled)switch(e.preventDefault(),p){case d.ROTATE:if(!1===_.enableRotate)return;!function(e){F.set(e.clientX,e.clientY),x.subVectors(F,E).multiplyScalar(_.rotateSpeed);var t=_.domElement===document?_.domElement.body:_.domElement;M(2*Math.PI*x.x/t.clientHeight),R(2*Math.PI*x.y/t.clientHeight),E.copy(F),_.update()}(e);break;case d.DOLLY:if(!1===_.enableZoom)return;!function(e){S.set(e.clientX,e.clientY),B.subVectors(S,O),B.y>0?X(L()):B.y<0&&G(L()),O.copy(S),_.update()}(e);break;case d.PAN:if(!1===_.enablePan)return;!function(e){w.set(e.clientX,e.clientY),I.subVectors(w,C).multiplyScalar(_.panSpeed),j(I.x,I.y),C.copy(w),_.update()}(e)}}function q(e){!1!==_.enabled&&(document.removeEventListener("mousemove",K,!1),document.removeEventListener("mouseup",q,!1),_.dispatchEvent(c),p=d.NONE)}function Z(e){!1===_.enabled||!1===_.enableZoom||p!==d.NONE&&p!==d.ROTATE||(e.preventDefault(),e.stopPropagation(),_.dispatchEvent(l),function(e){e.deltaY<0?G(L()):e.deltaY>0&&X(L()),_.update()}(e),_.dispatchEvent(c))}function J(e){!1!==_.enabled&&!1!==_.enableKeys&&!1!==_.enablePan&&function(e){switch(e.keyCode){case _.keys.UP:j(0,_.keyPanSpeed),_.update();break;case _.keys.BOTTOM:j(0,-_.keyPanSpeed),_.update();break;case _.keys.LEFT:j(_.keyPanSpeed,0),_.update();break;case _.keys.RIGHT:j(-_.keyPanSpeed,0),_.update()}}(e)}function $(e){if(!1!==_.enabled){switch(e.preventDefault(),e.touches.length){case 1:if(!1===_.enablePan)return;!function(e){_.enablePan&&C.set(e.touches[0].pageX,e.touches[0].pageY)}(e),p=d.PAN;break;case 2:if(!1===_.enableZoom&&!1===_.enableRotate)return;!function(e){E.set(e.touches[0].pageX,e.touches[0].pageY),g.set(e.touches[1].pageX,e.touches[1].pageY)}(e),function(e){if(_.enableZoom){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+n*n);O.set(0,r)}}(e),p=d.DOLLY_ROTATE;break;default:p=d.NONE}p!==d.NONE&&_.dispatchEvent(l)}}function ee(e){if(!1!==_.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:if(!1===_.enablePan)return;if(p!==d.PAN)return;!function(e){!1!==_.enablePan&&0!=(p&d.PAN)&&(w.set(e.touches[0].pageX,e.touches[0].pageY),I.subVectors(w,C).multiplyScalar(_.panSpeed),j(I.x,I.y),C.copy(w))}(e),_.update();break;case 2:if(!1===_.enableZoom&&!1===_.enableRotate)return;if(0==(p&d.DOLLY_ROTATE))return;Y(e),function(e){if(!1!==_.enableZoom&&0!=(p&d.DOLLY)){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+n*n);S.set(0,r),B.set(0,Math.pow(S.y/O.y,_.zoomSpeed)),X(B.y),O.copy(S)}}(e),_.update();break;default:p=d.NONE}}function te(e){!1!==_.enabled&&(_.dispatchEvent(c),p=d.NONE)}function ne(e){!1!==_.enabled&&e.preventDefault()}_.domElement.addEventListener("contextmenu",ne,!1),_.domElement.addEventListener("mousedown",V,!1),_.domElement.addEventListener("wheel",Z,!1),_.domElement.addEventListener("touchstart",$,!1),_.domElement.addEventListener("touchend",te,!1),_.domElement.addEventListener("touchmove",ee,!1),window.addEventListener("keydown",J,!1),this.update()};o.prototype=Object.create(r.i.prototype),o.prototype.constructor=o,Object.defineProperties(o.prototype,{center:{get:function(){return console.warn("THREE.MapControls: .center has been renamed to .target"),this.target}},noZoom:{get:function(){return console.warn("THREE.MapControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(e){console.warn("THREE.MapControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!e}},noRotate:{get:function(){return console.warn("THREE.MapControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(e){console.warn("THREE.MapControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!e}},noPan:{get:function(){return console.warn("THREE.MapControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(e){console.warn("THREE.MapControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!e}},noKeys:{get:function(){return console.warn("THREE.MapControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(e){console.warn("THREE.MapControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!e}},staticMoving:{get:function(){return console.warn("THREE.MapControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.enableDamping},set:function(e){console.warn("THREE.MapControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.enableDamping=!e}},dynamicDampingFactor:{get:function(){return console.warn("THREE.MapControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(e){console.warn("THREE.MapControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=e}}})},128:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n(61),n(62),n(34),n(41),n(42),n(21),n(114),n(118),n(119),n(120),n(121),n(122),n(123);var r=n(0),o=n(129);var i=function(e){this.timeLoaded=0,this.manager=e||r.g,this.materials=null,this.verbosity=0,this.attributeOptions={},this.drawMode=r.O,this.nativeAttributeMap={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"}};i.prototype={constructor:i,load:function(e,t,n,o){var i=this,a=new r.j(i.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.load(e,(function(e){i.decodeDracoFile(e,t)}),n,o)},setPath:function(e){return this.path=e,this},setVerbosity:function(e){return this.verbosity=e,this},setDrawMode:function(e){return this.drawMode=e,this},setSkipDequantization:function(e,t){var n=!0;return void 0!==t&&(n=t),this.getAttributeOptions(e).skipDequantization=n,this},decodeDracoFile:function(e,t,n,r){var o=this;i.getDecoderModule().then((function(i){o.decodeDracoFileInternal(e,i.decoder,t,n,r)}))},decodeDracoFileInternal:function(e,t,n,r,o){var i=new t.DecoderBuffer;i.Init(new Int8Array(e),e.byteLength);var a=new t.Decoder,s=a.GetEncodedGeometryType(i);if(s==t.TRIANGULAR_MESH)this.verbosity>0&&console.log("Loaded a mesh.");else{if(s!=t.POINT_CLOUD){var _="DRACOLoader: Unknown geometry type.";throw console.error(_),new Error(_)}this.verbosity>0&&console.log("Loaded a point cloud.")}n(this.convertDracoGeometryTo3JS(t,a,s,i,r,o))},addAttributeToGeometry:function(e,t,n,o,i,a,s,_){if(0===a.ptr){var u="DRACOLoader: No attribute "+o;throw console.error(u),new Error(u)}var l,c,d=a.num_components(),p=n.num_points()*d;switch(i){case Float32Array:l=new e.DracoFloat32Array,t.GetAttributeFloatForAllPoints(n,a,l),_[o]=new Float32Array(p),c=r.k;break;case Int8Array:l=new e.DracoInt8Array,t.GetAttributeInt8ForAllPoints(n,a,l),_[o]=new Int8Array(p),c=r.q;break;case Int16Array:l=new e.DracoInt16Array,t.GetAttributeInt16ForAllPoints(n,a,l),_[o]=new Int16Array(p),c=r.o;break;case Int32Array:l=new e.DracoInt32Array,t.GetAttributeInt32ForAllPoints(n,a,l),_[o]=new Int32Array(p),c=r.p;break;case Uint8Array:l=new e.DracoUInt8Array,t.GetAttributeUInt8ForAllPoints(n,a,l),_[o]=new Uint8Array(p),c=r.R;break;case Uint16Array:l=new e.DracoUInt16Array,t.GetAttributeUInt16ForAllPoints(n,a,l),_[o]=new Uint16Array(p),c=r.P;break;case Uint32Array:l=new e.DracoUInt32Array,t.GetAttributeUInt32ForAllPoints(n,a,l),_[o]=new Uint32Array(p),c=r.Q;break;default:u="DRACOLoader: Unexpected attribute type.";throw console.error(u),new Error(u)}for(var f=0;f<p;f++)_[o][f]=l.GetValue(f);s.addAttribute(o,new c(_[o],d)),e.destroy(l)},convertDracoGeometryTo3JS:function(e,t,n,o,i,a){var s,_;!0===this.getAttributeOptions("position").skipDequantization&&t.SkipAttributeTransform(e.POSITION);var u=performance.now();if(n===e.TRIANGULAR_MESH?(s=new e.Mesh,_=t.DecodeBufferToMesh(o,s)):(s=new e.PointCloud,_=t.DecodeBufferToPointCloud(o,s)),!_.ok()||0==s.ptr){var l="DRACOLoader: Decoding failed: ";throw l+=_.error_msg(),console.error(l),e.destroy(t),e.destroy(s),new Error(l)}var c,d=performance.now();e.destroy(o),n==e.TRIANGULAR_MESH?(c=s.num_faces(),this.verbosity>0&&console.log("Number of faces loaded: "+c.toString())):c=0;var p=s.num_points(),f=s.num_attributes();this.verbosity>0&&(console.log("Number of points loaded: "+p.toString()),console.log("Number of attributes loaded: "+f.toString()));var h=t.GetAttributeId(s,e.POSITION);if(-1==h){l="DRACOLoader: No position attribute found.";throw console.error(l),e.destroy(t),e.destroy(s),new Error(l)}var m=t.GetAttribute(s,h),A={},y=new r.d;if(i)for(var b in i){var E=a[b],g=i[b],F=t.GetAttributeByUniqueId(s,g);this.addAttributeToGeometry(e,t,s,b,E,F,y,A)}else for(var b in this.nativeAttributeMap){var v=t.GetAttributeId(s,e[this.nativeAttributeMap[b]]);if(-1!==v){this.verbosity>0&&console.log("Loaded "+b+" attribute.");F=t.GetAttribute(s,v);this.addAttributeToGeometry(e,t,s,b,Float32Array,F,y,A)}}if(n==e.TRIANGULAR_MESH)if(this.drawMode===r.N){var x=new e.DracoInt32Array;t.GetTriangleStripsFromMesh(s,x),A.indices=new Uint32Array(x.size());for(var T=0;T<x.size();++T)A.indices[T]=x.GetValue(T);e.destroy(x)}else{var P=3*c;A.indices=new Uint32Array(P);var D=new e.DracoInt32Array;for(T=0;T<c;++T){t.GetFaceFromMesh(s,T,D);var C=3*T;A.indices[C]=D.GetValue(0),A.indices[C+1]=D.GetValue(1),A.indices[C+2]=D.GetValue(2)}e.destroy(D)}y.drawMode=this.drawMode,n==e.TRIANGULAR_MESH&&y.setIndex(new(A.indices.length>65535?r.Q:r.P)(A.indices,1));var w=new e.AttributeQuantizationTransform;if(w.InitFromAttribute(m)){y.attributes.position.isQuantized=!0,y.attributes.position.maxRange=w.range(),y.attributes.position.numQuantizationBits=w.quantization_bits(),y.attributes.position.minValues=new Float32Array(3);for(T=0;T<3;++T)y.attributes.position.minValues[T]=w.min_value(T)}return e.destroy(w),e.destroy(t),e.destroy(s),this.decode_time=d-u,this.import_time=performance.now()-d,this.verbosity>0&&(console.log("Decode time: "+this.decode_time),console.log("Import time: "+this.import_time)),y},isVersionSupported:function(e,t){i.getDecoderModule().then((function(n){t(n.decoder.isVersionSupported(e))}))},getAttributeOptions:function(e){return void 0===this.attributeOptions[e]&&(this.attributeOptions[e]={}),this.attributeOptions[e]}},i.decoderPath="./",i.decoderConfig={},i.decoderModulePromise=null,i.setDecoderPath=function(e){i.decoderPath=e},i.setDecoderConfig=function(e){var t=i.decoderConfig.wasmBinary;i.decoderConfig=e||{},i.releaseDecoderModule(),t&&(i.decoderConfig.wasmBinary=t)},i.releaseDecoderModule=function(){i.decoderModulePromise=null},i.getDecoderModule=function(){var e=this,t=(i.decoderPath,i.decoderConfig),n=i.decoderModulePromise;return n||(n=(n=Promise.resolve()).then((function(){return new Promise((function(n){t.onModuleLoaded=function(t){e.timeLoaded=performance.now(),n({decoder:t})},Object(o.a)(t)}))})),i.decoderModulePromise=n,n)},i._loadScript=function(e){var t=document.getElementById("decoder_script");null!==t&&t.parentNode.removeChild(t);var n=document.getElementsByTagName("head")[0],r=document.createElement("script");return r.id="decoder_script",r.type="text/javascript",r.src=e,new Promise((function(e){r.onload=e,n.appendChild(r)}))},i._loadArrayBuffer=function(e){var t=new r.j;return t.setResponseType("arraybuffer"),new Promise((function(n,r){t.load(e,n,void 0,r)}))}},129:function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return i}));n(61),n(62),n(35),n(54),n(170),n(34),n(171),n(174),n(122),n(114),n(118),n(120),n(121),n(123),n(90),n(175),n(124),n(91),n(119),n(41),n(42),n(21),n(83);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=function(t){var i="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,a=void 0!==(t=t||{})?t:{},s=!1,_=!1;function u(e){if("string"!=typeof e)return!1;var t=e.split(".");return!(t.length<2||t.length>3)&&(1==t[0]&&t[1]>=0&&t[1]<=3||!(0!=t[0]||t[1]>10))}a.onRuntimeInitialized=function(){s=!0,_&&"function"==typeof a.onModuleLoaded&&a.onModuleLoaded(a)},a.onModuleParsed=function(){_=!0,s&&"function"==typeof a.onModuleLoaded&&a.onModuleLoaded(a)},a.isVersionSupported=u;var l,c={};for(l in a)a.hasOwnProperty(l)&&(c[l]=a[l]);var d=[],p=!1,f=!1,h=!1,m=!1;p="object"===("undefined"==typeof window?"undefined":o(window)),f="function"==typeof importScripts,h="object"===(void 0===e?"undefined":o(e))&&"object"===o(e.versions)&&"string"==typeof e.versions.node&&!p&&!f,m=!p&&!h&&!f;var A,y,b,E,g="";function F(e){return a.locateFile?a.locateFile(e,g):g+e}h?(g=r+"/",A=function(e,t){var r;return b||(b=n(176)),E||(E=n(177)),e=E.normalize(e),r=b.readFileSync(e),t?r:r.toString()},y=function(e){var t=A(e,!0);return t.buffer||(t=new Uint8Array(t)),S(t.buffer),t},e.argv.length>1&&e.argv[1].replace(/\\/g,"/"),d=e.argv.slice(2),e.on("uncaughtException",(function(e){if(!(e instanceof fr))throw e})),e.on("unhandledRejection",mr),a.inspect=function(){return"[Emscripten Module object]"}):m?("undefined"!=typeof read&&(A=function(e){return read(e)}),y=function(e){var t;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(S("object"===o(t=read(e,"binary"))),t)},"undefined"!=typeof scriptArgs?d=scriptArgs:void 0!==arguments&&(d=arguments),"function"==typeof quit&&function(e){quit(e)},"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print)):(p||f)&&(f?g=self.location.href:document.currentScript&&(g=document.currentScript.src),i&&(g=i),g=0!==g.indexOf("blob:")?g.substr(0,g.lastIndexOf("/")+1):"",A=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},f&&(y=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)});var v=a.print||console.log.bind(console),x=a.printErr||console.warn.bind(console);for(l in c)c.hasOwnProperty(l)&&(a[l]=c[l]);c=null,a.arguments&&(d=a.arguments),a.thisProgram&&a.thisProgram,a.quit&&a.quit;var T={"f64-rem":function(e,t){return e%t},debugger:function(){}};new Array(0);var P,D,C=0,w=function(e){C=e},I=function(){return C};a.wasmBinary&&(P=a.wasmBinary),"object"!==("undefined"==typeof WebAssembly?"undefined":o(WebAssembly))&&x("no native wasm support detected");var O=!1;function S(e,t){e||mr("Assertion failed: "+t)}var B="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function L(e,t,n){for(var r=t+n,o=t;e[o]&&!(o>=r);)++o;if(o-t>16&&e.subarray&&B)return B.decode(e.subarray(t,o));for(var i="";t<o;){var a=e[t++];if(128&a){var s=63&e[t++];if(192!=(224&a)){var _=63&e[t++];if((a=224==(240&a)?(15&a)<<12|s<<6|_:(7&a)<<18|s<<12|_<<6|63&e[t++])<65536)i+=String.fromCharCode(a);else{var u=a-65536;i+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else i+=String.fromCharCode((31&a)<<6|s)}else i+=String.fromCharCode(a)}return i}function M(e,t){return e?L(j,e,t):""}function R(e,t,n,r){if(!(r>0))return 0;for(var o=n,i=n+r-1,a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=55296&&s<=57343)s=65536+((1023&s)<<10)|1023&e.charCodeAt(++a);if(s<=127){if(n>=i)break;t[n++]=s}else if(s<=2047){if(n+1>=i)break;t[n++]=192|s>>6,t[n++]=128|63&s}else if(s<=65535){if(n+2>=i)break;t[n++]=224|s>>12,t[n++]=128|s>>6&63,t[n++]=128|63&s}else{if(n+3>=i)break;t[n++]=240|s>>18,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}}return t[n]=0,n-o}function N(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++n)),r<=127?++t:t+=r<=2047?2:r<=65535?3:4}return t}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var U,k,j,X,G=65536;function Q(e,t){return e%t>0&&(e+=t-e%t),e}function Y(){a.HEAP8=k=new Int8Array(U),a.HEAP16=new Int16Array(U),a.HEAP32=X=new Int32Array(U),a.HEAPU8=j=new Uint8Array(U),a.HEAPU16=new Uint16Array(U),a.HEAPU32=new Uint32Array(U),a.HEAPF32=new Float32Array(U),a.HEAPF64=new Float64Array(U)}var z=5261536,W=18624,H=a.TOTAL_MEMORY||16777216;function V(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var n=t.func;"number"==typeof n?void 0===t.arg?a.dynCall_v(n):a.dynCall_vi(n,t.arg):n(void 0===t.arg?null:t.arg)}else t()}}(D=a.wasmMemory?a.wasmMemory:new WebAssembly.Memory({initial:H/G}))&&(U=D.buffer),H=U.byteLength,Y(),X[W>>2]=z;var K=[],q=[],Z=[],J=[],$=!1;function ee(){if(a.preRun)for("function"==typeof a.preRun&&(a.preRun=[a.preRun]);a.preRun.length;)oe(a.preRun.shift());V(K)}function te(){$=!0,V(q)}function ne(){V(Z)}function re(){if(a.postRun)for("function"==typeof a.postRun&&(a.postRun=[a.postRun]);a.postRun.length;)ae(a.postRun.shift());V(J)}function oe(e){K.unshift(e)}function ie(e){Z.unshift(e)}function ae(e){J.unshift(e)}Math.abs,Math.ceil,Math.floor,Math.min;var se=0,_e=null,ue=null;function le(e){se++,a.monitorRunDependencies&&a.monitorRunDependencies(se)}function ce(e){if(se--,a.monitorRunDependencies&&a.monitorRunDependencies(se),0==se&&(null!==_e&&(clearInterval(_e),_e=null),ue)){var t=ue;ue=null,t()}}a.preloadedImages={},a.preloadedAudios={};var de="data:application/octet-stream;base64,";function pe(e){return"".startsWith?e.startsWith(de):0===e.indexOf(de)}var fe="static/DGene.bat";function he(){try{if(P)return new Uint8Array(P);if(y)return y(fe);throw"both async and sync fetching of the wasm failed"}catch(e){mr(e)}}function me(){return P||!p&&!f||"function"!=typeof fetch?new Promise((function(e,t){e(he())})):fetch(fe,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+fe+"'";return e.arrayBuffer()})).catch((function(){return he()}))}function Ae(e){var t={env:e,global:{NaN:NaN,Infinity:1/0},"global.Math":Math,asm2wasm:T};function n(e,t){var n=e.exports;a.asm=n,ce()}function r(e){n(e.instance)}function o(e){return me().then((function(e){return WebAssembly.instantiate(e,t)})).then(e,(function(e){x("failed to asynchronously prepare wasm: "+e),mr(e)}))}if(le(),a.instantiateWasm)try{return a.instantiateWasm(t,n)}catch(e){return x("Module.instantiateWasm callback failed with error: "+e),!1}return function(){if(P||"function"!=typeof WebAssembly.instantiateStreaming||pe(fe)||"function"!=typeof fetch)return o(r);fetch(fe,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,t).then(r,(function(e){x("wasm streaming compile failed: "+e),x("falling back to ArrayBuffer instantiation"),o(r)}))}))}(),{}}pe(fe)||(fe=F(fe)),a.asm=function(e,t,n){return t.memory=D,t.table=new WebAssembly.Table({initial:494,maximum:494,element:"anyfunc"}),t.__memory_base=1024,t.__table_base=0,Ae(t)};var ye=18640;function be(e){return e}function Ee(e){return e.replace(/\b__Z[\w\d_]+/g,(function(e){return e===e?e:e+" ["+e+"]"}))}function ge(){var e=new Error;if(!e.stack){try{throw new Error(0)}catch(t){e=t}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}function Fe(){var e=ge();return a.extraStackTrace&&(e+="\n"+a.extraStackTrace()),Ee(e)}function ve(e){return pr(e)}function xe(){throw O=!0,"Pure virtual function called!"}var Te={};function Pe(e,t,n){throw Te[e]={ptr:e,adjusted:[e],type:t,destructor:n,refcount:0,caught:!1,rethrown:!1},e,"uncaught_exception"in Ve?Ve.uncaught_exceptions++:Ve.uncaught_exceptions=1,e}function De(){return Ve.uncaught_exceptions}function Ce(){}var we={buffers:[null,[],[]],printChar:function(e,t){var n=we.buffers[e];0===t||10===t?((1===e?v:x)(L(n,0)),n.length=0):n.push(t)},varargs:0,get:function(e){return we.varargs+=4,X[we.varargs-4>>2]},getStr:function(){return M(we.get())},get64:function(){var e=we.get();we.get();return e},getZero:function(){we.get()}};function Ie(e,t){we.varargs=t;try{we.getStreamFromFD(),we.get(),we.get(),we.get(),we.get();return 0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||mr(e),-e.errno}}function Oe(){var e=a._fflush;e&&e(0);var t=we.buffers;t[1].length&&we.printChar(1,10),t[2].length&&we.printChar(2,10)}function Se(e,t){we.varargs=t;try{for(var n=we.get(),r=we.get(),o=we.get(),i=0,a=0;a<o;a++){for(var s=X[r+8*a>>2],_=X[r+(8*a+4)>>2],u=0;u<_;u++)we.printChar(n,j[s+u]);i+=_}return i}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||mr(e),-e.errno}}function Be(e,t){we.varargs=t;try{return 0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||mr(e),-e.errno}}function Le(e,t){we.varargs=t;try{we.getStreamFromFD();return 0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||mr(e),-e.errno}}function Me(){a.abort()}function Re(){return k.length}function Ne(){mr("trap!")}function Ue(e,t,n){j.set(j.subarray(t,t+n),e)}function ke(e){return a.___errno_location&&(X[a.___errno_location()>>2]=e),e}function je(e){mr("OOM")}function Xe(e){e=Q(e,65536);var t=U.byteLength;try{return-1!==D.grow((e-t)/65536)&&(U=D.buffer,!0)}catch(e){return!1}}function Ge(e){var t=Re();if(e>2147418112)return!1;for(var n=Math.max(t,16777216);n<e;)n=n<=536870912?Q(2*n,65536):Math.min(Q((3*n+2147483648)/4,65536),2147418112);return!!Xe(n)&&(Y(),!0)}function Qe(e,t,n){var r=n>0?n:N(e)+1,o=new Array(r),i=R(e,o,0,o.length);return t&&(o.length=i),o}var Ye={},ze={abort:mr,setTempRet0:w,getTempRet0:I,___cxa_allocate_exception:ve,___cxa_pure_virtual:xe,___cxa_throw:Pe,___cxa_uncaught_exceptions:De,___gxx_personality_v0:Ce,___setErrNo:ke,___syscall140:Ie,___syscall146:Se,___syscall54:Be,___syscall6:Le,_abort:Me,_emscripten_get_heap_size:Re,_emscripten_memcpy_big:Ue,_emscripten_resize_heap:Ge,_llvm_trap:Ne,abortOnCannotGrowMemory:je,demangle:be,demangleAll:Ee,emscripten_realloc_buffer:Xe,flush_NO_FILESYSTEM:Oe,jsStackTrace:ge,stackTrace:Fe,tempDoublePtr:ye,DYNAMICTOP_PTR:W},We=a.asm(Ye,ze,U);a.asm=We;var He,Ve=a.__ZSt18uncaught_exceptionv=function(){return a.asm.__ZSt18uncaught_exceptionv.apply(null,arguments)},Ke=(a.___cxa_can_catch=function(){return a.asm.___cxa_can_catch.apply(null,arguments)},a.___cxa_is_pointer_type=function(){return a.asm.___cxa_is_pointer_type.apply(null,arguments)},a._emscripten_bind_AttributeOctahedronTransform_AttributeOctahedronTransform_0=function(){return a.asm._emscripten_bind_AttributeOctahedronTransform_AttributeOctahedronTransform_0.apply(null,arguments)}),qe=a._emscripten_bind_AttributeOctahedronTransform_InitFromAttribute_1=function(){return a.asm._emscripten_bind_AttributeOctahedronTransform_InitFromAttribute_1.apply(null,arguments)},Ze=a._emscripten_bind_AttributeOctahedronTransform___destroy___0=function(){return a.asm._emscripten_bind_AttributeOctahedronTransform___destroy___0.apply(null,arguments)},Je=a._emscripten_bind_AttributeOctahedronTransform_quantization_bits_0=function(){return a.asm._emscripten_bind_AttributeOctahedronTransform_quantization_bits_0.apply(null,arguments)},$e=a._emscripten_bind_AttributeQuantizationTransform_AttributeQuantizationTransform_0=function(){return a.asm._emscripten_bind_AttributeQuantizationTransform_AttributeQuantizationTransform_0.apply(null,arguments)},et=a._emscripten_bind_AttributeQuantizationTransform_InitFromAttribute_1=function(){return a.asm._emscripten_bind_AttributeQuantizationTransform_InitFromAttribute_1.apply(null,arguments)},tt=a._emscripten_bind_AttributeQuantizationTransform___destroy___0=function(){return a.asm._emscripten_bind_AttributeQuantizationTransform___destroy___0.apply(null,arguments)},nt=a._emscripten_bind_AttributeQuantizationTransform_min_value_1=function(){return a.asm._emscripten_bind_AttributeQuantizationTransform_min_value_1.apply(null,arguments)},rt=a._emscripten_bind_AttributeQuantizationTransform_quantization_bits_0=function(){return a.asm._emscripten_bind_AttributeQuantizationTransform_quantization_bits_0.apply(null,arguments)},ot=a._emscripten_bind_AttributeQuantizationTransform_range_0=function(){return a.asm._emscripten_bind_AttributeQuantizationTransform_range_0.apply(null,arguments)},it=a._emscripten_bind_AttributeTransformData_AttributeTransformData_0=function(){return a.asm._emscripten_bind_AttributeTransformData_AttributeTransformData_0.apply(null,arguments)},at=a._emscripten_bind_AttributeTransformData___destroy___0=function(){return a.asm._emscripten_bind_AttributeTransformData___destroy___0.apply(null,arguments)},st=a._emscripten_bind_AttributeTransformData_transform_type_0=function(){return a.asm._emscripten_bind_AttributeTransformData_transform_type_0.apply(null,arguments)},_t=a._emscripten_bind_DecoderBuffer_DecoderBuffer_0=function(){return a.asm._emscripten_bind_DecoderBuffer_DecoderBuffer_0.apply(null,arguments)},ut=a._emscripten_bind_DecoderBuffer_Init_2=function(){return a.asm._emscripten_bind_DecoderBuffer_Init_2.apply(null,arguments)},lt=a._emscripten_bind_DecoderBuffer___destroy___0=function(){return a.asm._emscripten_bind_DecoderBuffer___destroy___0.apply(null,arguments)},ct=a._emscripten_bind_Decoder_DecodeBufferToMesh_2=function(){return a.asm._emscripten_bind_Decoder_DecodeBufferToMesh_2.apply(null,arguments)},dt=a._emscripten_bind_Decoder_DecodeBufferToPointCloud_2=function(){return a.asm._emscripten_bind_Decoder_DecodeBufferToPointCloud_2.apply(null,arguments)},pt=a._emscripten_bind_Decoder_Decoder_0=function(){return a.asm._emscripten_bind_Decoder_Decoder_0.apply(null,arguments)},ft=a._emscripten_bind_Decoder_GetAttributeByUniqueId_2=function(){return a.asm._emscripten_bind_Decoder_GetAttributeByUniqueId_2.apply(null,arguments)},ht=a._emscripten_bind_Decoder_GetAttributeFloatForAllPoints_3=function(){return a.asm._emscripten_bind_Decoder_GetAttributeFloatForAllPoints_3.apply(null,arguments)},mt=a._emscripten_bind_Decoder_GetAttributeFloat_3=function(){return a.asm._emscripten_bind_Decoder_GetAttributeFloat_3.apply(null,arguments)},At=a._emscripten_bind_Decoder_GetAttributeIdByMetadataEntry_3=function(){return a.asm._emscripten_bind_Decoder_GetAttributeIdByMetadataEntry_3.apply(null,arguments)},yt=a._emscripten_bind_Decoder_GetAttributeIdByName_2=function(){return a.asm._emscripten_bind_Decoder_GetAttributeIdByName_2.apply(null,arguments)},bt=a._emscripten_bind_Decoder_GetAttributeId_2=function(){return a.asm._emscripten_bind_Decoder_GetAttributeId_2.apply(null,arguments)},Et=a._emscripten_bind_Decoder_GetAttributeInt16ForAllPoints_3=function(){return a.asm._emscripten_bind_Decoder_GetAttributeInt16ForAllPoints_3.apply(null,arguments)},gt=a._emscripten_bind_Decoder_GetAttributeInt32ForAllPoints_3=function(){return a.asm._emscripten_bind_Decoder_GetAttributeInt32ForAllPoints_3.apply(null,arguments)},Ft=a._emscripten_bind_Decoder_GetAttributeInt8ForAllPoints_3=function(){return a.asm._emscripten_bind_Decoder_GetAttributeInt8ForAllPoints_3.apply(null,arguments)},vt=a._emscripten_bind_Decoder_GetAttributeIntForAllPoints_3=function(){return a.asm._emscripten_bind_Decoder_GetAttributeIntForAllPoints_3.apply(null,arguments)},xt=a._emscripten_bind_Decoder_GetAttributeMetadata_2=function(){return a.asm._emscripten_bind_Decoder_GetAttributeMetadata_2.apply(null,arguments)},Tt=a._emscripten_bind_Decoder_GetAttributeUInt16ForAllPoints_3=function(){return a.asm._emscripten_bind_Decoder_GetAttributeUInt16ForAllPoints_3.apply(null,arguments)},Pt=a._emscripten_bind_Decoder_GetAttributeUInt32ForAllPoints_3=function(){return a.asm._emscripten_bind_Decoder_GetAttributeUInt32ForAllPoints_3.apply(null,arguments)},Dt=a._emscripten_bind_Decoder_GetAttributeUInt8ForAllPoints_3=function(){return a.asm._emscripten_bind_Decoder_GetAttributeUInt8ForAllPoints_3.apply(null,arguments)},Ct=a._emscripten_bind_Decoder_GetAttribute_2=function(){return a.asm._emscripten_bind_Decoder_GetAttribute_2.apply(null,arguments)},wt=a._emscripten_bind_Decoder_GetEncodedGeometryType_1=function(){return a.asm._emscripten_bind_Decoder_GetEncodedGeometryType_1.apply(null,arguments)},It=a._emscripten_bind_Decoder_GetFaceFromMesh_3=function(){return a.asm._emscripten_bind_Decoder_GetFaceFromMesh_3.apply(null,arguments)},Ot=a._emscripten_bind_Decoder_GetMetadata_1=function(){return a.asm._emscripten_bind_Decoder_GetMetadata_1.apply(null,arguments)},St=a._emscripten_bind_Decoder_GetTriangleStripsFromMesh_2=function(){return a.asm._emscripten_bind_Decoder_GetTriangleStripsFromMesh_2.apply(null,arguments)},Bt=a._emscripten_bind_Decoder_SkipAttributeTransform_1=function(){return a.asm._emscripten_bind_Decoder_SkipAttributeTransform_1.apply(null,arguments)},Lt=a._emscripten_bind_Decoder___destroy___0=function(){return a.asm._emscripten_bind_Decoder___destroy___0.apply(null,arguments)},Mt=a._emscripten_bind_DracoFloat32Array_DracoFloat32Array_0=function(){return a.asm._emscripten_bind_DracoFloat32Array_DracoFloat32Array_0.apply(null,arguments)},Rt=a._emscripten_bind_DracoFloat32Array_GetValue_1=function(){return a.asm._emscripten_bind_DracoFloat32Array_GetValue_1.apply(null,arguments)},Nt=a._emscripten_bind_DracoFloat32Array___destroy___0=function(){return a.asm._emscripten_bind_DracoFloat32Array___destroy___0.apply(null,arguments)},Ut=a._emscripten_bind_DracoFloat32Array_size_0=function(){return a.asm._emscripten_bind_DracoFloat32Array_size_0.apply(null,arguments)},kt=a._emscripten_bind_DracoInt16Array_DracoInt16Array_0=function(){return a.asm._emscripten_bind_DracoInt16Array_DracoInt16Array_0.apply(null,arguments)},jt=a._emscripten_bind_DracoInt16Array_GetValue_1=function(){return a.asm._emscripten_bind_DracoInt16Array_GetValue_1.apply(null,arguments)},Xt=a._emscripten_bind_DracoInt16Array___destroy___0=function(){return a.asm._emscripten_bind_DracoInt16Array___destroy___0.apply(null,arguments)},Gt=a._emscripten_bind_DracoInt16Array_size_0=function(){return a.asm._emscripten_bind_DracoInt16Array_size_0.apply(null,arguments)},Qt=a._emscripten_bind_DracoInt32Array_DracoInt32Array_0=function(){return a.asm._emscripten_bind_DracoInt32Array_DracoInt32Array_0.apply(null,arguments)},Yt=a._emscripten_bind_DracoInt32Array_GetValue_1=function(){return a.asm._emscripten_bind_DracoInt32Array_GetValue_1.apply(null,arguments)},zt=a._emscripten_bind_DracoInt32Array___destroy___0=function(){return a.asm._emscripten_bind_DracoInt32Array___destroy___0.apply(null,arguments)},Wt=a._emscripten_bind_DracoInt32Array_size_0=function(){return a.asm._emscripten_bind_DracoInt32Array_size_0.apply(null,arguments)},Ht=a._emscripten_bind_DracoInt8Array_DracoInt8Array_0=function(){return a.asm._emscripten_bind_DracoInt8Array_DracoInt8Array_0.apply(null,arguments)},Vt=a._emscripten_bind_DracoInt8Array_GetValue_1=function(){return a.asm._emscripten_bind_DracoInt8Array_GetValue_1.apply(null,arguments)},Kt=a._emscripten_bind_DracoInt8Array___destroy___0=function(){return a.asm._emscripten_bind_DracoInt8Array___destroy___0.apply(null,arguments)},qt=a._emscripten_bind_DracoInt8Array_size_0=function(){return a.asm._emscripten_bind_DracoInt8Array_size_0.apply(null,arguments)},Zt=a._emscripten_bind_DracoUInt16Array_DracoUInt16Array_0=function(){return a.asm._emscripten_bind_DracoUInt16Array_DracoUInt16Array_0.apply(null,arguments)},Jt=a._emscripten_bind_DracoUInt16Array_GetValue_1=function(){return a.asm._emscripten_bind_DracoUInt16Array_GetValue_1.apply(null,arguments)},$t=a._emscripten_bind_DracoUInt16Array___destroy___0=function(){return a.asm._emscripten_bind_DracoUInt16Array___destroy___0.apply(null,arguments)},en=a._emscripten_bind_DracoUInt16Array_size_0=function(){return a.asm._emscripten_bind_DracoUInt16Array_size_0.apply(null,arguments)},tn=a._emscripten_bind_DracoUInt32Array_DracoUInt32Array_0=function(){return a.asm._emscripten_bind_DracoUInt32Array_DracoUInt32Array_0.apply(null,arguments)},nn=a._emscripten_bind_DracoUInt32Array_GetValue_1=function(){return a.asm._emscripten_bind_DracoUInt32Array_GetValue_1.apply(null,arguments)},rn=a._emscripten_bind_DracoUInt32Array___destroy___0=function(){return a.asm._emscripten_bind_DracoUInt32Array___destroy___0.apply(null,arguments)},on=a._emscripten_bind_DracoUInt32Array_size_0=function(){return a.asm._emscripten_bind_DracoUInt32Array_size_0.apply(null,arguments)},an=a._emscripten_bind_DracoUInt8Array_DracoUInt8Array_0=function(){return a.asm._emscripten_bind_DracoUInt8Array_DracoUInt8Array_0.apply(null,arguments)},sn=a._emscripten_bind_DracoUInt8Array_GetValue_1=function(){return a.asm._emscripten_bind_DracoUInt8Array_GetValue_1.apply(null,arguments)},_n=a._emscripten_bind_DracoUInt8Array___destroy___0=function(){return a.asm._emscripten_bind_DracoUInt8Array___destroy___0.apply(null,arguments)},un=a._emscripten_bind_DracoUInt8Array_size_0=function(){return a.asm._emscripten_bind_DracoUInt8Array_size_0.apply(null,arguments)},ln=a._emscripten_bind_GeometryAttribute_GeometryAttribute_0=function(){return a.asm._emscripten_bind_GeometryAttribute_GeometryAttribute_0.apply(null,arguments)},cn=a._emscripten_bind_GeometryAttribute___destroy___0=function(){return a.asm._emscripten_bind_GeometryAttribute___destroy___0.apply(null,arguments)},dn=a._emscripten_bind_Mesh_Mesh_0=function(){return a.asm._emscripten_bind_Mesh_Mesh_0.apply(null,arguments)},pn=a._emscripten_bind_Mesh___destroy___0=function(){return a.asm._emscripten_bind_Mesh___destroy___0.apply(null,arguments)},fn=a._emscripten_bind_Mesh_num_attributes_0=function(){return a.asm._emscripten_bind_Mesh_num_attributes_0.apply(null,arguments)},hn=a._emscripten_bind_Mesh_num_faces_0=function(){return a.asm._emscripten_bind_Mesh_num_faces_0.apply(null,arguments)},mn=a._emscripten_bind_Mesh_num_points_0=function(){return a.asm._emscripten_bind_Mesh_num_points_0.apply(null,arguments)},An=a._emscripten_bind_MetadataQuerier_GetDoubleEntry_2=function(){return a.asm._emscripten_bind_MetadataQuerier_GetDoubleEntry_2.apply(null,arguments)},yn=a._emscripten_bind_MetadataQuerier_GetEntryName_2=function(){return a.asm._emscripten_bind_MetadataQuerier_GetEntryName_2.apply(null,arguments)},bn=a._emscripten_bind_MetadataQuerier_GetIntEntryArray_3=function(){return a.asm._emscripten_bind_MetadataQuerier_GetIntEntryArray_3.apply(null,arguments)},En=a._emscripten_bind_MetadataQuerier_GetIntEntry_2=function(){return a.asm._emscripten_bind_MetadataQuerier_GetIntEntry_2.apply(null,arguments)},gn=a._emscripten_bind_MetadataQuerier_GetStringEntry_2=function(){return a.asm._emscripten_bind_MetadataQuerier_GetStringEntry_2.apply(null,arguments)},Fn=a._emscripten_bind_MetadataQuerier_HasEntry_2=function(){return a.asm._emscripten_bind_MetadataQuerier_HasEntry_2.apply(null,arguments)},vn=a._emscripten_bind_MetadataQuerier_MetadataQuerier_0=function(){return a.asm._emscripten_bind_MetadataQuerier_MetadataQuerier_0.apply(null,arguments)},xn=a._emscripten_bind_MetadataQuerier_NumEntries_1=function(){return a.asm._emscripten_bind_MetadataQuerier_NumEntries_1.apply(null,arguments)},Tn=a._emscripten_bind_MetadataQuerier___destroy___0=function(){return a.asm._emscripten_bind_MetadataQuerier___destroy___0.apply(null,arguments)},Pn=a._emscripten_bind_Metadata_Metadata_0=function(){return a.asm._emscripten_bind_Metadata_Metadata_0.apply(null,arguments)},Dn=a._emscripten_bind_Metadata___destroy___0=function(){return a.asm._emscripten_bind_Metadata___destroy___0.apply(null,arguments)},Cn=a._emscripten_bind_PointAttribute_GetAttributeTransformData_0=function(){return a.asm._emscripten_bind_PointAttribute_GetAttributeTransformData_0.apply(null,arguments)},wn=a._emscripten_bind_PointAttribute_PointAttribute_0=function(){return a.asm._emscripten_bind_PointAttribute_PointAttribute_0.apply(null,arguments)},In=a._emscripten_bind_PointAttribute___destroy___0=function(){return a.asm._emscripten_bind_PointAttribute___destroy___0.apply(null,arguments)},On=a._emscripten_bind_PointAttribute_attribute_type_0=function(){return a.asm._emscripten_bind_PointAttribute_attribute_type_0.apply(null,arguments)},Sn=a._emscripten_bind_PointAttribute_byte_offset_0=function(){return a.asm._emscripten_bind_PointAttribute_byte_offset_0.apply(null,arguments)},Bn=a._emscripten_bind_PointAttribute_byte_stride_0=function(){return a.asm._emscripten_bind_PointAttribute_byte_stride_0.apply(null,arguments)},Ln=a._emscripten_bind_PointAttribute_data_type_0=function(){return a.asm._emscripten_bind_PointAttribute_data_type_0.apply(null,arguments)},Mn=a._emscripten_bind_PointAttribute_normalized_0=function(){return a.asm._emscripten_bind_PointAttribute_normalized_0.apply(null,arguments)},Rn=a._emscripten_bind_PointAttribute_num_components_0=function(){return a.asm._emscripten_bind_PointAttribute_num_components_0.apply(null,arguments)},Nn=a._emscripten_bind_PointAttribute_size_0=function(){return a.asm._emscripten_bind_PointAttribute_size_0.apply(null,arguments)},Un=a._emscripten_bind_PointAttribute_unique_id_0=function(){return a.asm._emscripten_bind_PointAttribute_unique_id_0.apply(null,arguments)},kn=a._emscripten_bind_PointCloud_PointCloud_0=function(){return a.asm._emscripten_bind_PointCloud_PointCloud_0.apply(null,arguments)},jn=a._emscripten_bind_PointCloud___destroy___0=function(){return a.asm._emscripten_bind_PointCloud___destroy___0.apply(null,arguments)},Xn=a._emscripten_bind_PointCloud_num_attributes_0=function(){return a.asm._emscripten_bind_PointCloud_num_attributes_0.apply(null,arguments)},Gn=a._emscripten_bind_PointCloud_num_points_0=function(){return a.asm._emscripten_bind_PointCloud_num_points_0.apply(null,arguments)},Qn=a._emscripten_bind_Status___destroy___0=function(){return a.asm._emscripten_bind_Status___destroy___0.apply(null,arguments)},Yn=a._emscripten_bind_Status_code_0=function(){return a.asm._emscripten_bind_Status_code_0.apply(null,arguments)},zn=a._emscripten_bind_Status_error_msg_0=function(){return a.asm._emscripten_bind_Status_error_msg_0.apply(null,arguments)},Wn=a._emscripten_bind_Status_ok_0=function(){return a.asm._emscripten_bind_Status_ok_0.apply(null,arguments)},Hn=a._emscripten_bind_VoidPtr___destroy___0=function(){return a.asm._emscripten_bind_VoidPtr___destroy___0.apply(null,arguments)},Vn=a._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_INVALID_TRANSFORM=function(){return a.asm._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_INVALID_TRANSFORM.apply(null,arguments)},Kn=a._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_NO_TRANSFORM=function(){return a.asm._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_NO_TRANSFORM.apply(null,arguments)},qn=a._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_OCTAHEDRON_TRANSFORM=function(){return a.asm._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_OCTAHEDRON_TRANSFORM.apply(null,arguments)},Zn=a._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_QUANTIZATION_TRANSFORM=function(){return a.asm._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_QUANTIZATION_TRANSFORM.apply(null,arguments)},Jn=a._emscripten_enum_draco_EncodedGeometryType_INVALID_GEOMETRY_TYPE=function(){return a.asm._emscripten_enum_draco_EncodedGeometryType_INVALID_GEOMETRY_TYPE.apply(null,arguments)},$n=a._emscripten_enum_draco_EncodedGeometryType_POINT_CLOUD=function(){return a.asm._emscripten_enum_draco_EncodedGeometryType_POINT_CLOUD.apply(null,arguments)},er=a._emscripten_enum_draco_EncodedGeometryType_TRIANGULAR_MESH=function(){return a.asm._emscripten_enum_draco_EncodedGeometryType_TRIANGULAR_MESH.apply(null,arguments)},tr=a._emscripten_enum_draco_GeometryAttribute_Type_COLOR=function(){return a.asm._emscripten_enum_draco_GeometryAttribute_Type_COLOR.apply(null,arguments)},nr=a._emscripten_enum_draco_GeometryAttribute_Type_GENERIC=function(){return a.asm._emscripten_enum_draco_GeometryAttribute_Type_GENERIC.apply(null,arguments)},rr=a._emscripten_enum_draco_GeometryAttribute_Type_INVALID=function(){return a.asm._emscripten_enum_draco_GeometryAttribute_Type_INVALID.apply(null,arguments)},or=a._emscripten_enum_draco_GeometryAttribute_Type_NORMAL=function(){return a.asm._emscripten_enum_draco_GeometryAttribute_Type_NORMAL.apply(null,arguments)},ir=a._emscripten_enum_draco_GeometryAttribute_Type_POSITION=function(){return a.asm._emscripten_enum_draco_GeometryAttribute_Type_POSITION.apply(null,arguments)},ar=a._emscripten_enum_draco_GeometryAttribute_Type_TEX_COORD=function(){return a.asm._emscripten_enum_draco_GeometryAttribute_Type_TEX_COORD.apply(null,arguments)},sr=a._emscripten_enum_draco_StatusCode_DRACO_ERROR=function(){return a.asm._emscripten_enum_draco_StatusCode_DRACO_ERROR.apply(null,arguments)},_r=a._emscripten_enum_draco_StatusCode_INVALID_PARAMETER=function(){return a.asm._emscripten_enum_draco_StatusCode_INVALID_PARAMETER.apply(null,arguments)},ur=a._emscripten_enum_draco_StatusCode_IO_ERROR=function(){return a.asm._emscripten_enum_draco_StatusCode_IO_ERROR.apply(null,arguments)},lr=a._emscripten_enum_draco_StatusCode_OK=function(){return a.asm._emscripten_enum_draco_StatusCode_OK.apply(null,arguments)},cr=a._emscripten_enum_draco_StatusCode_UNKNOWN_VERSION=function(){return a.asm._emscripten_enum_draco_StatusCode_UNKNOWN_VERSION.apply(null,arguments)},dr=a._emscripten_enum_draco_StatusCode_UNSUPPORTED_VERSION=function(){return a.asm._emscripten_enum_draco_StatusCode_UNSUPPORTED_VERSION.apply(null,arguments)},pr=(a._emscripten_replace_memory=function(){return a.asm._emscripten_replace_memory.apply(null,arguments)},a._free=function(){return a.asm._free.apply(null,arguments)},a._malloc=function(){return a.asm._malloc.apply(null,arguments)});a._memcpy=function(){return a.asm._memcpy.apply(null,arguments)},a._memmove=function(){return a.asm._memmove.apply(null,arguments)},a._memset=function(){return a.asm._memset.apply(null,arguments)},a._sbrk=function(){return a.asm._sbrk.apply(null,arguments)},a.establishStackSpace=function(){return a.asm.establishStackSpace.apply(null,arguments)},a.stackAlloc=function(){return a.asm.stackAlloc.apply(null,arguments)},a.stackRestore=function(){return a.asm.stackRestore.apply(null,arguments)},a.stackSave=function(){return a.asm.stackSave.apply(null,arguments)},a.dynCall_ii=function(){return a.asm.dynCall_ii.apply(null,arguments)},a.dynCall_iidiiii=function(){return a.asm.dynCall_iidiiii.apply(null,arguments)},a.dynCall_iii=function(){return a.asm.dynCall_iii.apply(null,arguments)},a.dynCall_iiii=function(){return a.asm.dynCall_iiii.apply(null,arguments)},a.dynCall_iiiiiii=function(){return a.asm.dynCall_iiiiiii.apply(null,arguments)},a.dynCall_jiji=function(){return a.asm.dynCall_jiji.apply(null,arguments)},a.dynCall_v=function(){return a.asm.dynCall_v.apply(null,arguments)},a.dynCall_vi=function(){return a.asm.dynCall_vi.apply(null,arguments)},a.dynCall_vii=function(){return a.asm.dynCall_vii.apply(null,arguments)},a.dynCall_viii=function(){return a.asm.dynCall_viii.apply(null,arguments)},a.dynCall_viiii=function(){return a.asm.dynCall_viiii.apply(null,arguments)},a.dynCall_viiiii=function(){return a.asm.dynCall_viiiii.apply(null,arguments)},a.dynCall_viiiiii=function(){return a.asm.dynCall_viiiiii.apply(null,arguments)};function fr(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function hr(e){function t(){He||(He=!0,O||(te(),ne(),a.onRuntimeInitialized&&a.onRuntimeInitialized(),re()))}e=e||d,se>0||(ee(),se>0||(a.setStatus?(a.setStatus("Running..."),setTimeout((function(){setTimeout((function(){a.setStatus("")}),1),t()}),1)):t()))}function mr(e){throw a.onAbort&&a.onAbort(e),v(e+=""),x(e),O=!0,1,"abort("+e+"). Build with -s ASSERTIONS=1 for more info."}if(a.asm=We,a.then=function(e){if(He)e(a);else{var t=a.onRuntimeInitialized;a.onRuntimeInitialized=function(){t&&t(),e(a)}}return a},ue=function e(){He||hr(),He||(ue=e)},a.run=hr,a.abort=mr,a.preInit)for("function"==typeof a.preInit&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.pop()();function Ar(){}function yr(e){return(e||Ar).__cache__}function br(e,t){var n=yr(t),r=n[e];return r||((r=Object.create((t||Ar).prototype)).ptr=e,n[e]=r)}function Er(e,t){return br(e.ptr,t)}function gr(e){if(!e.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";e.__destroy__(),delete yr(e.__class__)[e.ptr]}function Fr(e,t){return e.ptr===t.ptr}function vr(e){return e.ptr}function xr(e){return e.__class__}a.noExitRuntime=!0,hr(),Ar.prototype=Object.create(Ar.prototype),Ar.prototype.constructor=Ar,Ar.prototype.__class__=Ar,Ar.__cache__={},a.WrapperObject=Ar,a.getCache=yr,a.wrapPointer=br,a.castObject=Er,a.NULL=br(0),a.destroy=gr,a.compare=Fr,a.getPointer=vr,a.getClass=xr;var Tr={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(Tr.needed){for(var e=0;e<Tr.temps.length;e++)a._free(Tr.temps[e]);Tr.temps.length=0,a._free(Tr.buffer),Tr.buffer=0,Tr.size+=Tr.needed,Tr.needed=0}Tr.buffer||(Tr.size+=128,Tr.buffer=a._malloc(Tr.size),S(Tr.buffer)),Tr.pos=0},alloc:function(e,t){S(Tr.buffer);var n,r=t.BYTES_PER_ELEMENT,o=e.length*r;return o=o+7&-8,Tr.pos+o>=Tr.size?(S(o>0),Tr.needed+=o,n=a._malloc(o),Tr.temps.push(n)):(n=Tr.buffer+Tr.pos,Tr.pos+=o),n},copy:function(e,t,n){var r=n;switch(t.BYTES_PER_ELEMENT){case 2:r>>=1;break;case 4:r>>=2;break;case 8:r>>=3}for(var o=0;o<e.length;o++)t[r+o]=e[o]}};function Pr(e){if("string"==typeof e){var t=Qe(e),n=Tr.alloc(t,k);return Tr.copy(t,k,n),n}return e}function Dr(e){if("object"===o(e)){var t=Tr.alloc(e,k);return Tr.copy(e,k,t),t}return e}function Cr(){throw"cannot construct a Status, no constructor in IDL"}function wr(){this.ptr=Zt(),yr(wr)[this.ptr]=this}function Ir(){this.ptr=kn(),yr(Ir)[this.ptr]=this}function Or(){this.ptr=an(),yr(Or)[this.ptr]=this}function Sr(){this.ptr=tn(),yr(Sr)[this.ptr]=this}function Br(){this.ptr=Ke(),yr(Br)[this.ptr]=this}function Lr(){this.ptr=wn(),yr(Lr)[this.ptr]=this}function Mr(){this.ptr=it(),yr(Mr)[this.ptr]=this}function Rr(){this.ptr=$e(),yr(Rr)[this.ptr]=this}function Nr(){this.ptr=Ht(),yr(Nr)[this.ptr]=this}function Ur(){this.ptr=vn(),yr(Ur)[this.ptr]=this}function kr(){this.ptr=kt(),yr(kr)[this.ptr]=this}function jr(){this.ptr=Mt(),yr(jr)[this.ptr]=this}function Xr(){this.ptr=ln(),yr(Xr)[this.ptr]=this}function Gr(){this.ptr=_t(),yr(Gr)[this.ptr]=this}function Qr(){this.ptr=pt(),yr(Qr)[this.ptr]=this}function Yr(){this.ptr=dn(),yr(Yr)[this.ptr]=this}function zr(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Wr(){this.ptr=Qt(),yr(Wr)[this.ptr]=this}function Hr(){this.ptr=Pn(),yr(Hr)[this.ptr]=this}return Cr.prototype=Object.create(Ar.prototype),Cr.prototype.constructor=Cr,Cr.prototype.__class__=Cr,Cr.__cache__={},a.Status=Cr,Cr.prototype.code=Cr.prototype.code=function(){var e=this.ptr;return Yn(e)},Cr.prototype.ok=Cr.prototype.ok=function(){var e=this.ptr;return!!Wn(e)},Cr.prototype.error_msg=Cr.prototype.error_msg=function(){var e=this.ptr;return M(zn(e))},Cr.prototype.__destroy__=Cr.prototype.__destroy__=function(){var e=this.ptr;Qn(e)},wr.prototype=Object.create(Ar.prototype),wr.prototype.constructor=wr,wr.prototype.__class__=wr,wr.__cache__={},a.DracoUInt16Array=wr,wr.prototype.GetValue=wr.prototype.GetValue=function(e){var t=this.ptr;return e&&"object"===o(e)&&(e=e.ptr),Jt(t,e)},wr.prototype.size=wr.prototype.size=function(){var e=this.ptr;return en(e)},wr.prototype.__destroy__=wr.prototype.__destroy__=function(){var e=this.ptr;$t(e)},Ir.prototype=Object.create(Ar.prototype),Ir.prototype.constructor=Ir,Ir.prototype.__class__=Ir,Ir.__cache__={},a.PointCloud=Ir,Ir.prototype.num_attributes=Ir.prototype.num_attributes=function(){var e=this.ptr;return Xn(e)},Ir.prototype.num_points=Ir.prototype.num_points=function(){var e=this.ptr;return Gn(e)},Ir.prototype.__destroy__=Ir.prototype.__destroy__=function(){var e=this.ptr;jn(e)},Or.prototype=Object.create(Ar.prototype),Or.prototype.constructor=Or,Or.prototype.__class__=Or,Or.__cache__={},a.DracoUInt8Array=Or,Or.prototype.GetValue=Or.prototype.GetValue=function(e){var t=this.ptr;return e&&"object"===o(e)&&(e=e.ptr),sn(t,e)},Or.prototype.size=Or.prototype.size=function(){var e=this.ptr;return un(e)},Or.prototype.__destroy__=Or.prototype.__destroy__=function(){var e=this.ptr;_n(e)},Sr.prototype=Object.create(Ar.prototype),Sr.prototype.constructor=Sr,Sr.prototype.__class__=Sr,Sr.__cache__={},a.DracoUInt32Array=Sr,Sr.prototype.GetValue=Sr.prototype.GetValue=function(e){var t=this.ptr;return e&&"object"===o(e)&&(e=e.ptr),nn(t,e)},Sr.prototype.size=Sr.prototype.size=function(){var e=this.ptr;return on(e)},Sr.prototype.__destroy__=Sr.prototype.__destroy__=function(){var e=this.ptr;rn(e)},Br.prototype=Object.create(Ar.prototype),Br.prototype.constructor=Br,Br.prototype.__class__=Br,Br.__cache__={},a.AttributeOctahedronTransform=Br,Br.prototype.InitFromAttribute=Br.prototype.InitFromAttribute=function(e){var t=this.ptr;return e&&"object"===o(e)&&(e=e.ptr),!!qe(t,e)},Br.prototype.quantization_bits=Br.prototype.quantization_bits=function(){var e=this.ptr;return Je(e)},Br.prototype.__destroy__=Br.prototype.__destroy__=function(){var e=this.ptr;Ze(e)},Lr.prototype=Object.create(Ar.prototype),Lr.prototype.constructor=Lr,Lr.prototype.__class__=Lr,Lr.__cache__={},a.PointAttribute=Lr,Lr.prototype.size=Lr.prototype.size=function(){var e=this.ptr;return Nn(e)},Lr.prototype.GetAttributeTransformData=Lr.prototype.GetAttributeTransformData=function(){var e=this.ptr;return br(Cn(e),Mr)},Lr.prototype.attribute_type=Lr.prototype.attribute_type=function(){var e=this.ptr;return On(e)},Lr.prototype.data_type=Lr.prototype.data_type=function(){var e=this.ptr;return Ln(e)},Lr.prototype.num_components=Lr.prototype.num_components=function(){var e=this.ptr;return Rn(e)},Lr.prototype.normalized=Lr.prototype.normalized=function(){var e=this.ptr;return!!Mn(e)},Lr.prototype.byte_stride=Lr.prototype.byte_stride=function(){var e=this.ptr;return Bn(e)},Lr.prototype.byte_offset=Lr.prototype.byte_offset=function(){var e=this.ptr;return Sn(e)},Lr.prototype.unique_id=Lr.prototype.unique_id=function(){var e=this.ptr;return Un(e)},Lr.prototype.__destroy__=Lr.prototype.__destroy__=function(){var e=this.ptr;In(e)},Mr.prototype=Object.create(Ar.prototype),Mr.prototype.constructor=Mr,Mr.prototype.__class__=Mr,Mr.__cache__={},a.AttributeTransformData=Mr,Mr.prototype.transform_type=Mr.prototype.transform_type=function(){var e=this.ptr;return st(e)},Mr.prototype.__destroy__=Mr.prototype.__destroy__=function(){var e=this.ptr;at(e)},Rr.prototype=Object.create(Ar.prototype),Rr.prototype.constructor=Rr,Rr.prototype.__class__=Rr,Rr.__cache__={},a.AttributeQuantizationTransform=Rr,Rr.prototype.InitFromAttribute=Rr.prototype.InitFromAttribute=function(e){var t=this.ptr;return e&&"object"===o(e)&&(e=e.ptr),!!et(t,e)},Rr.prototype.quantization_bits=Rr.prototype.quantization_bits=function(){var e=this.ptr;return rt(e)},Rr.prototype.min_value=Rr.prototype.min_value=function(e){var t=this.ptr;return e&&"object"===o(e)&&(e=e.ptr),nt(t,e)},Rr.prototype.range=Rr.prototype.range=function(){var e=this.ptr;return ot(e)},Rr.prototype.__destroy__=Rr.prototype.__destroy__=function(){var e=this.ptr;tt(e)},Nr.prototype=Object.create(Ar.prototype),Nr.prototype.constructor=Nr,Nr.prototype.__class__=Nr,Nr.__cache__={},a.DracoInt8Array=Nr,Nr.prototype.GetValue=Nr.prototype.GetValue=function(e){var t=this.ptr;return e&&"object"===o(e)&&(e=e.ptr),Vt(t,e)},Nr.prototype.size=Nr.prototype.size=function(){var e=this.ptr;return qt(e)},Nr.prototype.__destroy__=Nr.prototype.__destroy__=function(){var e=this.ptr;Kt(e)},Ur.prototype=Object.create(Ar.prototype),Ur.prototype.constructor=Ur,Ur.prototype.__class__=Ur,Ur.__cache__={},a.MetadataQuerier=Ur,Ur.prototype.HasEntry=Ur.prototype.HasEntry=function(e,t){var n=this.ptr;return Tr.prepare(),e&&"object"===o(e)&&(e=e.ptr),t=t&&"object"===o(t)?t.ptr:Pr(t),!!Fn(n,e,t)},Ur.prototype.GetIntEntry=Ur.prototype.GetIntEntry=function(e,t){var n=this.ptr;return Tr.prepare(),e&&"object"===o(e)&&(e=e.ptr),t=t&&"object"===o(t)?t.ptr:Pr(t),En(n,e,t)},Ur.prototype.GetIntEntryArray=Ur.prototype.GetIntEntryArray=function(e,t,n){var r=this.ptr;Tr.prepare(),e&&"object"===o(e)&&(e=e.ptr),t=t&&"object"===o(t)?t.ptr:Pr(t),n&&"object"===o(n)&&(n=n.ptr),bn(r,e,t,n)},Ur.prototype.GetDoubleEntry=Ur.prototype.GetDoubleEntry=function(e,t){var n=this.ptr;return Tr.prepare(),e&&"object"===o(e)&&(e=e.ptr),t=t&&"object"===o(t)?t.ptr:Pr(t),An(n,e,t)},Ur.prototype.GetStringEntry=Ur.prototype.GetStringEntry=function(e,t){var n=this.ptr;return Tr.prepare(),e&&"object"===o(e)&&(e=e.ptr),t=t&&"object"===o(t)?t.ptr:Pr(t),M(gn(n,e,t))},Ur.prototype.NumEntries=Ur.prototype.NumEntries=function(e){var t=this.ptr;return e&&"object"===o(e)&&(e=e.ptr),xn(t,e)},Ur.prototype.GetEntryName=Ur.prototype.GetEntryName=function(e,t){var n=this.ptr;return e&&"object"===o(e)&&(e=e.ptr),t&&"object"===o(t)&&(t=t.ptr),M(yn(n,e,t))},Ur.prototype.__destroy__=Ur.prototype.__destroy__=function(){var e=this.ptr;Tn(e)},kr.prototype=Object.create(Ar.prototype),kr.prototype.constructor=kr,kr.prototype.__class__=kr,kr.__cache__={},a.DracoInt16Array=kr,kr.prototype.GetValue=kr.prototype.GetValue=function(e){var t=this.ptr;return e&&"object"===o(e)&&(e=e.ptr),jt(t,e)},kr.prototype.size=kr.prototype.size=function(){var e=this.ptr;return Gt(e)},kr.prototype.__destroy__=kr.prototype.__destroy__=function(){var e=this.ptr;Xt(e)},jr.prototype=Object.create(Ar.prototype),jr.prototype.constructor=jr,jr.prototype.__class__=jr,jr.__cache__={},a.DracoFloat32Array=jr,jr.prototype.GetValue=jr.prototype.GetValue=function(e){var t=this.ptr;return e&&"object"===o(e)&&(e=e.ptr),Rt(t,e)},jr.prototype.size=jr.prototype.size=function(){var e=this.ptr;return Ut(e)},jr.prototype.__destroy__=jr.prototype.__destroy__=function(){var e=this.ptr;Nt(e)},Xr.prototype=Object.create(Ar.prototype),Xr.prototype.constructor=Xr,Xr.prototype.__class__=Xr,Xr.__cache__={},a.GeometryAttribute=Xr,Xr.prototype.__destroy__=Xr.prototype.__destroy__=function(){var e=this.ptr;cn(e)},Gr.prototype=Object.create(Ar.prototype),Gr.prototype.constructor=Gr,Gr.prototype.__class__=Gr,Gr.__cache__={},a.DecoderBuffer=Gr,Gr.prototype.Init=Gr.prototype.Init=function(e,t){var n=this.ptr;Tr.prepare(),"object"==o(e)&&(e=Dr(e)),t&&"object"===o(t)&&(t=t.ptr),ut(n,e,t)},Gr.prototype.__destroy__=Gr.prototype.__destroy__=function(){var e=this.ptr;lt(e)},Qr.prototype=Object.create(Ar.prototype),Qr.prototype.constructor=Qr,Qr.prototype.__class__=Qr,Qr.__cache__={},a.Decoder=Qr,Qr.prototype.GetEncodedGeometryType=Qr.prototype.GetEncodedGeometryType=function(e){var t=this.ptr;return e&&"object"===o(e)&&(e=e.ptr),wt(t,e)},Qr.prototype.DecodeBufferToPointCloud=Qr.prototype.DecodeBufferToPointCloud=function(e,t){var n=this.ptr;return e&&"object"===o(e)&&(e=e.ptr),t&&"object"===o(t)&&(t=t.ptr),br(dt(n,e,t),Cr)},Qr.prototype.DecodeBufferToMesh=Qr.prototype.DecodeBufferToMesh=function(e,t){var n=this.ptr;return e&&"object"===o(e)&&(e=e.ptr),t&&"object"===o(t)&&(t=t.ptr),br(ct(n,e,t),Cr)},Qr.prototype.GetAttributeId=Qr.prototype.GetAttributeId=function(e,t){var n=this.ptr;return e&&"object"===o(e)&&(e=e.ptr),t&&"object"===o(t)&&(t=t.ptr),bt(n,e,t)},Qr.prototype.GetAttributeIdByName=Qr.prototype.GetAttributeIdByName=function(e,t){var n=this.ptr;return Tr.prepare(),e&&"object"===o(e)&&(e=e.ptr),t=t&&"object"===o(t)?t.ptr:Pr(t),yt(n,e,t)},Qr.prototype.GetAttributeIdByMetadataEntry=Qr.prototype.GetAttributeIdByMetadataEntry=function(e,t,n){var r=this.ptr;return Tr.prepare(),e&&"object"===o(e)&&(e=e.ptr),t=t&&"object"===o(t)?t.ptr:Pr(t),n=n&&"object"===o(n)?n.ptr:Pr(n),At(r,e,t,n)},Qr.prototype.GetAttribute=Qr.prototype.GetAttribute=function(e,t){var n=this.ptr;return e&&"object"===o(e)&&(e=e.ptr),t&&"object"===o(t)&&(t=t.ptr),br(Ct(n,e,t),Lr)},Qr.prototype.GetAttributeByUniqueId=Qr.prototype.GetAttributeByUniqueId=function(e,t){var n=this.ptr;return e&&"object"===o(e)&&(e=e.ptr),t&&"object"===o(t)&&(t=t.ptr),br(ft(n,e,t),Lr)},Qr.prototype.GetMetadata=Qr.prototype.GetMetadata=function(e){var t=this.ptr;return e&&"object"===o(e)&&(e=e.ptr),br(Ot(t,e),Hr)},Qr.prototype.GetAttributeMetadata=Qr.prototype.GetAttributeMetadata=function(e,t){var n=this.ptr;return e&&"object"===o(e)&&(e=e.ptr),t&&"object"===o(t)&&(t=t.ptr),br(xt(n,e,t),Hr)},Qr.prototype.GetFaceFromMesh=Qr.prototype.GetFaceFromMesh=function(e,t,n){var r=this.ptr;return e&&"object"===o(e)&&(e=e.ptr),t&&"object"===o(t)&&(t=t.ptr),n&&"object"===o(n)&&(n=n.ptr),!!It(r,e,t,n)},Qr.prototype.GetTriangleStripsFromMesh=Qr.prototype.GetTriangleStripsFromMesh=function(e,t){var n=this.ptr;return e&&"object"===o(e)&&(e=e.ptr),t&&"object"===o(t)&&(t=t.ptr),St(n,e,t)},Qr.prototype.GetAttributeFloat=Qr.prototype.GetAttributeFloat=function(e,t,n){var r=this.ptr;return e&&"object"===o(e)&&(e=e.ptr),t&&"object"===o(t)&&(t=t.ptr),n&&"object"===o(n)&&(n=n.ptr),!!mt(r,e,t,n)},Qr.prototype.GetAttributeFloatForAllPoints=Qr.prototype.GetAttributeFloatForAllPoints=function(e,t,n){var r=this.ptr;return e&&"object"===o(e)&&(e=e.ptr),t&&"object"===o(t)&&(t=t.ptr),n&&"object"===o(n)&&(n=n.ptr),!!ht(r,e,t,n)},Qr.prototype.GetAttributeIntForAllPoints=Qr.prototype.GetAttributeIntForAllPoints=function(e,t,n){var r=this.ptr;return e&&"object"===o(e)&&(e=e.ptr),t&&"object"===o(t)&&(t=t.ptr),n&&"object"===o(n)&&(n=n.ptr),!!vt(r,e,t,n)},Qr.prototype.GetAttributeInt8ForAllPoints=Qr.prototype.GetAttributeInt8ForAllPoints=function(e,t,n){var r=this.ptr;return e&&"object"===o(e)&&(e=e.ptr),t&&"object"===o(t)&&(t=t.ptr),n&&"object"===o(n)&&(n=n.ptr),!!Ft(r,e,t,n)},Qr.prototype.GetAttributeUInt8ForAllPoints=Qr.prototype.GetAttributeUInt8ForAllPoints=function(e,t,n){var r=this.ptr;return e&&"object"===o(e)&&(e=e.ptr),t&&"object"===o(t)&&(t=t.ptr),n&&"object"===o(n)&&(n=n.ptr),!!Dt(r,e,t,n)},Qr.prototype.GetAttributeInt16ForAllPoints=Qr.prototype.GetAttributeInt16ForAllPoints=function(e,t,n){var r=this.ptr;return e&&"object"===o(e)&&(e=e.ptr),t&&"object"===o(t)&&(t=t.ptr),n&&"object"===o(n)&&(n=n.ptr),!!Et(r,e,t,n)},Qr.prototype.GetAttributeUInt16ForAllPoints=Qr.prototype.GetAttributeUInt16ForAllPoints=function(e,t,n){var r=this.ptr;return e&&"object"===o(e)&&(e=e.ptr),t&&"object"===o(t)&&(t=t.ptr),n&&"object"===o(n)&&(n=n.ptr),!!Tt(r,e,t,n)},Qr.prototype.GetAttributeInt32ForAllPoints=Qr.prototype.GetAttributeInt32ForAllPoints=function(e,t,n){var r=this.ptr;return e&&"object"===o(e)&&(e=e.ptr),t&&"object"===o(t)&&(t=t.ptr),n&&"object"===o(n)&&(n=n.ptr),!!gt(r,e,t,n)},Qr.prototype.GetAttributeUInt32ForAllPoints=Qr.prototype.GetAttributeUInt32ForAllPoints=function(e,t,n){var r=this.ptr;return e&&"object"===o(e)&&(e=e.ptr),t&&"object"===o(t)&&(t=t.ptr),n&&"object"===o(n)&&(n=n.ptr),!!Pt(r,e,t,n)},Qr.prototype.SkipAttributeTransform=Qr.prototype.SkipAttributeTransform=function(e){var t=this.ptr;e&&"object"===o(e)&&(e=e.ptr),Bt(t,e)},Qr.prototype.__destroy__=Qr.prototype.__destroy__=function(){var e=this.ptr;Lt(e)},Yr.prototype=Object.create(Ar.prototype),Yr.prototype.constructor=Yr,Yr.prototype.__class__=Yr,Yr.__cache__={},a.Mesh=Yr,Yr.prototype.num_faces=Yr.prototype.num_faces=function(){var e=this.ptr;return hn(e)},Yr.prototype.num_attributes=Yr.prototype.num_attributes=function(){var e=this.ptr;return fn(e)},Yr.prototype.num_points=Yr.prototype.num_points=function(){var e=this.ptr;return mn(e)},Yr.prototype.__destroy__=Yr.prototype.__destroy__=function(){var e=this.ptr;pn(e)},zr.prototype=Object.create(Ar.prototype),zr.prototype.constructor=zr,zr.prototype.__class__=zr,zr.__cache__={},a.VoidPtr=zr,zr.prototype.__destroy__=zr.prototype.__destroy__=function(){var e=this.ptr;Hn(e)},Wr.prototype=Object.create(Ar.prototype),Wr.prototype.constructor=Wr,Wr.prototype.__class__=Wr,Wr.__cache__={},a.DracoInt32Array=Wr,Wr.prototype.GetValue=Wr.prototype.GetValue=function(e){var t=this.ptr;return e&&"object"===o(e)&&(e=e.ptr),Yt(t,e)},Wr.prototype.size=Wr.prototype.size=function(){var e=this.ptr;return Wt(e)},Wr.prototype.__destroy__=Wr.prototype.__destroy__=function(){var e=this.ptr;zt(e)},Hr.prototype=Object.create(Ar.prototype),Hr.prototype.constructor=Hr,Hr.prototype.__class__=Hr,Hr.__cache__={},a.Metadata=Hr,Hr.prototype.__destroy__=Hr.prototype.__destroy__=function(){var e=this.ptr;Dn(e)},function(){function e(){a.OK=lr(),a.DRACO_ERROR=sr(),a.IO_ERROR=ur(),a.INVALID_PARAMETER=_r(),a.UNSUPPORTED_VERSION=dr(),a.UNKNOWN_VERSION=cr(),a.INVALID_GEOMETRY_TYPE=Jn(),a.POINT_CLOUD=$n(),a.TRIANGULAR_MESH=er(),a.ATTRIBUTE_INVALID_TRANSFORM=Vn(),a.ATTRIBUTE_NO_TRANSFORM=Kn(),a.ATTRIBUTE_QUANTIZATION_TRANSFORM=Zn(),a.ATTRIBUTE_OCTAHEDRON_TRANSFORM=qn(),a.INVALID=rr(),a.POSITION=ir(),a.NORMAL=or(),a.COLOR=tr(),a.TEX_COORD=ar(),a.GENERIC=nr()}$?e():ie(e)}(),"function"==typeof a.onModuleParsed&&a.onModuleParsed(),t}}).call(this,n(65),"/")},130:function(e,t,n){"use strict";n.d(t,"a",(function(){return le}));n(54),n(113),n(178),n(91),n(124),n(83),n(179),n(35),n(27),n(61),n(62),n(180),n(107),n(90),n(51),n(40),n(181),n(89),n(41),n(42),n(21);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=e.__state.conversionName.toString(),r=Math.round(e.r),o=Math.round(e.g),i=Math.round(e.b),a=e.a,s=Math.round(e.h),_=e.s.toFixed(1),u=e.v.toFixed(1);if(t||"THREE_CHAR_HEX"===n||"SIX_CHAR_HEX"===n){for(var l=e.hex.toString(16);l.length<6;)l="0"+l;return"#"+l}return"CSS_RGB"===n?"rgb("+r+","+o+","+i+")":"CSS_RGBA"===n?"rgba("+r+","+o+","+i+","+a+")":"HEX"===n?"0x"+e.hex.toString(16):"RGB_ARRAY"===n?"["+r+","+o+","+i+"]":"RGBA_ARRAY"===n?"["+r+","+o+","+i+","+a+"]":"RGB_OBJ"===n?"{r:"+r+",g:"+o+",b:"+i+"}":"RGBA_OBJ"===n?"{r:"+r+",g:"+o+",b:"+i+",a:"+a+"}":"HSV_OBJ"===n?"{h:"+s+",s:"+_+",v:"+u+"}":"HSVA_OBJ"===n?"{h:"+s+",s:"+_+",v:"+u+",a:"+a+"}":"unknown format"}var i=[].forEach,a=[].slice,s={BREAK:{},extend:function(e){return this.each(a.call(arguments,1),(function(t){(this.isObject(t)?Object.keys(t):[]).forEach(function(n){this.isUndefined(t[n])||(e[n]=t[n])}.bind(this))}),this),e},defaults:function(e){return this.each(a.call(arguments,1),(function(t){(this.isObject(t)?Object.keys(t):[]).forEach(function(n){this.isUndefined(e[n])&&(e[n]=t[n])}.bind(this))}),this),e},compose:function(){var e=a.call(arguments);return function(){for(var t=a.call(arguments),n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},each:function(e,t,n){if(e)if(i&&e.forEach&&e.forEach===i)e.forEach(t,n);else if(e.length===e.length+0){var r,o=void 0;for(o=0,r=e.length;o<r;o++)if(o in e&&t.call(n,e[o],o)===this.BREAK)return}else for(var a in e)if(t.call(n,e[a],a)===this.BREAK)return},defer:function(e){setTimeout(e,0)},debounce:function(e,t,n){var r=void 0;return function(){var o=this,i=arguments;function a(){r=null,n||e.apply(o,i)}var s=n||!r;clearTimeout(r),r=setTimeout(a,t),s&&e.apply(o,i)}},toArray:function(e){return e.toArray?e.toArray():a.call(e)},isUndefined:function(e){return void 0===e},isNull:function(e){return null===e},isNaN:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return isNaN(e)})),isArray:Array.isArray||function(e){return e.constructor===Array},isObject:function(e){return e===Object(e)},isNumber:function(e){return e===e+0},isString:function(e){return e===e+""},isBoolean:function(e){return!1===e||!0===e},isFunction:function(e){return"[object Function]"==={}.toString.call(e)}},_=[{litmus:s.isString,conversions:{THREE_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString()+t[1].toString()+t[2].toString()+t[2].toString()+t[3].toString()+t[3].toString(),0)}},write:o},SIX_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9]{6})$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString(),0)}},write:o},CSS_RGB:{read:function(e){var t=e.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3])}},write:o},CSS_RGBA:{read:function(e){var t=e.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3]),a:parseFloat(t[4])}},write:o}}},{litmus:s.isNumber,conversions:{HEX:{read:function(e){return{space:"HEX",hex:e,conversionName:"HEX"}},write:function(e){return e.hex}}}},{litmus:s.isArray,conversions:{RGB_ARRAY:{read:function(e){return 3===e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2]}},write:function(e){return[e.r,e.g,e.b]}},RGBA_ARRAY:{read:function(e){return 4===e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2],a:e[3]}},write:function(e){return[e.r,e.g,e.b,e.a]}}}},{litmus:s.isObject,conversions:{RGBA_OBJ:{read:function(e){return!!(s.isNumber(e.r)&&s.isNumber(e.g)&&s.isNumber(e.b)&&s.isNumber(e.a))&&{space:"RGB",r:e.r,g:e.g,b:e.b,a:e.a}},write:function(e){return{r:e.r,g:e.g,b:e.b,a:e.a}}},RGB_OBJ:{read:function(e){return!!(s.isNumber(e.r)&&s.isNumber(e.g)&&s.isNumber(e.b))&&{space:"RGB",r:e.r,g:e.g,b:e.b}},write:function(e){return{r:e.r,g:e.g,b:e.b}}},HSVA_OBJ:{read:function(e){return!!(s.isNumber(e.h)&&s.isNumber(e.s)&&s.isNumber(e.v)&&s.isNumber(e.a))&&{space:"HSV",h:e.h,s:e.s,v:e.v,a:e.a}},write:function(e){return{h:e.h,s:e.s,v:e.v,a:e.a}}},HSV_OBJ:{read:function(e){return!!(s.isNumber(e.h)&&s.isNumber(e.s)&&s.isNumber(e.v))&&{space:"HSV",h:e.h,s:e.s,v:e.v}},write:function(e){return{h:e.h,s:e.s,v:e.v}}}}}],u=void 0,l=void 0,c=function(){l=!1;var e=arguments.length>1?s.toArray(arguments):arguments[0];return s.each(_,(function(t){if(t.litmus(e))return s.each(t.conversions,(function(t,n){if(u=t.read(e),!1===l&&!1!==u)return l=u,u.conversionName=n,u.conversion=t,s.BREAK})),s.BREAK})),l},d=void 0,p={hsv_to_rgb:function(e,t,n){var r=Math.floor(e/60)%6,o=e/60-Math.floor(e/60),i=n*(1-t),a=n*(1-o*t),s=n*(1-(1-o)*t),_=[[n,s,i],[a,n,i],[i,n,s],[i,a,n],[s,i,n],[n,i,a]][r];return{r:255*_[0],g:255*_[1],b:255*_[2]}},rgb_to_hsv:function(e,t,n){var r=Math.min(e,t,n),o=Math.max(e,t,n),i=o-r,a=void 0;return 0===o?{h:NaN,s:0,v:0}:(a=e===o?(t-n)/i:t===o?2+(n-e)/i:4+(e-t)/i,(a/=6)<0&&(a+=1),{h:360*a,s:i/o,v:o/255})},rgb_to_hex:function(e,t,n){var r=this.hex_with_component(0,2,e);return r=this.hex_with_component(r,1,t),r=this.hex_with_component(r,0,n)},component_from_hex:function(e,t){return e>>8*t&255},hex_with_component:function(e,t,n){return n<<(d=8*t)|e&~(255<<d)}},f="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)},h=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),A=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},y=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+r(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},b=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==r(t)&&"function"!=typeof t?e:t},E=function(){function e(){if(h(this,e),this.__state=c.apply(this,arguments),!1===this.__state)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return m(e,[{key:"toString",value:function(){return o(this)}},{key:"toHexString",value:function(){return o(this,!0)}},{key:"toOriginal",value:function(){return this.__state.conversion.write(this)}}]),e}();function g(e,t,n){Object.defineProperty(e,t,{get:function(){return"RGB"===this.__state.space||E.recalculateRGB(this,t,n),this.__state[t]},set:function(e){"RGB"!==this.__state.space&&(E.recalculateRGB(this,t,n),this.__state.space="RGB"),this.__state[t]=e}})}function F(e,t){Object.defineProperty(e,t,{get:function(){return"HSV"===this.__state.space||E.recalculateHSV(this),this.__state[t]},set:function(e){"HSV"!==this.__state.space&&(E.recalculateHSV(this),this.__state.space="HSV"),this.__state[t]=e}})}E.recalculateRGB=function(e,t,n){if("HEX"===e.__state.space)e.__state[t]=p.component_from_hex(e.__state.hex,n);else{if("HSV"!==e.__state.space)throw new Error("Corrupted color state");s.extend(e.__state,p.hsv_to_rgb(e.__state.h,e.__state.s,e.__state.v))}},E.recalculateHSV=function(e){var t=p.rgb_to_hsv(e.r,e.g,e.b);s.extend(e.__state,{s:t.s,v:t.v}),s.isNaN(t.h)?s.isUndefined(e.__state.h)&&(e.__state.h=0):e.__state.h=t.h},E.COMPONENTS=["r","g","b","h","s","v","hex","a"],g(E.prototype,"r",2),g(E.prototype,"g",1),g(E.prototype,"b",0),F(E.prototype,"h"),F(E.prototype,"s"),F(E.prototype,"v"),Object.defineProperty(E.prototype,"a",{get:function(){return this.__state.a},set:function(e){this.__state.a=e}}),Object.defineProperty(E.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=p.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(e){this.__state.space="HEX",this.__state.hex=e}});var v=function(){function e(t,n){h(this,e),this.initialValue=t[n],this.domElement=document.createElement("div"),this.object=t,this.property=n,this.__onChange=void 0,this.__onFinishChange=void 0}return m(e,[{key:"onChange",value:function(e){return this.__onChange=e,this}},{key:"onFinishChange",value:function(e){return this.__onFinishChange=e,this}},{key:"setValue",value:function(e){return this.object[this.property]=e,this.__onChange&&this.__onChange.call(this,e),this.updateDisplay(),this}},{key:"getValue",value:function(){return this.object[this.property]}},{key:"updateDisplay",value:function(){return this}},{key:"isModified",value:function(){return this.initialValue!==this.getValue()}}]),e}(),x={};s.each({HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},(function(e,t){s.each(e,(function(e){x[e]=t}))}));var T=/(\d+(\.\d+)?)px/;function P(e){if("0"===e||s.isUndefined(e))return 0;var t=e.match(T);return s.isNull(t)?0:parseFloat(t[1])}var D={makeSelectable:function(e,t){void 0!==e&&void 0!==e.style&&(e.onselectstart=t?function(){return!1}:function(){},e.style.MozUserSelect=t?"auto":"none",e.style.KhtmlUserSelect=t?"auto":"none",e.unselectable=t?"on":"off")},makeFullscreen:function(e,t,n){var r=n,o=t;s.isUndefined(o)&&(o=!0),s.isUndefined(r)&&(r=!0),e.style.position="absolute",o&&(e.style.left=0,e.style.right=0),r&&(e.style.top=0,e.style.bottom=0)},fakeEvent:function(e,t,n,r){var o=n||{},i=x[t];if(!i)throw new Error("Event type "+t+" not supported.");var a=document.createEvent(i);switch(i){case"MouseEvents":var _=o.x||o.clientX||0,u=o.y||o.clientY||0;a.initMouseEvent(t,o.bubbles||!1,o.cancelable||!0,window,o.clickCount||1,0,0,_,u,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var l=a.initKeyboardEvent||a.initKeyEvent;s.defaults(o,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),l(t,o.bubbles||!1,o.cancelable,window,o.ctrlKey,o.altKey,o.shiftKey,o.metaKey,o.keyCode,o.charCode);break;default:a.initEvent(t,o.bubbles||!1,o.cancelable||!0)}s.defaults(a,r),e.dispatchEvent(a)},bind:function(e,t,n,r){var o=r||!1;return e.addEventListener?e.addEventListener(t,n,o):e.attachEvent&&e.attachEvent("on"+t,n),D},unbind:function(e,t,n,r){var o=r||!1;return e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent&&e.detachEvent("on"+t,n),D},addClass:function(e,t){if(void 0===e.className)e.className=t;else if(e.className!==t){var n=e.className.split(/ +/);-1===n.indexOf(t)&&(n.push(t),e.className=n.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return D},removeClass:function(e,t){if(t)if(e.className===t)e.removeAttribute("class");else{var n=e.className.split(/ +/),r=n.indexOf(t);-1!==r&&(n.splice(r,1),e.className=n.join(" "))}else e.className=void 0;return D},hasClass:function(e,t){return new RegExp("(?:^|\\s+)"+t+"(?:\\s+|$)").test(e.className)||!1},getWidth:function(e){var t=getComputedStyle(e);return P(t["border-left-width"])+P(t["border-right-width"])+P(t["padding-left"])+P(t["padding-right"])+P(t.width)},getHeight:function(e){var t=getComputedStyle(e);return P(t["border-top-width"])+P(t["border-bottom-width"])+P(t["padding-top"])+P(t["padding-bottom"])+P(t.height)},getOffset:function(e){var t=e,n={left:0,top:0};if(t.offsetParent)do{n.left+=t.offsetLeft,n.top+=t.offsetTop,t=t.offsetParent}while(t);return n},isActive:function(e){return e===document.activeElement&&(e.type||e.href)}},C=function(e){function t(e,n){h(this,t);var r=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),o=r;return r.__prev=r.getValue(),r.__checkbox=document.createElement("input"),r.__checkbox.setAttribute("type","checkbox"),D.bind(r.__checkbox,"change",(function(){o.setValue(!o.__prev)}),!1),r.domElement.appendChild(r.__checkbox),r.updateDisplay(),r}return y(t,e),m(t,[{key:"setValue",value:function(e){var n=A(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),n}},{key:"updateDisplay",value:function(){return!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),A(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(v),w=function(e){function t(e,n,r){h(this,t);var o=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),i=r,a=o;if(o.__select=document.createElement("select"),s.isArray(i)){var _={};s.each(i,(function(e){_[e]=e})),i=_}return s.each(i,(function(e,t){var n=document.createElement("option");n.innerHTML=t,n.setAttribute("value",e),a.__select.appendChild(n)})),o.updateDisplay(),D.bind(o.__select,"change",(function(){var e=this.options[this.selectedIndex].value;a.setValue(e)})),o.domElement.appendChild(o.__select),o}return y(t,e),m(t,[{key:"setValue",value:function(e){var n=A(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),n}},{key:"updateDisplay",value:function(){return D.isActive(this.__select)?this:(this.__select.value=this.getValue(),A(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this))}}]),t}(v),I=function(e){function t(e,n){h(this,t);var r=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),o=r;function i(){o.setValue(o.__input.value)}return r.__input=document.createElement("input"),r.__input.setAttribute("type","text"),D.bind(r.__input,"keyup",i),D.bind(r.__input,"change",i),D.bind(r.__input,"blur",(function(){o.__onFinishChange&&o.__onFinishChange.call(o,o.getValue())})),D.bind(r.__input,"keydown",(function(e){13===e.keyCode&&this.blur()})),r.updateDisplay(),r.domElement.appendChild(r.__input),r}return y(t,e),m(t,[{key:"updateDisplay",value:function(){return D.isActive(this.__input)||(this.__input.value=this.getValue()),A(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(v);function O(e){var t=e.toString();return t.indexOf(".")>-1?t.length-t.indexOf(".")-1:0}var S=function(e){function t(e,n,r){h(this,t);var o=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),i=r||{};return o.__min=i.min,o.__max=i.max,o.__step=i.step,s.isUndefined(o.__step)?0===o.initialValue?o.__impliedStep=1:o.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(o.initialValue))/Math.LN10))/10:o.__impliedStep=o.__step,o.__precision=O(o.__impliedStep),o}return y(t,e),m(t,[{key:"setValue",value:function(e){var n=e;return void 0!==this.__min&&n<this.__min?n=this.__min:void 0!==this.__max&&n>this.__max&&(n=this.__max),void 0!==this.__step&&n%this.__step!=0&&(n=Math.round(n/this.__step)*this.__step),A(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,n)}},{key:"min",value:function(e){return this.__min=e,this}},{key:"max",value:function(e){return this.__max=e,this}},{key:"step",value:function(e){return this.__step=e,this.__impliedStep=e,this.__precision=O(e),this}}]),t}(v);var B=function(e){function t(e,n,r){h(this,t);var o=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));o.__truncationSuspended=!1;var i=o,a=void 0;function _(){i.__onFinishChange&&i.__onFinishChange.call(i,i.getValue())}function u(e){var t=a-e.clientY;i.setValue(i.getValue()+t*i.__impliedStep),a=e.clientY}function l(){D.unbind(window,"mousemove",u),D.unbind(window,"mouseup",l),_()}return o.__input=document.createElement("input"),o.__input.setAttribute("type","text"),D.bind(o.__input,"change",(function(){var e=parseFloat(i.__input.value);s.isNaN(e)||i.setValue(e)})),D.bind(o.__input,"blur",(function(){_()})),D.bind(o.__input,"mousedown",(function(e){D.bind(window,"mousemove",u),D.bind(window,"mouseup",l),a=e.clientY})),D.bind(o.__input,"keydown",(function(e){13===e.keyCode&&(i.__truncationSuspended=!0,this.blur(),i.__truncationSuspended=!1,_())})),o.updateDisplay(),o.domElement.appendChild(o.__input),o}return y(t,e),m(t,[{key:"updateDisplay",value:function(){var e,n,r;return this.__input.value=this.__truncationSuspended?this.getValue():(e=this.getValue(),n=this.__precision,r=Math.pow(10,n),Math.round(e*r)/r),A(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(S);function L(e,t,n,r,o){return r+(e-t)/(n-t)*(o-r)}var M=function(e){function t(e,n,r,o,i){h(this,t);var a=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,{min:r,max:o,step:i})),s=a;function _(e){e.preventDefault();var t=s.__background.getBoundingClientRect();return s.setValue(L(e.clientX,t.left,t.right,s.__min,s.__max)),!1}function u(){D.unbind(window,"mousemove",_),D.unbind(window,"mouseup",u),s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}function l(e){var t=e.touches[0].clientX,n=s.__background.getBoundingClientRect();s.setValue(L(t,n.left,n.right,s.__min,s.__max))}function c(){D.unbind(window,"touchmove",l),D.unbind(window,"touchend",c),s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}return a.__background=document.createElement("div"),a.__foreground=document.createElement("div"),D.bind(a.__background,"mousedown",(function(e){document.activeElement.blur(),D.bind(window,"mousemove",_),D.bind(window,"mouseup",u),_(e)})),D.bind(a.__background,"touchstart",(function(e){if(1!==e.touches.length)return;D.bind(window,"touchmove",l),D.bind(window,"touchend",c),l(e)})),D.addClass(a.__background,"slider"),D.addClass(a.__foreground,"slider-fg"),a.updateDisplay(),a.__background.appendChild(a.__foreground),a.domElement.appendChild(a.__background),a}return y(t,e),m(t,[{key:"updateDisplay",value:function(){var e=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*e+"%",A(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(S),R=function(e){function t(e,n,r){h(this,t);var o=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),i=o;return o.__button=document.createElement("div"),o.__button.innerHTML=void 0===r?"Fire":r,D.bind(o.__button,"click",(function(e){return e.preventDefault(),i.fire(),!1})),D.addClass(o.__button,"button"),o.domElement.appendChild(o.__button),o}return y(t,e),m(t,[{key:"fire",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),t}(v),N=function(e){function t(e,n){h(this,t);var r=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));r.__color=new E(r.getValue()),r.__temp=new E(0);var o=r;r.domElement=document.createElement("div"),D.makeSelectable(r.domElement,!1),r.__selector=document.createElement("div"),r.__selector.className="selector",r.__saturation_field=document.createElement("div"),r.__saturation_field.className="saturation-field",r.__field_knob=document.createElement("div"),r.__field_knob.className="field-knob",r.__field_knob_border="2px solid ",r.__hue_knob=document.createElement("div"),r.__hue_knob.className="hue-knob",r.__hue_field=document.createElement("div"),r.__hue_field.className="hue-field",r.__input=document.createElement("input"),r.__input.type="text",r.__input_textShadow="0 1px 1px ",D.bind(r.__input,"keydown",(function(e){13===e.keyCode&&p.call(this)})),D.bind(r.__input,"blur",p),D.bind(r.__selector,"mousedown",(function(){D.addClass(this,"drag").bind(window,"mouseup",(function(){D.removeClass(o.__selector,"drag")}))})),D.bind(r.__selector,"touchstart",(function(){D.addClass(this,"drag").bind(window,"touchend",(function(){D.removeClass(o.__selector,"drag")}))}));var i,a=document.createElement("div");function _(e){m(e),D.bind(window,"mousemove",m),D.bind(window,"touchmove",m),D.bind(window,"mouseup",l),D.bind(window,"touchend",l)}function u(e){A(e),D.bind(window,"mousemove",A),D.bind(window,"touchmove",A),D.bind(window,"mouseup",d),D.bind(window,"touchend",d)}function l(){D.unbind(window,"mousemove",m),D.unbind(window,"touchmove",m),D.unbind(window,"mouseup",l),D.unbind(window,"touchend",l),f()}function d(){D.unbind(window,"mousemove",A),D.unbind(window,"touchmove",A),D.unbind(window,"mouseup",d),D.unbind(window,"touchend",d),f()}function p(){var e=c(this.value);!1!==e?(o.__color.__state=e,o.setValue(o.__color.toOriginal())):this.value=o.__color.toString()}function f(){o.__onFinishChange&&o.__onFinishChange.call(o,o.__color.toOriginal())}function m(e){-1===e.type.indexOf("touch")&&e.preventDefault();var t=o.__saturation_field.getBoundingClientRect(),n=e.touches&&e.touches[0]||e,r=n.clientX,i=n.clientY,a=(r-t.left)/(t.right-t.left),s=1-(i-t.top)/(t.bottom-t.top);return s>1?s=1:s<0&&(s=0),a>1?a=1:a<0&&(a=0),o.__color.v=s,o.__color.s=a,o.setValue(o.__color.toOriginal()),!1}function A(e){-1===e.type.indexOf("touch")&&e.preventDefault();var t=o.__hue_field.getBoundingClientRect(),n=1-((e.touches&&e.touches[0]||e).clientY-t.top)/(t.bottom-t.top);return n>1?n=1:n<0&&(n=0),o.__color.h=360*n,o.setValue(o.__color.toOriginal()),!1}return s.extend(r.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),s.extend(r.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:r.__field_knob_border+(r.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),s.extend(r.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),s.extend(r.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),s.extend(a.style,{width:"100%",height:"100%",background:"none"}),k(a,"top","rgba(0,0,0,0)","#000"),s.extend(r.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),(i=r.__hue_field).style.background="",i.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",i.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",i.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",i.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",i.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",s.extend(r.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:r.__input_textShadow+"rgba(0,0,0,0.7)"}),D.bind(r.__saturation_field,"mousedown",_),D.bind(r.__saturation_field,"touchstart",_),D.bind(r.__field_knob,"mousedown",_),D.bind(r.__field_knob,"touchstart",_),D.bind(r.__hue_field,"mousedown",u),D.bind(r.__hue_field,"touchstart",u),r.__saturation_field.appendChild(a),r.__selector.appendChild(r.__field_knob),r.__selector.appendChild(r.__saturation_field),r.__selector.appendChild(r.__hue_field),r.__hue_field.appendChild(r.__hue_knob),r.domElement.appendChild(r.__input),r.domElement.appendChild(r.__selector),r.updateDisplay(),r}return y(t,e),m(t,[{key:"updateDisplay",value:function(){var e=c(this.getValue());if(!1!==e){var t=!1;s.each(E.COMPONENTS,(function(n){if(!s.isUndefined(e[n])&&!s.isUndefined(this.__color.__state[n])&&e[n]!==this.__color.__state[n])return t=!0,{}}),this),t&&s.extend(this.__color.__state,e)}s.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var n=this.__color.v<.5||this.__color.s>.5?255:0,r=255-n;s.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+n+","+n+","+n+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,k(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),s.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+n+","+n+","+n+")",textShadow:this.__input_textShadow+"rgba("+r+","+r+","+r+",.7)"})}}]),t}(v),U=["-moz-","-o-","-webkit-","-ms-",""];function k(e,t,n,r){e.style.background="",s.each(U,(function(o){e.style.cssText+="background: "+o+"linear-gradient("+t+", "+n+" 0%, "+r+" 100%); "}))}var j=function(e,t){var n=t||document,r=document.createElement("style");r.type="text/css",r.innerHTML=e;var o=n.getElementsByTagName("head")[0];try{o.appendChild(r)}catch(e){}},X='<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>',G=function(e,t){var n=e[t];return s.isArray(arguments[2])||s.isObject(arguments[2])?new w(e,t,arguments[2]):s.isNumber(n)?s.isNumber(arguments[2])&&s.isNumber(arguments[3])?s.isNumber(arguments[4])?new M(e,t,arguments[2],arguments[3],arguments[4]):new M(e,t,arguments[2],arguments[3]):s.isNumber(arguments[4])?new B(e,t,{min:arguments[2],max:arguments[3],step:arguments[4]}):new B(e,t,{min:arguments[2],max:arguments[3]}):s.isString(n)?new I(e,t):s.isFunction(n)?new R(e,t,""):s.isBoolean(n)?new C(e,t):null};var Q=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)},Y=function(){function e(){h(this,e),this.backgroundElement=document.createElement("div"),s.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),D.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),s.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var t=this;D.bind(this.backgroundElement,"click",(function(){t.hide()}))}return m(e,[{key:"show",value:function(){var e=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),s.defer((function(){e.backgroundElement.style.opacity=1,e.domElement.style.opacity=1,e.domElement.style.webkitTransform="scale(1)"}))}},{key:"hide",value:function(){var e=this,t=function t(){e.domElement.style.display="none",e.backgroundElement.style.display="none",D.unbind(e.domElement,"webkitTransitionEnd",t),D.unbind(e.domElement,"transitionend",t),D.unbind(e.domElement,"oTransitionEnd",t)};D.bind(this.domElement,"webkitTransitionEnd",t),D.bind(this.domElement,"transitionend",t),D.bind(this.domElement,"oTransitionEnd",t),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"}},{key:"layout",value:function(){this.domElement.style.left=window.innerWidth/2-D.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-D.getHeight(this.domElement)/2+"px"}}]),e}();j(function(e){if(e&&"undefined"!=typeof window){var t=document.createElement("style");return t.setAttribute("type","text/css"),t.innerHTML=e,document.head.appendChild(t),e}}(".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n"));var z=function(){try{return!!window.localStorage}catch(e){return!1}}(),W=void 0,H=!0,V=void 0,K=!1,q=[],Z=function e(t){var n=this,r=t||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),D.addClass(this.domElement,"dg"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],r=s.defaults(r,{closeOnTop:!1,autoPlace:!0,width:e.DEFAULT_WIDTH}),r=s.defaults(r,{resizable:r.autoPlace,hideable:r.autoPlace}),s.isUndefined(r.load)?r.load={preset:"Default"}:r.preset&&(r.load.preset=r.preset),s.isUndefined(r.parent)&&r.hideable&&q.push(this),r.resizable=s.isUndefined(r.parent)&&r.resizable,r.autoPlace&&s.isUndefined(r.scrollable)&&(r.scrollable=!0);var o,i=z&&"true"===localStorage.getItem(re(this,"isLocal")),a=void 0,_=void 0;if(Object.defineProperties(this,{parent:{get:function(){return r.parent}},scrollable:{get:function(){return r.scrollable}},autoPlace:{get:function(){return r.autoPlace}},closeOnTop:{get:function(){return r.closeOnTop}},preset:{get:function(){return n.parent?n.getRoot().preset:r.load.preset},set:function(e){n.parent?n.getRoot().preset=e:r.load.preset=e,function(e){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].value===e.preset&&(e.__preset_select.selectedIndex=t)}(this),n.revert()}},width:{get:function(){return r.width},set:function(e){r.width=e,_e(n,e)}},name:{get:function(){return r.name},set:function(e){r.name=e,_&&(_.innerHTML=r.name)}},closed:{get:function(){return r.closed},set:function(t){r.closed=t,r.closed?D.addClass(n.__ul,e.CLASS_CLOSED):D.removeClass(n.__ul,e.CLASS_CLOSED),this.onResize(),n.__closeButton&&(n.__closeButton.innerHTML=t?e.TEXT_OPEN:e.TEXT_CLOSED)}},load:{get:function(){return r.load}},useLocalStorage:{get:function(){return i},set:function(e){z&&(i=e,e?D.bind(window,"unload",a):D.unbind(window,"unload",a),localStorage.setItem(re(n,"isLocal"),e))}}}),s.isUndefined(r.parent)){if(this.closed=r.closed||!1,D.addClass(this.domElement,e.CLASS_MAIN),D.makeSelectable(this.domElement,!1),z&&i){n.useLocalStorage=!0;var u=localStorage.getItem(re(this,"gui"));u&&(r.load=JSON.parse(u))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=e.TEXT_CLOSED,D.addClass(this.__closeButton,e.CLASS_CLOSE_BUTTON),r.closeOnTop?(D.addClass(this.__closeButton,e.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(D.addClass(this.__closeButton,e.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),D.bind(this.__closeButton,"click",(function(){n.closed=!n.closed}))}else{void 0===r.closed&&(r.closed=!0);var l=document.createTextNode(r.name);D.addClass(l,"controller-name"),_=J(n,l);D.addClass(this.__ul,e.CLASS_CLOSED),D.addClass(_,"title"),D.bind(_,"click",(function(e){return e.preventDefault(),n.closed=!n.closed,!1})),r.closed||(this.closed=!1)}r.autoPlace&&(s.isUndefined(r.parent)&&(H&&(V=document.createElement("div"),D.addClass(V,"dg"),D.addClass(V,e.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(V),H=!1),V.appendChild(this.domElement),D.addClass(this.domElement,e.CLASS_AUTO_PLACE)),this.parent||_e(n,r.width)),this.__resizeHandler=function(){n.onResizeDebounced()},D.bind(window,"resize",this.__resizeHandler),D.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),D.bind(this.__ul,"transitionend",this.__resizeHandler),D.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),r.resizable&&se(this),a=function(){z&&"true"===localStorage.getItem(re(n,"isLocal"))&&localStorage.setItem(re(n,"gui"),JSON.stringify(n.getSaveObject()))},this.saveToLocalStorageIfPossible=a,r.parent||((o=n.getRoot()).width+=1,s.defer((function(){o.width-=1})))};function J(e,t,n){var r=document.createElement("li");return t&&r.appendChild(t),n?e.__ul.insertBefore(r,n):e.__ul.appendChild(r),e.onResize(),r}function $(e){D.unbind(window,"resize",e.__resizeHandler),e.saveToLocalStorageIfPossible&&D.unbind(window,"unload",e.saveToLocalStorageIfPossible)}function ee(e,t){var n=e.__preset_select[e.__preset_select.selectedIndex];n.innerHTML=t?n.value+"*":n.value}function te(e,t){var n=e.getRoot(),r=n.__rememberedObjects.indexOf(t.object);if(-1!==r){var o=n.__rememberedObjectIndecesToControllers[r];if(void 0===o&&(o={},n.__rememberedObjectIndecesToControllers[r]=o),o[t.property]=t,n.load&&n.load.remembered){var i=n.load.remembered,a=void 0;if(i[e.preset])a=i[e.preset];else{if(!i.Default)return;a=i.Default}if(a[r]&&void 0!==a[r][t.property]){var s=a[r][t.property];t.initialValue=s,t.setValue(s)}}}}function ne(e,t,n,r){if(void 0===t[n])throw new Error('Object "'+t+'" has no property "'+n+'"');var o=void 0;if(r.color)o=new N(t,n);else{var i=[t,n].concat(r.factoryArgs);o=G.apply(e,i)}r.before instanceof v&&(r.before=r.before.__li),te(e,o),D.addClass(o.domElement,"c");var a=document.createElement("span");D.addClass(a,"property-name"),a.innerHTML=o.property;var _=document.createElement("div");_.appendChild(a),_.appendChild(o.domElement);var u=J(e,_,r.before);return D.addClass(u,Z.CLASS_CONTROLLER_ROW),o instanceof N?D.addClass(u,"color"):D.addClass(u,f(o.getValue())),function(e,t,n){if(n.__li=t,n.__gui=e,s.extend(n,{options:function(t){if(arguments.length>1){var r=n.__li.nextElementSibling;return n.remove(),ne(e,n.object,n.property,{before:r,factoryArgs:[s.toArray(arguments)]})}if(s.isArray(t)||s.isObject(t)){var o=n.__li.nextElementSibling;return n.remove(),ne(e,n.object,n.property,{before:o,factoryArgs:[t]})}},name:function(e){return n.__li.firstElementChild.firstElementChild.innerHTML=e,n},listen:function(){return n.__gui.listen(n),n},remove:function(){return n.__gui.remove(n),n}}),n instanceof M){var r=new B(n.object,n.property,{min:n.__min,max:n.__max,step:n.__step});s.each(["updateDisplay","onChange","onFinishChange","step","min","max"],(function(e){var t=n[e],o=r[e];n[e]=r[e]=function(){var e=[].slice.call(arguments);return o.apply(r,e),t.apply(n,e)}})),D.addClass(t,"has-slider"),n.domElement.insertBefore(r.domElement,n.domElement.firstElementChild)}else if(n instanceof B){var o=function(t){if(s.isNumber(n.__min)&&s.isNumber(n.__max)){var r=n.__li.firstElementChild.firstElementChild.innerHTML,o=n.__gui.__listening.indexOf(n)>-1;n.remove();var i=ne(e,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[n.__min,n.__max,n.__step]});return i.name(r),o&&i.listen(),i}return t};n.min=s.compose(o,n.min),n.max=s.compose(o,n.max)}else n instanceof C?(D.bind(t,"click",(function(){D.fakeEvent(n.__checkbox,"click")})),D.bind(n.__checkbox,"click",(function(e){e.stopPropagation()}))):n instanceof R?(D.bind(t,"click",(function(){D.fakeEvent(n.__button,"click")})),D.bind(t,"mouseover",(function(){D.addClass(n.__button,"hover")})),D.bind(t,"mouseout",(function(){D.removeClass(n.__button,"hover")}))):n instanceof N&&(D.addClass(t,"color"),n.updateDisplay=s.compose((function(e){return t.style.borderLeftColor=n.__color.toString(),e}),n.updateDisplay),n.updateDisplay());n.setValue=s.compose((function(t){return e.getRoot().__preset_select&&n.isModified()&&ee(e.getRoot(),!0),t}),n.setValue)}(e,u,o),e.__controllers.push(o),o}function re(e,t){return document.location.href+"."+t}function oe(e,t,n){var r=document.createElement("option");r.innerHTML=t,r.value=t,e.__preset_select.appendChild(r),n&&(e.__preset_select.selectedIndex=e.__preset_select.length-1)}function ie(e,t){t.style.display=e.useLocalStorage?"block":"none"}function ae(e){var t=e.__save_row=document.createElement("li");D.addClass(e.domElement,"has-save"),e.__ul.insertBefore(t,e.__ul.firstChild),D.addClass(t,"save-row");var n=document.createElement("span");n.innerHTML="&nbsp;",D.addClass(n,"button gears");var r=document.createElement("span");r.innerHTML="Save",D.addClass(r,"button"),D.addClass(r,"save");var o=document.createElement("span");o.innerHTML="New",D.addClass(o,"button"),D.addClass(o,"save-as");var i=document.createElement("span");i.innerHTML="Revert",D.addClass(i,"button"),D.addClass(i,"revert");var a=e.__preset_select=document.createElement("select");if(e.load&&e.load.remembered?s.each(e.load.remembered,(function(t,n){oe(e,n,n===e.preset)})):oe(e,"Default",!1),D.bind(a,"change",(function(){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].innerHTML=e.__preset_select[t].value;e.preset=this.value})),t.appendChild(a),t.appendChild(n),t.appendChild(r),t.appendChild(o),t.appendChild(i),z){var _=document.getElementById("dg-local-explain"),u=document.getElementById("dg-local-storage");document.getElementById("dg-save-locally").style.display="block","true"===localStorage.getItem(re(0,"isLocal"))&&u.setAttribute("checked","checked"),ie(e,_),D.bind(u,"change",(function(){e.useLocalStorage=!e.useLocalStorage,ie(e,_)}))}var l=document.getElementById("dg-new-constructor");D.bind(l,"keydown",(function(e){!e.metaKey||67!==e.which&&67!==e.keyCode||W.hide()})),D.bind(n,"click",(function(){l.innerHTML=JSON.stringify(e.getSaveObject(),void 0,2),W.show(),l.focus(),l.select()})),D.bind(r,"click",(function(){e.save()})),D.bind(o,"click",(function(){var t=prompt("Enter a new preset name.");t&&e.saveAs(t)})),D.bind(i,"click",(function(){e.revert()}))}function se(e){var t=void 0;function n(n){return n.preventDefault(),e.width+=t-n.clientX,e.onResize(),t=n.clientX,!1}function r(){D.removeClass(e.__closeButton,Z.CLASS_DRAG),D.unbind(window,"mousemove",n),D.unbind(window,"mouseup",r)}function o(o){return o.preventDefault(),t=o.clientX,D.addClass(e.__closeButton,Z.CLASS_DRAG),D.bind(window,"mousemove",n),D.bind(window,"mouseup",r),!1}e.__resize_handle=document.createElement("div"),s.extend(e.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"}),D.bind(e.__resize_handle,"mousedown",o),D.bind(e.__closeButton,"mousedown",o),e.domElement.insertBefore(e.__resize_handle,e.domElement.firstElementChild)}function _e(e,t){e.domElement.style.width=t+"px",e.__save_row&&e.autoPlace&&(e.__save_row.style.width=t+"px"),e.__closeButton&&(e.__closeButton.style.width=t+"px")}function ue(e,t){var n={};return s.each(e.__rememberedObjects,(function(r,o){var i={},a=e.__rememberedObjectIndecesToControllers[o];s.each(a,(function(e,n){i[n]=t?e.initialValue:e.getValue()})),n[o]=i})),n}Z.toggleHide=function(){K=!K,s.each(q,(function(e){e.domElement.style.display=K?"none":""}))},Z.CLASS_AUTO_PLACE="a",Z.CLASS_AUTO_PLACE_CONTAINER="ac",Z.CLASS_MAIN="main",Z.CLASS_CONTROLLER_ROW="cr",Z.CLASS_TOO_TALL="taller-than-window",Z.CLASS_CLOSED="closed",Z.CLASS_CLOSE_BUTTON="close-button",Z.CLASS_CLOSE_TOP="close-top",Z.CLASS_CLOSE_BOTTOM="close-bottom",Z.CLASS_DRAG="drag",Z.DEFAULT_WIDTH=245,Z.TEXT_CLOSED="Close Controls",Z.TEXT_OPEN="Open Controls",Z._keydownHandler=function(e){"text"===document.activeElement.type||72!==e.which&&72!==e.keyCode||Z.toggleHide()},D.bind(window,"keydown",Z._keydownHandler,!1),s.extend(Z.prototype,{add:function(e,t){return ne(this,e,t,{factoryArgs:[].slice.call(arguments,2)})},addColor:function(e,t){return ne(this,e,t,{color:!0})},remove:function(e){this.__ul.removeChild(e.__li),this.__controllers.splice(this.__controllers.indexOf(e),1);var t=this;s.defer((function(){t.onResize()}))},destroy:function(){if(this.parent)throw new Error("Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.");this.autoPlace&&V.removeChild(this.domElement);var e=this;s.each(this.__folders,(function(t){e.removeFolder(t)})),D.unbind(window,"keydown",Z._keydownHandler,!1),$(this)},addFolder:function(e){if(void 0!==this.__folders[e])throw new Error('You already have a folder in this GUI by the name "'+e+'"');var t={name:e,parent:this};t.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[e]&&(t.closed=this.load.folders[e].closed,t.load=this.load.folders[e]);var n=new Z(t);this.__folders[e]=n;var r=J(this,n.domElement);return D.addClass(r,"folder"),n},removeFolder:function(e){this.__ul.removeChild(e.domElement.parentElement),delete this.__folders[e.name],this.load&&this.load.folders&&this.load.folders[e.name]&&delete this.load.folders[e.name],$(e);var t=this;s.each(e.__folders,(function(t){e.removeFolder(t)})),s.defer((function(){t.onResize()}))},open:function(){this.closed=!1},close:function(){this.closed=!0},hide:function(){this.domElement.style.display="none"},show:function(){this.domElement.style.display=""},onResize:function(){var e=this.getRoot();if(e.scrollable){var t=D.getOffset(e.__ul).top,n=0;s.each(e.__ul.childNodes,(function(t){e.autoPlace&&t===e.__save_row||(n+=D.getHeight(t))})),window.innerHeight-t-20<n?(D.addClass(e.domElement,Z.CLASS_TOO_TALL),e.__ul.style.height=window.innerHeight-t-20+"px"):(D.removeClass(e.domElement,Z.CLASS_TOO_TALL),e.__ul.style.height="auto")}e.__resize_handle&&s.defer((function(){e.__resize_handle.style.height=e.__ul.offsetHeight+"px"})),e.__closeButton&&(e.__closeButton.style.width=e.width+"px")},onResizeDebounced:s.debounce((function(){this.onResize()}),50),remember:function(){if(s.isUndefined(W)&&((W=new Y).domElement.innerHTML=X),this.parent)throw new Error("You can only call remember on a top level GUI.");var e=this;s.each([].slice.call(arguments),(function(t){0===e.__rememberedObjects.length&&ae(e),-1===e.__rememberedObjects.indexOf(t)&&e.__rememberedObjects.push(t)})),this.autoPlace&&_e(this,this.width)},getRoot:function(){for(var e=this;e.parent;)e=e.parent;return e},getSaveObject:function(){var e=this.load;return e.closed=this.closed,this.__rememberedObjects.length>0&&(e.preset=this.preset,e.remembered||(e.remembered={}),e.remembered[this.preset]=ue(this)),e.folders={},s.each(this.__folders,(function(t,n){e.folders[n]=t.getSaveObject()})),e},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=ue(this),ee(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(e){this.load.remembered||(this.load.remembered={},this.load.remembered.Default=ue(this,!0)),this.load.remembered[e]=ue(this),this.preset=e,oe(this,e,!0),this.saveToLocalStorageIfPossible()},revert:function(e){s.each(this.__controllers,(function(t){this.getRoot().load.remembered?te(e||this.getRoot(),t):t.setValue(t.initialValue),t.__onFinishChange&&t.__onFinishChange.call(t,t.getValue())}),this),s.each(this.__folders,(function(e){e.revert(e)})),e||ee(this.getRoot(),!1)},listen:function(e){var t=0===this.__listening.length;this.__listening.push(e),t&&function e(t){0!==t.length&&Q.call(window,(function(){e(t)}));s.each(t,(function(e){e.updateDisplay()}))}(this.__listening)},updateDisplay:function(){s.each(this.__controllers,(function(e){e.updateDisplay()})),s.each(this.__folders,(function(e){e.updateDisplay()}))}});var le=Z},131:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n(35),n(24);var r=n(10),o=function(e,t,n,o,i){r.a.call(this),this.scene=e,this.camera=t,this.overrideMaterial=n,this.clearColor=o,this.clearAlpha=void 0!==i?i:0,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1};o.prototype=Object.assign(Object.create(r.a.prototype),{constructor:o,render:function(e,t,n){var r,o,i=e.autoClear;e.autoClear=!1,this.scene.overrideMaterial=this.overrideMaterial,this.clearColor&&(r=e.getClearColor().getHex(),o=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:n),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor&&e.setClearColor(r,o),this.scene.overrideMaterial=null,e.autoClear=i}})},132:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(35),n(24),n(91),n(54);var r=n(0),o=n(10),i=n(46),a=function(e,t,n,a){this.renderScene=t,this.renderCamera=n,this.selectedObjects=void 0!==a?a:[],this.visibleEdgeColor=new r.f(1,1,1),this.hiddenEdgeColor=new r.f(.1,.04,.02),this.edgeGlow=0,this.usePatternTexture=!1,this.edgeThickness=1,this.edgeStrength=3,this.downSampleRatio=2,this.pulsePeriod=0,o.a.call(this),this.resolution=void 0!==e?new r.T(e.x,e.y):new r.T(256,256);var s={minFilter:r.t,magFilter:r.t,format:r.G},_=Math.round(this.resolution.x/this.downSampleRatio),u=Math.round(this.resolution.y/this.downSampleRatio);this.maskBufferMaterial=new r.y({color:16777215}),this.maskBufferMaterial.side=r.h,this.renderTargetMaskBuffer=new r.X(this.resolution.x,this.resolution.y,s),this.renderTargetMaskBuffer.texture.name="OutlinePass.mask",this.renderTargetMaskBuffer.texture.generateMipmaps=!1,this.depthMaterial=new r.z,this.depthMaterial.side=r.h,this.depthMaterial.depthPacking=r.F,this.depthMaterial.blending=r.A,this.prepareMaskMaterial=this.getPrepareMaskMaterial(),this.prepareMaskMaterial.side=r.h,this.prepareMaskMaterial.fragmentShader=function(e,t){var n=t.isPerspectiveCamera?"perspective":"orthographic";return e.replace(/DEPTH_TO_VIEW_Z/g,n+"DepthToViewZ")}(this.prepareMaskMaterial.fragmentShader,this.renderCamera),this.renderTargetDepthBuffer=new r.X(this.resolution.x,this.resolution.y,s),this.renderTargetDepthBuffer.texture.name="OutlinePass.depth",this.renderTargetDepthBuffer.texture.generateMipmaps=!1,this.renderTargetMaskDownSampleBuffer=new r.X(_,u,s),this.renderTargetMaskDownSampleBuffer.texture.name="OutlinePass.depthDownSample",this.renderTargetMaskDownSampleBuffer.texture.generateMipmaps=!1,this.renderTargetBlurBuffer1=new r.X(_,u,s),this.renderTargetBlurBuffer1.texture.name="OutlinePass.blur1",this.renderTargetBlurBuffer1.texture.generateMipmaps=!1,this.renderTargetBlurBuffer2=new r.X(Math.round(_/2),Math.round(u/2),s),this.renderTargetBlurBuffer2.texture.name="OutlinePass.blur2",this.renderTargetBlurBuffer2.texture.generateMipmaps=!1,this.edgeDetectionMaterial=this.getEdgeDetectionMaterial(),this.renderTargetEdgeBuffer1=new r.X(_,u,s),this.renderTargetEdgeBuffer1.texture.name="OutlinePass.edge1",this.renderTargetEdgeBuffer1.texture.generateMipmaps=!1,this.renderTargetEdgeBuffer2=new r.X(Math.round(_/2),Math.round(u/2),s),this.renderTargetEdgeBuffer2.texture.name="OutlinePass.edge2",this.renderTargetEdgeBuffer2.texture.generateMipmaps=!1;this.separableBlurMaterial1=this.getSeperableBlurMaterial(4),this.separableBlurMaterial1.uniforms.texSize.value=new r.T(_,u),this.separableBlurMaterial1.uniforms.kernelRadius.value=1,this.separableBlurMaterial2=this.getSeperableBlurMaterial(4),this.separableBlurMaterial2.uniforms.texSize.value=new r.T(Math.round(_/2),Math.round(u/2)),this.separableBlurMaterial2.uniforms.kernelRadius.value=4,this.overlayMaterial=this.getOverlayMaterial(),void 0===i.a&&console.error("OutlinePass relies on CopyShader");var l=i.a;this.copyUniforms=r.S.clone(l.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new r.J({uniforms:this.copyUniforms,vertexShader:l.vertexShader,fragmentShader:l.fragmentShader,blending:r.A,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this.oldClearColor=new r.f,this.oldClearAlpha=1,this.fsQuad=new o.a.FullScreenQuad(null),this.tempPulseColor1=new r.f,this.tempPulseColor2=new r.f,this.textureMatrix=new r.w};a.prototype=Object.assign(Object.create(o.a.prototype),{constructor:a,dispose:function(){this.renderTargetMaskBuffer.dispose(),this.renderTargetDepthBuffer.dispose(),this.renderTargetMaskDownSampleBuffer.dispose(),this.renderTargetBlurBuffer1.dispose(),this.renderTargetBlurBuffer2.dispose(),this.renderTargetEdgeBuffer1.dispose(),this.renderTargetEdgeBuffer2.dispose()},setSize:function(e,t){this.renderTargetMaskBuffer.setSize(e,t);var n=Math.round(e/this.downSampleRatio),o=Math.round(t/this.downSampleRatio);this.renderTargetMaskDownSampleBuffer.setSize(n,o),this.renderTargetBlurBuffer1.setSize(n,o),this.renderTargetEdgeBuffer1.setSize(n,o),this.separableBlurMaterial1.uniforms.texSize.value=new r.T(n,o),n=Math.round(n/2),o=Math.round(o/2),this.renderTargetBlurBuffer2.setSize(n,o),this.renderTargetEdgeBuffer2.setSize(n,o),this.separableBlurMaterial2.uniforms.texSize.value=new r.T(n,o)},changeVisibilityOfSelectedObjects:function(e){function t(t){t.isMesh&&(e?(t.visible=t.userData.oldVisible,delete t.userData.oldVisible):(t.userData.oldVisible=t.visible,t.visible=e))}for(var n=0;n<this.selectedObjects.length;n++){this.selectedObjects[n].traverse(t)}},changeVisibilityOfNonSelectedObjects:function(e){var t=[];function n(e){e.isMesh&&t.push(e)}for(var r=0;r<this.selectedObjects.length;r++){this.selectedObjects[r].traverse(n)}this.renderScene.traverse((function(n){if(n.isMesh||n.isLine||n.isSprite){for(var r=!1,o=0;o<t.length;o++){if(t[o].id===n.id){r=!0;break}}if(!r){var i=n.visible;e&&!n.bVisible||(n.visible=e),n.bVisible=i}}}))},updateTextureMatrix:function(){this.textureMatrix.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),this.textureMatrix.multiply(this.renderCamera.projectionMatrix),this.textureMatrix.multiply(this.renderCamera.matrixWorldInverse)},render:function(e,t,n,o,i){if(this.selectedObjects.length>0){this.oldClearColor.copy(e.getClearColor()),this.oldClearAlpha=e.getClearAlpha();var s=e.autoClear;e.autoClear=!1,i&&e.context.disable(e.context.STENCIL_TEST),e.setClearColor(16777215,1),this.changeVisibilityOfSelectedObjects(!1);var _=this.renderScene.background;if(this.renderScene.background=null,this.renderScene.overrideMaterial=this.depthMaterial,e.setRenderTarget(this.renderTargetDepthBuffer),e.clear(),e.render(this.renderScene,this.renderCamera),this.changeVisibilityOfSelectedObjects(!0),this.updateTextureMatrix(),this.changeVisibilityOfNonSelectedObjects(!1),this.renderScene.overrideMaterial=this.prepareMaskMaterial,this.prepareMaskMaterial.uniforms.cameraNearFar.value=new r.T(this.renderCamera.near,this.renderCamera.far),this.prepareMaskMaterial.uniforms.depthTexture.value=this.renderTargetDepthBuffer.texture,this.prepareMaskMaterial.uniforms.textureMatrix.value=this.textureMatrix,e.setRenderTarget(this.renderTargetMaskBuffer),e.clear(),e.render(this.renderScene,this.renderCamera),this.renderScene.overrideMaterial=null,this.changeVisibilityOfNonSelectedObjects(!0),this.renderScene.background=_,this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetMaskBuffer.texture,e.setRenderTarget(this.renderTargetMaskDownSampleBuffer),e.clear(),this.fsQuad.render(e),this.tempPulseColor1.copy(this.visibleEdgeColor),this.tempPulseColor2.copy(this.hiddenEdgeColor),this.pulsePeriod>0){var u=.625+.75*Math.cos(.01*performance.now()/this.pulsePeriod)/2;this.tempPulseColor1.multiplyScalar(u),this.tempPulseColor2.multiplyScalar(u)}this.fsQuad.material=this.edgeDetectionMaterial,this.edgeDetectionMaterial.uniforms.maskTexture.value=this.renderTargetMaskDownSampleBuffer.texture,this.edgeDetectionMaterial.uniforms.texSize.value=new r.T(this.renderTargetMaskDownSampleBuffer.width,this.renderTargetMaskDownSampleBuffer.height),this.edgeDetectionMaterial.uniforms.visibleEdgeColor.value=this.tempPulseColor1,this.edgeDetectionMaterial.uniforms.hiddenEdgeColor.value=this.tempPulseColor2,e.setRenderTarget(this.renderTargetEdgeBuffer1),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.separableBlurMaterial1,this.separableBlurMaterial1.uniforms.colorTexture.value=this.renderTargetEdgeBuffer1.texture,this.separableBlurMaterial1.uniforms.direction.value=a.BlurDirectionX,this.separableBlurMaterial1.uniforms.kernelRadius.value=this.edgeThickness,e.setRenderTarget(this.renderTargetBlurBuffer1),e.clear(),this.fsQuad.render(e),this.separableBlurMaterial1.uniforms.colorTexture.value=this.renderTargetBlurBuffer1.texture,this.separableBlurMaterial1.uniforms.direction.value=a.BlurDirectionY,e.setRenderTarget(this.renderTargetEdgeBuffer1),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.separableBlurMaterial2,this.separableBlurMaterial2.uniforms.colorTexture.value=this.renderTargetEdgeBuffer1.texture,this.separableBlurMaterial2.uniforms.direction.value=a.BlurDirectionX,e.setRenderTarget(this.renderTargetBlurBuffer2),e.clear(),this.fsQuad.render(e),this.separableBlurMaterial2.uniforms.colorTexture.value=this.renderTargetBlurBuffer2.texture,this.separableBlurMaterial2.uniforms.direction.value=a.BlurDirectionY,e.setRenderTarget(this.renderTargetEdgeBuffer2),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.overlayMaterial,this.overlayMaterial.uniforms.maskTexture.value=this.renderTargetMaskBuffer.texture,this.overlayMaterial.uniforms.edgeTexture1.value=this.renderTargetEdgeBuffer1.texture,this.overlayMaterial.uniforms.edgeTexture2.value=this.renderTargetEdgeBuffer2.texture,this.overlayMaterial.uniforms.patternTexture.value=this.patternTexture,this.overlayMaterial.uniforms.edgeStrength.value=this.edgeStrength,this.overlayMaterial.uniforms.edgeGlow.value=this.edgeGlow,this.overlayMaterial.uniforms.usePatternTexture.value=this.usePatternTexture,i&&e.context.enable(e.context.STENCIL_TEST),e.setRenderTarget(n),this.fsQuad.render(e),e.setClearColor(this.oldClearColor,this.oldClearAlpha),e.autoClear=s}this.renderToScreen&&(this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=n.texture,e.setRenderTarget(null),this.fsQuad.render(e))},getPrepareMaskMaterial:function(){return new r.J({uniforms:{depthTexture:{value:null},cameraNearFar:{value:new r.T(.5,.5)},textureMatrix:{value:new r.w}},vertexShader:["varying vec4 projTexCoord;","varying vec4 vPosition;","uniform mat4 textureMatrix;","void main() {","\tvPosition = modelViewMatrix * vec4( position, 1.0 );","\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );","\tprojTexCoord = textureMatrix * worldPosition;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["#include <packing>","varying vec4 vPosition;","varying vec4 projTexCoord;","uniform sampler2D depthTexture;","uniform vec2 cameraNearFar;","void main() {","\tfloat depth = unpackRGBAToDepth(texture2DProj( depthTexture, projTexCoord ));","\tfloat viewZ = - DEPTH_TO_VIEW_Z( depth, cameraNearFar.x, cameraNearFar.y );","\tfloat depthTest = (-vPosition.z > viewZ) ? 1.0 : 0.0;","\tgl_FragColor = vec4(0.0, depthTest, 1.0, 1.0);","}"].join("\n")})},getEdgeDetectionMaterial:function(){return new r.J({uniforms:{maskTexture:{value:null},texSize:{value:new r.T(.5,.5)},visibleEdgeColor:{value:new r.U(1,1,1)},hiddenEdgeColor:{value:new r.U(1,1,1)}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"varying vec2 vUv;\t\t\t\tuniform sampler2D maskTexture;\t\t\t\tuniform vec2 texSize;\t\t\t\tuniform vec3 visibleEdgeColor;\t\t\t\tuniform vec3 hiddenEdgeColor;\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\tvec2 invSize = 1.0 / texSize;\t\t\t\t\tvec4 uvOffset = vec4(1.0, 0.0, 0.0, 1.0) * vec4(invSize, invSize);\t\t\t\t\tvec4 c1 = texture2D( maskTexture, vUv + uvOffset.xy);\t\t\t\t\tvec4 c2 = texture2D( maskTexture, vUv - uvOffset.xy);\t\t\t\t\tvec4 c3 = texture2D( maskTexture, vUv + uvOffset.yw);\t\t\t\t\tvec4 c4 = texture2D( maskTexture, vUv - uvOffset.yw);\t\t\t\t\tfloat diff1 = (c1.r - c2.r)*0.5;\t\t\t\t\tfloat diff2 = (c3.r - c4.r)*0.5;\t\t\t\t\tfloat d = length( vec2(diff1, diff2) );\t\t\t\t\tfloat a1 = min(c1.g, c2.g);\t\t\t\t\tfloat a2 = min(c3.g, c4.g);\t\t\t\t\tfloat visibilityFactor = min(a1, a2);\t\t\t\t\tvec3 edgeColor = 1.0 - visibilityFactor > 0.001 ? visibleEdgeColor : hiddenEdgeColor;\t\t\t\t\tgl_FragColor = vec4(edgeColor, 1.0) * vec4(d);\t\t\t\t}"})},getSeperableBlurMaterial:function(e){return new r.J({defines:{MAX_RADIUS:e},uniforms:{colorTexture:{value:null},texSize:{value:new r.T(.5,.5)},direction:{value:new r.T(.5,.5)},kernelRadius:{value:1}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"#include <common>\t\t\t\tvarying vec2 vUv;\t\t\t\tuniform sampler2D colorTexture;\t\t\t\tuniform vec2 texSize;\t\t\t\tuniform vec2 direction;\t\t\t\tuniform float kernelRadius;\t\t\t\t\t\t\t\tfloat gaussianPdf(in float x, in float sigma) {\t\t\t\t\treturn 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;\t\t\t\t}\t\t\t\tvoid main() {\t\t\t\t\tvec2 invSize = 1.0 / texSize;\t\t\t\t\tfloat weightSum = gaussianPdf(0.0, kernelRadius);\t\t\t\t\tvec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;\t\t\t\t\tvec2 delta = direction * invSize * kernelRadius/float(MAX_RADIUS);\t\t\t\t\tvec2 uvOffset = delta;\t\t\t\t\tfor( int i = 1; i <= MAX_RADIUS; i ++ ) {\t\t\t\t\t\tfloat w = gaussianPdf(uvOffset.x, kernelRadius);\t\t\t\t\t\tvec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;\t\t\t\t\t\tvec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;\t\t\t\t\t\tdiffuseSum += ((sample1 + sample2) * w);\t\t\t\t\t\tweightSum += (2.0 * w);\t\t\t\t\t\tuvOffset += delta;\t\t\t\t\t}\t\t\t\t\tgl_FragColor = vec4(diffuseSum/weightSum, 1.0);\t\t\t\t}"})},getOverlayMaterial:function(){return new r.J({uniforms:{maskTexture:{value:null},edgeTexture1:{value:null},edgeTexture2:{value:null},patternTexture:{value:null},edgeStrength:{value:1},edgeGlow:{value:1},usePatternTexture:{value:0}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"varying vec2 vUv;\t\t\t\tuniform sampler2D maskTexture;\t\t\t\tuniform sampler2D edgeTexture1;\t\t\t\tuniform sampler2D edgeTexture2;\t\t\t\tuniform sampler2D patternTexture;\t\t\t\tuniform float edgeStrength;\t\t\t\tuniform float edgeGlow;\t\t\t\tuniform bool usePatternTexture;\t\t\t\t\t\t\t\tvoid main() {\t\t\t\t\tvec4 edgeValue1 = texture2D(edgeTexture1, vUv);\t\t\t\t\tvec4 edgeValue2 = texture2D(edgeTexture2, vUv);\t\t\t\t\tvec4 maskColor = texture2D(maskTexture, vUv);\t\t\t\t\tvec4 patternColor = texture2D(patternTexture, 6.0 * vUv);\t\t\t\t\tfloat visibilityFactor = 1.0 - maskColor.g > 0.0 ? 1.0 : 0.5;\t\t\t\t\tvec4 edgeValue = edgeValue1 + edgeValue2 * edgeGlow;\t\t\t\t\tvec4 finalColor = edgeStrength * maskColor.r * edgeValue;\t\t\t\t\tif(usePatternTexture)\t\t\t\t\t\tfinalColor += + visibilityFactor * (1.0 - maskColor.r) * (1.0 - patternColor.r);\t\t\t\t\tgl_FragColor = finalColor;\t\t\t\t}",blending:r.a,depthTest:!1,depthWrite:!1,transparent:!0})}}),a.BlurDirectionX=new r.T(1,0),a.BlurDirectionY=new r.T(0,1)},133:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={uniforms:{tDiffuse:{value:null},resolution:{value:new(n(0).T)(1/1024,1/512)}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["precision highp float;","","uniform sampler2D tDiffuse;","","uniform vec2 resolution;","","varying vec2 vUv;","","// FXAA 3.11 implementation by NVIDIA, ported to WebGL by Agost Biro (biro@archilogic.com)","","//----------------------------------------------------------------------------------","// File:        es3-keplerFXAAassetsshaders/FXAA_DefaultES.frag","// SDK Version: v3.00","// Email:       gameworks@nvidia.com","// Site:        http://developer.nvidia.com/","//","// Copyright (c) 2014-2015, NVIDIA CORPORATION. All rights reserved.","//","// Redistribution and use in source and binary forms, with or without","// modification, are permitted provided that the following conditions","// are met:","//  * Redistributions of source code must retain the above copyright","//    notice, this list of conditions and the following disclaimer.","//  * Redistributions in binary form must reproduce the above copyright","//    notice, this list of conditions and the following disclaimer in the","//    documentation and/or other materials provided with the distribution.","//  * Neither the name of NVIDIA CORPORATION nor the names of its","//    contributors may be used to endorse or promote products derived","//    from this software without specific prior written permission.","//","// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS ``AS IS'' AND ANY","// EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE","// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR","// PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR","// CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,","// EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,","// PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR","// PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY","// OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT","// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE","// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.","//","//----------------------------------------------------------------------------------","","#define FXAA_PC 1","#define FXAA_GLSL_100 1","#define FXAA_QUALITY_PRESET 12","","#define FXAA_GREEN_AS_LUMA 1","","/*--------------------------------------------------------------------------*/","#ifndef FXAA_PC_CONSOLE","    //","    // The console algorithm for PC is included","    // for developers targeting really low spec machines.","    // Likely better to just run FXAA_PC, and use a really low preset.","    //","    #define FXAA_PC_CONSOLE 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_GLSL_120","    #define FXAA_GLSL_120 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_GLSL_130","    #define FXAA_GLSL_130 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_HLSL_3","    #define FXAA_HLSL_3 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_HLSL_4","    #define FXAA_HLSL_4 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_HLSL_5","    #define FXAA_HLSL_5 0","#endif","/*==========================================================================*/","#ifndef FXAA_GREEN_AS_LUMA","    //","    // For those using non-linear color,","    // and either not able to get luma in alpha, or not wanting to,","    // this enables FXAA to run using green as a proxy for luma.","    // So with this enabled, no need to pack luma in alpha.","    //","    // This will turn off AA on anything which lacks some amount of green.","    // Pure red and blue or combination of only R and B, will get no AA.","    //","    // Might want to lower the settings for both,","    //    fxaaConsoleEdgeThresholdMin","    //    fxaaQualityEdgeThresholdMin","    // In order to insure AA does not get turned off on colors","    // which contain a minor amount of green.","    //","    // 1 = On.","    // 0 = Off.","    //","    #define FXAA_GREEN_AS_LUMA 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_EARLY_EXIT","    //","    // Controls algorithm's early exit path.","    // On PS3 turning this ON adds 2 cycles to the shader.","    // On 360 turning this OFF adds 10ths of a millisecond to the shader.","    // Turning this off on console will result in a more blurry image.","    // So this defaults to on.","    //","    // 1 = On.","    // 0 = Off.","    //","    #define FXAA_EARLY_EXIT 1","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_DISCARD","    //","    // Only valid for PC OpenGL currently.","    // Probably will not work when FXAA_GREEN_AS_LUMA = 1.","    //","    // 1 = Use discard on pixels which don't need AA.","    //     For APIs which enable concurrent TEX+ROP from same surface.","    // 0 = Return unchanged color on pixels which don't need AA.","    //","    #define FXAA_DISCARD 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_FAST_PIXEL_OFFSET","    //","    // Used for GLSL 120 only.","    //","    // 1 = GL API supports fast pixel offsets","    // 0 = do not use fast pixel offsets","    //","    #ifdef GL_EXT_gpu_shader4","        #define FXAA_FAST_PIXEL_OFFSET 1","    #endif","    #ifdef GL_NV_gpu_shader5","        #define FXAA_FAST_PIXEL_OFFSET 1","    #endif","    #ifdef GL_ARB_gpu_shader5","        #define FXAA_FAST_PIXEL_OFFSET 1","    #endif","    #ifndef FXAA_FAST_PIXEL_OFFSET","        #define FXAA_FAST_PIXEL_OFFSET 0","    #endif","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_GATHER4_ALPHA","    //","    // 1 = API supports gather4 on alpha channel.","    // 0 = API does not support gather4 on alpha channel.","    //","    #if (FXAA_HLSL_5 == 1)","        #define FXAA_GATHER4_ALPHA 1","    #endif","    #ifdef GL_ARB_gpu_shader5","        #define FXAA_GATHER4_ALPHA 1","    #endif","    #ifdef GL_NV_gpu_shader5","        #define FXAA_GATHER4_ALPHA 1","    #endif","    #ifndef FXAA_GATHER4_ALPHA","        #define FXAA_GATHER4_ALPHA 0","    #endif","#endif","","","/*============================================================================","                        FXAA QUALITY - TUNING KNOBS","------------------------------------------------------------------------------","NOTE the other tuning knobs are now in the shader function inputs!","============================================================================*/","#ifndef FXAA_QUALITY_PRESET","    //","    // Choose the quality preset.","    // This needs to be compiled into the shader as it effects code.","    // Best option to include multiple presets is to","    // in each shader define the preset, then include this file.","    //","    // OPTIONS","    // -----------------------------------------------------------------------","    // 10 to 15 - default medium dither (10=fastest, 15=highest quality)","    // 20 to 29 - less dither, more expensive (20=fastest, 29=highest quality)","    // 39       - no dither, very expensive","    //","    // NOTES","    // -----------------------------------------------------------------------","    // 12 = slightly faster then FXAA 3.9 and higher edge quality (default)","    // 13 = about same speed as FXAA 3.9 and better than 12","    // 23 = closest to FXAA 3.9 visually and performance wise","    //  _ = the lowest digit is directly related to performance","    // _  = the highest digit is directly related to style","    //","    #define FXAA_QUALITY_PRESET 12","#endif","","","/*============================================================================","","                           FXAA QUALITY - PRESETS","","============================================================================*/","","/*============================================================================","                     FXAA QUALITY - MEDIUM DITHER PRESETS","============================================================================*/","#if (FXAA_QUALITY_PRESET == 10)","    #define FXAA_QUALITY_PS 3","    #define FXAA_QUALITY_P0 1.5","    #define FXAA_QUALITY_P1 3.0","    #define FXAA_QUALITY_P2 12.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 11)","    #define FXAA_QUALITY_PS 4","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 3.0","    #define FXAA_QUALITY_P3 12.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 12)","    #define FXAA_QUALITY_PS 5","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 4.0","    #define FXAA_QUALITY_P4 12.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 13)","    #define FXAA_QUALITY_PS 6","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 4.0","    #define FXAA_QUALITY_P5 12.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 14)","    #define FXAA_QUALITY_PS 7","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 4.0","    #define FXAA_QUALITY_P6 12.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 15)","    #define FXAA_QUALITY_PS 8","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 4.0","    #define FXAA_QUALITY_P7 12.0","#endif","","/*============================================================================","                     FXAA QUALITY - LOW DITHER PRESETS","============================================================================*/","#if (FXAA_QUALITY_PRESET == 20)","    #define FXAA_QUALITY_PS 3","    #define FXAA_QUALITY_P0 1.5","    #define FXAA_QUALITY_P1 2.0","    #define FXAA_QUALITY_P2 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 21)","    #define FXAA_QUALITY_PS 4","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 22)","    #define FXAA_QUALITY_PS 5","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 23)","    #define FXAA_QUALITY_PS 6","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 24)","    #define FXAA_QUALITY_PS 7","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 3.0","    #define FXAA_QUALITY_P6 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 25)","    #define FXAA_QUALITY_PS 8","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 4.0","    #define FXAA_QUALITY_P7 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 26)","    #define FXAA_QUALITY_PS 9","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 2.0","    #define FXAA_QUALITY_P7 4.0","    #define FXAA_QUALITY_P8 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 27)","    #define FXAA_QUALITY_PS 10","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 2.0","    #define FXAA_QUALITY_P7 2.0","    #define FXAA_QUALITY_P8 4.0","    #define FXAA_QUALITY_P9 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 28)","    #define FXAA_QUALITY_PS 11","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 2.0","    #define FXAA_QUALITY_P7 2.0","    #define FXAA_QUALITY_P8 2.0","    #define FXAA_QUALITY_P9 4.0","    #define FXAA_QUALITY_P10 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 29)","    #define FXAA_QUALITY_PS 12","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 2.0","    #define FXAA_QUALITY_P7 2.0","    #define FXAA_QUALITY_P8 2.0","    #define FXAA_QUALITY_P9 2.0","    #define FXAA_QUALITY_P10 4.0","    #define FXAA_QUALITY_P11 8.0","#endif","","/*============================================================================","                     FXAA QUALITY - EXTREME QUALITY","============================================================================*/","#if (FXAA_QUALITY_PRESET == 39)","    #define FXAA_QUALITY_PS 12","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.0","    #define FXAA_QUALITY_P2 1.0","    #define FXAA_QUALITY_P3 1.0","    #define FXAA_QUALITY_P4 1.0","    #define FXAA_QUALITY_P5 1.5","    #define FXAA_QUALITY_P6 2.0","    #define FXAA_QUALITY_P7 2.0","    #define FXAA_QUALITY_P8 2.0","    #define FXAA_QUALITY_P9 2.0","    #define FXAA_QUALITY_P10 4.0","    #define FXAA_QUALITY_P11 8.0","#endif","","","","/*============================================================================","","                                API PORTING","","============================================================================*/","#if (FXAA_GLSL_100 == 1) || (FXAA_GLSL_120 == 1) || (FXAA_GLSL_130 == 1)","    #define FxaaBool bool","    #define FxaaDiscard discard","    #define FxaaFloat float","    #define FxaaFloat2 vec2","    #define FxaaFloat3 vec3","    #define FxaaFloat4 vec4","    #define FxaaHalf float","    #define FxaaHalf2 vec2","    #define FxaaHalf3 vec3","    #define FxaaHalf4 vec4","    #define FxaaInt2 ivec2","    #define FxaaSat(x) clamp(x, 0.0, 1.0)","    #define FxaaTex sampler2D","#else","    #define FxaaBool bool","    #define FxaaDiscard clip(-1)","    #define FxaaFloat float","    #define FxaaFloat2 float2","    #define FxaaFloat3 float3","    #define FxaaFloat4 float4","    #define FxaaHalf half","    #define FxaaHalf2 half2","    #define FxaaHalf3 half3","    #define FxaaHalf4 half4","    #define FxaaSat(x) saturate(x)","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_GLSL_100 == 1)","  #define FxaaTexTop(t, p) texture2D(t, p, 0.0)","  #define FxaaTexOff(t, p, o, r) texture2D(t, p + (o * r), 0.0)","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_GLSL_120 == 1)","    // Requires,","    //  #version 120","    // And at least,","    //  #extension GL_EXT_gpu_shader4 : enable","    //  (or set FXAA_FAST_PIXEL_OFFSET 1 to work like DX9)","    #define FxaaTexTop(t, p) texture2DLod(t, p, 0.0)","    #if (FXAA_FAST_PIXEL_OFFSET == 1)","        #define FxaaTexOff(t, p, o, r) texture2DLodOffset(t, p, 0.0, o)","    #else","        #define FxaaTexOff(t, p, o, r) texture2DLod(t, p + (o * r), 0.0)","    #endif","    #if (FXAA_GATHER4_ALPHA == 1)","        // use #extension GL_ARB_gpu_shader5 : enable","        #define FxaaTexAlpha4(t, p) textureGather(t, p, 3)","        #define FxaaTexOffAlpha4(t, p, o) textureGatherOffset(t, p, o, 3)","        #define FxaaTexGreen4(t, p) textureGather(t, p, 1)","        #define FxaaTexOffGreen4(t, p, o) textureGatherOffset(t, p, o, 1)","    #endif","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_GLSL_130 == 1)",'    // Requires "#version 130" or better',"    #define FxaaTexTop(t, p) textureLod(t, p, 0.0)","    #define FxaaTexOff(t, p, o, r) textureLodOffset(t, p, 0.0, o)","    #if (FXAA_GATHER4_ALPHA == 1)","        // use #extension GL_ARB_gpu_shader5 : enable","        #define FxaaTexAlpha4(t, p) textureGather(t, p, 3)","        #define FxaaTexOffAlpha4(t, p, o) textureGatherOffset(t, p, o, 3)","        #define FxaaTexGreen4(t, p) textureGather(t, p, 1)","        #define FxaaTexOffGreen4(t, p, o) textureGatherOffset(t, p, o, 1)","    #endif","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_HLSL_3 == 1)","    #define FxaaInt2 float2","    #define FxaaTex sampler2D","    #define FxaaTexTop(t, p) tex2Dlod(t, float4(p, 0.0, 0.0))","    #define FxaaTexOff(t, p, o, r) tex2Dlod(t, float4(p + (o * r), 0, 0))","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_HLSL_4 == 1)","    #define FxaaInt2 int2","    struct FxaaTex { SamplerState smpl; Texture2D tex; };","    #define FxaaTexTop(t, p) t.tex.SampleLevel(t.smpl, p, 0.0)","    #define FxaaTexOff(t, p, o, r) t.tex.SampleLevel(t.smpl, p, 0.0, o)","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_HLSL_5 == 1)","    #define FxaaInt2 int2","    struct FxaaTex { SamplerState smpl; Texture2D tex; };","    #define FxaaTexTop(t, p) t.tex.SampleLevel(t.smpl, p, 0.0)","    #define FxaaTexOff(t, p, o, r) t.tex.SampleLevel(t.smpl, p, 0.0, o)","    #define FxaaTexAlpha4(t, p) t.tex.GatherAlpha(t.smpl, p)","    #define FxaaTexOffAlpha4(t, p, o) t.tex.GatherAlpha(t.smpl, p, o)","    #define FxaaTexGreen4(t, p) t.tex.GatherGreen(t.smpl, p)","    #define FxaaTexOffGreen4(t, p, o) t.tex.GatherGreen(t.smpl, p, o)","#endif","","","/*============================================================================","                   GREEN AS LUMA OPTION SUPPORT FUNCTION","============================================================================*/","#if (FXAA_GREEN_AS_LUMA == 0)","    FxaaFloat FxaaLuma(FxaaFloat4 rgba) { return rgba.w; }","#else","    FxaaFloat FxaaLuma(FxaaFloat4 rgba) { return rgba.y; }","#endif","","","","","/*============================================================================","","                             FXAA3 QUALITY - PC","","============================================================================*/","#if (FXAA_PC == 1)","/*--------------------------------------------------------------------------*/","FxaaFloat4 FxaaPixelShader(","    //","    // Use noperspective interpolation here (turn off perspective interpolation).","    // {xy} = center of pixel","    FxaaFloat2 pos,","    //","    // Used only for FXAA Console, and not used on the 360 version.","    // Use noperspective interpolation here (turn off perspective interpolation).","    // {xy_} = upper left of pixel","    // {_zw} = lower right of pixel","    FxaaFloat4 fxaaConsolePosPos,","    //","    // Input color texture.","    // {rgb_} = color in linear or perceptual color space","    // if (FXAA_GREEN_AS_LUMA == 0)","    //     {__a} = luma in perceptual color space (not linear)","    FxaaTex tex,","    //","    // Only used on the optimized 360 version of FXAA Console.",'    // For everything but 360, just use the same input here as for "tex".',"    // For 360, same texture, just alias with a 2nd sampler.","    // This sampler needs to have an exponent bias of -1.","    FxaaTex fxaaConsole360TexExpBiasNegOne,","    //","    // Only used on the optimized 360 version of FXAA Console.",'    // For everything but 360, just use the same input here as for "tex".',"    // For 360, same texture, just alias with a 3nd sampler.","    // This sampler needs to have an exponent bias of -2.","    FxaaTex fxaaConsole360TexExpBiasNegTwo,","    //","    // Only used on FXAA Quality.","    // This must be from a constant/uniform.","    // {x_} = 1.0/screenWidthInPixels","    // {_y} = 1.0/screenHeightInPixels","    FxaaFloat2 fxaaQualityRcpFrame,","    //","    // Only used on FXAA Console.","    // This must be from a constant/uniform.","    // This effects sub-pixel AA quality and inversely sharpness.","    //   Where N ranges between,","    //     N = 0.50 (default)","    //     N = 0.33 (sharper)","    // {x__} = -N/screenWidthInPixels","    // {_y_} = -N/screenHeightInPixels","    // {_z_} =  N/screenWidthInPixels","    // {__w} =  N/screenHeightInPixels","    FxaaFloat4 fxaaConsoleRcpFrameOpt,","    //","    // Only used on FXAA Console.","    // Not used on 360, but used on PS3 and PC.","    // This must be from a constant/uniform.","    // {x__} = -2.0/screenWidthInPixels","    // {_y_} = -2.0/screenHeightInPixels","    // {_z_} =  2.0/screenWidthInPixels","    // {__w} =  2.0/screenHeightInPixels","    FxaaFloat4 fxaaConsoleRcpFrameOpt2,","    //","    // Only used on FXAA Console.","    // Only used on 360 in place of fxaaConsoleRcpFrameOpt2.","    // This must be from a constant/uniform.","    // {x__} =  8.0/screenWidthInPixels","    // {_y_} =  8.0/screenHeightInPixels","    // {_z_} = -4.0/screenWidthInPixels","    // {__w} = -4.0/screenHeightInPixels","    FxaaFloat4 fxaaConsole360RcpFrameOpt2,","    //","    // Only used on FXAA Quality.","    // This used to be the FXAA_QUALITY_SUBPIX define.","    // It is here now to allow easier tuning.","    // Choose the amount of sub-pixel aliasing removal.","    // This can effect sharpness.","    //   1.00 - upper limit (softer)","    //   0.75 - default amount of filtering","    //   0.50 - lower limit (sharper, less sub-pixel aliasing removal)","    //   0.25 - almost off","    //   0.00 - completely off","    FxaaFloat fxaaQualitySubpix,","    //","    // Only used on FXAA Quality.","    // This used to be the FXAA_QUALITY_EDGE_THRESHOLD define.","    // It is here now to allow easier tuning.","    // The minimum amount of local contrast required to apply algorithm.","    //   0.333 - too little (faster)","    //   0.250 - low quality","    //   0.166 - default","    //   0.125 - high quality","    //   0.063 - overkill (slower)","    FxaaFloat fxaaQualityEdgeThreshold,","    //","    // Only used on FXAA Quality.","    // This used to be the FXAA_QUALITY_EDGE_THRESHOLD_MIN define.","    // It is here now to allow easier tuning.","    // Trims the algorithm from processing darks.","    //   0.0833 - upper limit (default, the start of visible unfiltered edges)","    //   0.0625 - high quality (faster)","    //   0.0312 - visible limit (slower)","    // Special notes when using FXAA_GREEN_AS_LUMA,","    //   Likely want to set this to zero.","    //   As colors that are mostly not-green","    //   will appear very dark in the green channel!","    //   Tune by looking at mostly non-green content,","    //   then start at zero and increase until aliasing is a problem.","    FxaaFloat fxaaQualityEdgeThresholdMin,","    //","    // Only used on FXAA Console.","    // This used to be the FXAA_CONSOLE_EDGE_SHARPNESS define.","    // It is here now to allow easier tuning.","    // This does not effect PS3, as this needs to be compiled in.","    //   Use FXAA_CONSOLE_PS3_EDGE_SHARPNESS for PS3.","    //   Due to the PS3 being ALU bound,","    //   there are only three safe values here: 2 and 4 and 8.","    //   These options use the shaders ability to a free *|/ by 2|4|8.","    // For all other platforms can be a non-power of two.","    //   8.0 is sharper (default!!!)","    //   4.0 is softer","    //   2.0 is really soft (good only for vector graphics inputs)","    FxaaFloat fxaaConsoleEdgeSharpness,","    //","    // Only used on FXAA Console.","    // This used to be the FXAA_CONSOLE_EDGE_THRESHOLD define.","    // It is here now to allow easier tuning.","    // This does not effect PS3, as this needs to be compiled in.","    //   Use FXAA_CONSOLE_PS3_EDGE_THRESHOLD for PS3.","    //   Due to the PS3 being ALU bound,","    //   there are only two safe values here: 1/4 and 1/8.","    //   These options use the shaders ability to a free *|/ by 2|4|8.","    // The console setting has a different mapping than the quality setting.","    // Other platforms can use other values.","    //   0.125 leaves less aliasing, but is softer (default!!!)","    //   0.25 leaves more aliasing, and is sharper","    FxaaFloat fxaaConsoleEdgeThreshold,","    //","    // Only used on FXAA Console.","    // This used to be the FXAA_CONSOLE_EDGE_THRESHOLD_MIN define.","    // It is here now to allow easier tuning.","    // Trims the algorithm from processing darks.","    // The console setting has a different mapping than the quality setting.","    // This only applies when FXAA_EARLY_EXIT is 1.","    // This does not apply to PS3,","    // PS3 was simplified to avoid more shader instructions.","    //   0.06 - faster but more aliasing in darks","    //   0.05 - default","    //   0.04 - slower and less aliasing in darks","    // Special notes when using FXAA_GREEN_AS_LUMA,","    //   Likely want to set this to zero.","    //   As colors that are mostly not-green","    //   will appear very dark in the green channel!","    //   Tune by looking at mostly non-green content,","    //   then start at zero and increase until aliasing is a problem.","    FxaaFloat fxaaConsoleEdgeThresholdMin,","    //","    // Extra constants for 360 FXAA Console only.","    // Use zeros or anything else for other platforms.","    // These must be in physical constant registers and NOT immediates.","    // Immediates will result in compiler un-optimizing.","    // {xyzw} = float4(1.0, -1.0, 0.25, -0.25)","    FxaaFloat4 fxaaConsole360ConstDir",") {","/*--------------------------------------------------------------------------*/","    FxaaFloat2 posM;","    posM.x = pos.x;","    posM.y = pos.y;","    #if (FXAA_GATHER4_ALPHA == 1)","        #if (FXAA_DISCARD == 0)","            FxaaFloat4 rgbyM = FxaaTexTop(tex, posM);","            #if (FXAA_GREEN_AS_LUMA == 0)","                #define lumaM rgbyM.w","            #else","                #define lumaM rgbyM.y","            #endif","        #endif","        #if (FXAA_GREEN_AS_LUMA == 0)","            FxaaFloat4 luma4A = FxaaTexAlpha4(tex, posM);","            FxaaFloat4 luma4B = FxaaTexOffAlpha4(tex, posM, FxaaInt2(-1, -1));","        #else","            FxaaFloat4 luma4A = FxaaTexGreen4(tex, posM);","            FxaaFloat4 luma4B = FxaaTexOffGreen4(tex, posM, FxaaInt2(-1, -1));","        #endif","        #if (FXAA_DISCARD == 1)","            #define lumaM luma4A.w","        #endif","        #define lumaE luma4A.z","        #define lumaS luma4A.x","        #define lumaSE luma4A.y","        #define lumaNW luma4B.w","        #define lumaN luma4B.z","        #define lumaW luma4B.x","    #else","        FxaaFloat4 rgbyM = FxaaTexTop(tex, posM);","        #if (FXAA_GREEN_AS_LUMA == 0)","            #define lumaM rgbyM.w","        #else","            #define lumaM rgbyM.y","        #endif","        #if (FXAA_GLSL_100 == 1)","          FxaaFloat lumaS = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 0.0, 1.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0, 0.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaN = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 0.0,-1.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0, 0.0), fxaaQualityRcpFrame.xy));","        #else","          FxaaFloat lumaS = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0, 1), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaN = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0,-1), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 0), fxaaQualityRcpFrame.xy));","        #endif","    #endif","/*--------------------------------------------------------------------------*/","    FxaaFloat maxSM = max(lumaS, lumaM);","    FxaaFloat minSM = min(lumaS, lumaM);","    FxaaFloat maxESM = max(lumaE, maxSM);","    FxaaFloat minESM = min(lumaE, minSM);","    FxaaFloat maxWN = max(lumaN, lumaW);","    FxaaFloat minWN = min(lumaN, lumaW);","    FxaaFloat rangeMax = max(maxWN, maxESM);","    FxaaFloat rangeMin = min(minWN, minESM);","    FxaaFloat rangeMaxScaled = rangeMax * fxaaQualityEdgeThreshold;","    FxaaFloat range = rangeMax - rangeMin;","    FxaaFloat rangeMaxClamped = max(fxaaQualityEdgeThresholdMin, rangeMaxScaled);","    FxaaBool earlyExit = range < rangeMaxClamped;","/*--------------------------------------------------------------------------*/","    if(earlyExit)","        #if (FXAA_DISCARD == 1)","            FxaaDiscard;","        #else","            return rgbyM;","        #endif","/*--------------------------------------------------------------------------*/","    #if (FXAA_GATHER4_ALPHA == 0)","        #if (FXAA_GLSL_100 == 1)","          FxaaFloat lumaNW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0,-1.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaSE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0, 1.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0,-1.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0, 1.0), fxaaQualityRcpFrame.xy));","        #else","          FxaaFloat lumaNW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1,-1), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaSE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 1), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1,-1), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 1), fxaaQualityRcpFrame.xy));","        #endif","    #else","        FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(1, -1), fxaaQualityRcpFrame.xy));","        FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 1), fxaaQualityRcpFrame.xy));","    #endif","/*--------------------------------------------------------------------------*/","    FxaaFloat lumaNS = lumaN + lumaS;","    FxaaFloat lumaWE = lumaW + lumaE;","    FxaaFloat subpixRcpRange = 1.0/range;","    FxaaFloat subpixNSWE = lumaNS + lumaWE;","    FxaaFloat edgeHorz1 = (-2.0 * lumaM) + lumaNS;","    FxaaFloat edgeVert1 = (-2.0 * lumaM) + lumaWE;","/*--------------------------------------------------------------------------*/","    FxaaFloat lumaNESE = lumaNE + lumaSE;","    FxaaFloat lumaNWNE = lumaNW + lumaNE;","    FxaaFloat edgeHorz2 = (-2.0 * lumaE) + lumaNESE;","    FxaaFloat edgeVert2 = (-2.0 * lumaN) + lumaNWNE;","/*--------------------------------------------------------------------------*/","    FxaaFloat lumaNWSW = lumaNW + lumaSW;","    FxaaFloat lumaSWSE = lumaSW + lumaSE;","    FxaaFloat edgeHorz4 = (abs(edgeHorz1) * 2.0) + abs(edgeHorz2);","    FxaaFloat edgeVert4 = (abs(edgeVert1) * 2.0) + abs(edgeVert2);","    FxaaFloat edgeHorz3 = (-2.0 * lumaW) + lumaNWSW;","    FxaaFloat edgeVert3 = (-2.0 * lumaS) + lumaSWSE;","    FxaaFloat edgeHorz = abs(edgeHorz3) + edgeHorz4;","    FxaaFloat edgeVert = abs(edgeVert3) + edgeVert4;","/*--------------------------------------------------------------------------*/","    FxaaFloat subpixNWSWNESE = lumaNWSW + lumaNESE;","    FxaaFloat lengthSign = fxaaQualityRcpFrame.x;","    FxaaBool horzSpan = edgeHorz >= edgeVert;","    FxaaFloat subpixA = subpixNSWE * 2.0 + subpixNWSWNESE;","/*--------------------------------------------------------------------------*/","    if(!horzSpan) lumaN = lumaW;","    if(!horzSpan) lumaS = lumaE;","    if(horzSpan) lengthSign = fxaaQualityRcpFrame.y;","    FxaaFloat subpixB = (subpixA * (1.0/12.0)) - lumaM;","/*--------------------------------------------------------------------------*/","    FxaaFloat gradientN = lumaN - lumaM;","    FxaaFloat gradientS = lumaS - lumaM;","    FxaaFloat lumaNN = lumaN + lumaM;","    FxaaFloat lumaSS = lumaS + lumaM;","    FxaaBool pairN = abs(gradientN) >= abs(gradientS);","    FxaaFloat gradient = max(abs(gradientN), abs(gradientS));","    if(pairN) lengthSign = -lengthSign;","    FxaaFloat subpixC = FxaaSat(abs(subpixB) * subpixRcpRange);","/*--------------------------------------------------------------------------*/","    FxaaFloat2 posB;","    posB.x = posM.x;","    posB.y = posM.y;","    FxaaFloat2 offNP;","    offNP.x = (!horzSpan) ? 0.0 : fxaaQualityRcpFrame.x;","    offNP.y = ( horzSpan) ? 0.0 : fxaaQualityRcpFrame.y;","    if(!horzSpan) posB.x += lengthSign * 0.5;","    if( horzSpan) posB.y += lengthSign * 0.5;","/*--------------------------------------------------------------------------*/","    FxaaFloat2 posN;","    posN.x = posB.x - offNP.x * FXAA_QUALITY_P0;","    posN.y = posB.y - offNP.y * FXAA_QUALITY_P0;","    FxaaFloat2 posP;","    posP.x = posB.x + offNP.x * FXAA_QUALITY_P0;","    posP.y = posB.y + offNP.y * FXAA_QUALITY_P0;","    FxaaFloat subpixD = ((-2.0)*subpixC) + 3.0;","    FxaaFloat lumaEndN = FxaaLuma(FxaaTexTop(tex, posN));","    FxaaFloat subpixE = subpixC * subpixC;","    FxaaFloat lumaEndP = FxaaLuma(FxaaTexTop(tex, posP));","/*--------------------------------------------------------------------------*/","    if(!pairN) lumaNN = lumaSS;","    FxaaFloat gradientScaled = gradient * 1.0/4.0;","    FxaaFloat lumaMM = lumaM - lumaNN * 0.5;","    FxaaFloat subpixF = subpixD * subpixE;","    FxaaBool lumaMLTZero = lumaMM < 0.0;","/*--------------------------------------------------------------------------*/","    lumaEndN -= lumaNN * 0.5;","    lumaEndP -= lumaNN * 0.5;","    FxaaBool doneN = abs(lumaEndN) >= gradientScaled;","    FxaaBool doneP = abs(lumaEndP) >= gradientScaled;","    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P1;","    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P1;","    FxaaBool doneNP = (!doneN) || (!doneP);","    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P1;","    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P1;","/*--------------------------------------------------------------------------*/","    if(doneNP) {","        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","        doneN = abs(lumaEndN) >= gradientScaled;","        doneP = abs(lumaEndP) >= gradientScaled;","        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P2;","        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P2;","        doneNP = (!doneN) || (!doneP);","        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P2;","        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P2;","/*--------------------------------------------------------------------------*/","        #if (FXAA_QUALITY_PS > 3)","        if(doneNP) {","            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","            doneN = abs(lumaEndN) >= gradientScaled;","            doneP = abs(lumaEndP) >= gradientScaled;","            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P3;","            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P3;","            doneNP = (!doneN) || (!doneP);","            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P3;","            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P3;","/*--------------------------------------------------------------------------*/","            #if (FXAA_QUALITY_PS > 4)","            if(doneNP) {","                if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                doneN = abs(lumaEndN) >= gradientScaled;","                doneP = abs(lumaEndP) >= gradientScaled;","                if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P4;","                if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P4;","                doneNP = (!doneN) || (!doneP);","                if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P4;","                if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P4;","/*--------------------------------------------------------------------------*/","                #if (FXAA_QUALITY_PS > 5)","                if(doneNP) {","                    if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                    if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                    if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                    if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                    doneN = abs(lumaEndN) >= gradientScaled;","                    doneP = abs(lumaEndP) >= gradientScaled;","                    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P5;","                    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P5;","                    doneNP = (!doneN) || (!doneP);","                    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P5;","                    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P5;","/*--------------------------------------------------------------------------*/","                    #if (FXAA_QUALITY_PS > 6)","                    if(doneNP) {","                        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                        doneN = abs(lumaEndN) >= gradientScaled;","                        doneP = abs(lumaEndP) >= gradientScaled;","                        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P6;","                        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P6;","                        doneNP = (!doneN) || (!doneP);","                        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P6;","                        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P6;","/*--------------------------------------------------------------------------*/","                        #if (FXAA_QUALITY_PS > 7)","                        if(doneNP) {","                            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                            doneN = abs(lumaEndN) >= gradientScaled;","                            doneP = abs(lumaEndP) >= gradientScaled;","                            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P7;","                            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P7;","                            doneNP = (!doneN) || (!doneP);","                            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P7;","                            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P7;","/*--------------------------------------------------------------------------*/","    #if (FXAA_QUALITY_PS > 8)","    if(doneNP) {","        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","        doneN = abs(lumaEndN) >= gradientScaled;","        doneP = abs(lumaEndP) >= gradientScaled;","        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P8;","        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P8;","        doneNP = (!doneN) || (!doneP);","        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P8;","        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P8;","/*--------------------------------------------------------------------------*/","        #if (FXAA_QUALITY_PS > 9)","        if(doneNP) {","            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","            doneN = abs(lumaEndN) >= gradientScaled;","            doneP = abs(lumaEndP) >= gradientScaled;","            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P9;","            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P9;","            doneNP = (!doneN) || (!doneP);","            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P9;","            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P9;","/*--------------------------------------------------------------------------*/","            #if (FXAA_QUALITY_PS > 10)","            if(doneNP) {","                if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                doneN = abs(lumaEndN) >= gradientScaled;","                doneP = abs(lumaEndP) >= gradientScaled;","                if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P10;","                if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P10;","                doneNP = (!doneN) || (!doneP);","                if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P10;","                if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P10;","/*--------------------------------------------------------------------------*/","                #if (FXAA_QUALITY_PS > 11)","                if(doneNP) {","                    if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                    if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                    if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                    if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                    doneN = abs(lumaEndN) >= gradientScaled;","                    doneP = abs(lumaEndP) >= gradientScaled;","                    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P11;","                    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P11;","                    doneNP = (!doneN) || (!doneP);","                    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P11;","                    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P11;","/*--------------------------------------------------------------------------*/","                    #if (FXAA_QUALITY_PS > 12)","                    if(doneNP) {","                        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                        doneN = abs(lumaEndN) >= gradientScaled;","                        doneP = abs(lumaEndP) >= gradientScaled;","                        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P12;","                        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P12;","                        doneNP = (!doneN) || (!doneP);","                        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P12;","                        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P12;","/*--------------------------------------------------------------------------*/","                    }","                    #endif","/*--------------------------------------------------------------------------*/","                }","                #endif","/*--------------------------------------------------------------------------*/","            }","            #endif","/*--------------------------------------------------------------------------*/","        }","        #endif","/*--------------------------------------------------------------------------*/","    }","    #endif","/*--------------------------------------------------------------------------*/","                        }","                        #endif","/*--------------------------------------------------------------------------*/","                    }","                    #endif","/*--------------------------------------------------------------------------*/","                }","                #endif","/*--------------------------------------------------------------------------*/","            }","            #endif","/*--------------------------------------------------------------------------*/","        }","        #endif","/*--------------------------------------------------------------------------*/","    }","/*--------------------------------------------------------------------------*/","    FxaaFloat dstN = posM.x - posN.x;","    FxaaFloat dstP = posP.x - posM.x;","    if(!horzSpan) dstN = posM.y - posN.y;","    if(!horzSpan) dstP = posP.y - posM.y;","/*--------------------------------------------------------------------------*/","    FxaaBool goodSpanN = (lumaEndN < 0.0) != lumaMLTZero;","    FxaaFloat spanLength = (dstP + dstN);","    FxaaBool goodSpanP = (lumaEndP < 0.0) != lumaMLTZero;","    FxaaFloat spanLengthRcp = 1.0/spanLength;","/*--------------------------------------------------------------------------*/","    FxaaBool directionN = dstN < dstP;","    FxaaFloat dst = min(dstN, dstP);","    FxaaBool goodSpan = directionN ? goodSpanN : goodSpanP;","    FxaaFloat subpixG = subpixF * subpixF;","    FxaaFloat pixelOffset = (dst * (-spanLengthRcp)) + 0.5;","    FxaaFloat subpixH = subpixG * fxaaQualitySubpix;","/*--------------------------------------------------------------------------*/","    FxaaFloat pixelOffsetGood = goodSpan ? pixelOffset : 0.0;","    FxaaFloat pixelOffsetSubpix = max(pixelOffsetGood, subpixH);","    if(!horzSpan) posM.x += pixelOffsetSubpix * lengthSign;","    if( horzSpan) posM.y += pixelOffsetSubpix * lengthSign;","    #if (FXAA_DISCARD == 1)","        return FxaaTexTop(tex, posM);","    #else","        return FxaaFloat4(FxaaTexTop(tex, posM).xyz, lumaM);","    #endif","}","/*==========================================================================*/","#endif","","void main() {","  gl_FragColor = FxaaPixelShader(","    vUv,","    vec4(0.0),","    tDiffuse,","    tDiffuse,","    tDiffuse,","    resolution,","    vec4(0.0),","    vec4(0.0),","    vec4(0.0),","    0.75,","    0.166,","    0.0833,","    0.0,","    0.0,","    0.0,","    vec4(0.0)","  );","","  // TODO avoid querying texture twice for same texel","  gl_FragColor.a = texture2D(tDiffuse, vUv).a;","}"].join("\n")}},135:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n(27),n(24),n(54);var r=n(0),o=n(46),i=n(56),a=(n(35),n(10)),s=function(e,t){a.a.call(this),this.scene=e,this.camera=t,this.clear=!0,this.needsSwap=!1,this.inverse=!1};s.prototype=Object.assign(Object.create(a.a.prototype),{constructor:s,render:function(e,t,n){var r,o,i=e.context,a=e.state;a.buffers.color.setMask(!1),a.buffers.depth.setMask(!1),a.buffers.color.setLocked(!0),a.buffers.depth.setLocked(!0),this.inverse?(r=0,o=1):(r=1,o=0),a.buffers.stencil.setTest(!0),a.buffers.stencil.setOp(i.REPLACE,i.REPLACE,i.REPLACE),a.buffers.stencil.setFunc(i.ALWAYS,r,4294967295),a.buffers.stencil.setClear(o),e.setRenderTarget(n),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),a.buffers.color.setLocked(!1),a.buffers.depth.setLocked(!1),a.buffers.stencil.setFunc(i.EQUAL,1,4294967295),a.buffers.stencil.setOp(i.KEEP,i.KEEP,i.KEEP)}});var _=function(){a.a.call(this),this.needsSwap=!1};_.prototype=Object.create(a.a.prototype),Object.assign(_.prototype,{render:function(e){e.state.buffers.stencil.setTest(!1)}});var u=function(e,t){if(this.renderer=e,void 0===t){var n={minFilter:r.t,magFilter:r.t,format:r.G,stencilBuffer:!1,antialias:!0,alpha:!0},a=e.getSize(new r.T);this._pixelRatio=e.getPixelRatio(),this._width=a.width,this._height=a.height,(t=new r.X(this._width*this._pixelRatio,this._height*this._pixelRatio,n)).texture.name="EffectComposer.rt1"}else this._pixelRatio=1,this._width=t.width,this._height=t.height;this.renderTarget1=t,this.renderTarget2=t.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],void 0===o.a&&console.error("THREE.EffectComposer relies on CopyShader"),void 0===i.a&&console.error("THREE.EffectComposer relies on ShaderPass"),this.copyPass=new i.a(o.a),this.clock=new r.e};Object.assign(u.prototype,{swapBuffers:function(){var e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e},addPass:function(e){this.passes.push(e);var t=this.renderer.getDrawingBufferSize(new r.T);e.setSize(t.width,t.height)},insertPass:function(e,t){this.passes.splice(t,0,e)},isLastEnabledPass:function(e){for(var t=e+1;t<this.passes.length;t++)if(this.passes[t].enabled)return!1;return!0},render:function(e){void 0===e&&(e=this.clock.getDelta());var t,n,r=this.renderer.getRenderTarget(),o=!1,i=this.passes.length;for(n=0;n<i;n++)if(!1!==(t=this.passes[n]).enabled){if(t.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(n),t.render(this.renderer,this.writeBuffer,this.readBuffer,e,o),t.needsSwap){if(o){var a=this.renderer.context;a.stencilFunc(a.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),a.stencilFunc(a.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==s&&(t instanceof s?o=!0:t instanceof _&&(o=!1))}this.renderer.setRenderTarget(r)},reset:function(e){if(void 0===e){var t=this.renderer.getSize(new r.T);this._pixelRatio=this.renderer.getPixelRatio(),this._width=t.width,this._height=t.height,(e=this.renderTarget1.clone()).setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2},setSize:function(e,t){this._width=e,this._height=t;var n=this._width*this._pixelRatio,r=this._height*this._pixelRatio;this.renderTarget1.setSize(n,r),this.renderTarget2.setSize(n,r);for(var o=0;o<this.passes.length;o++)this.passes[o].setSize(n,r)},setPixelRatio:function(e){this._pixelRatio=e,this.setSize(this._width,this._height)}});var l,c,d,p=function(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1};Object.assign(p.prototype,{setSize:function(){},render:function(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}),p.FullScreenQuad=(l=new r.B(-1,1,1,-1,0,1),c=new r.D(2,2),d=function(e){this._mesh=new r.x(c,e)},Object.defineProperty(d.prototype,"material",{get:function(){return this._mesh.material},set:function(e){this._mesh.material=e}}),Object.assign(d.prototype,{render:function(e){e.render(this._mesh,l)}}),d)},136:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n(27),n(34),n(89),n(41),n(42),n(21);var r=n(0),o=["A5AF8CD54D229E189B25C159BA9F611D912D5851CDCF4EE58D4008E8EE0EDA86","5F44A178E4A1E0AA6D2EFACACBE151216ACFC2D991C0F587B20E7EA73BE2C1BD","AED47C053B9B9B51CE9FB37441AE816E40369E414CA116A86673A4667849B746","C5EA2960C848361C3ED9D397A915BFE1","B95A696913F930899AC9217D2A3F3EF0","B07B7741DDFCB8BC242F16D58FBF2F6F0A0D1E4A4DFB8160868C336BA7394B27B2C8FD982046D1DAD2181DFBEADE4364","00BA28404950D7066827129AC07D0B4F","C6966EB32AF847DC6D1FE51B867114E34CAA8D2C2AA6721675DCA095568847AC8D62C856A015FAB6C9CF889EB519E9414496079D488CB33F0AE4E4CAFD651933","FB9A9A7FAD32AD97F1D46087F6F4E139"],i=["C304CD361D1E7C93B5ADE6013CA916CB9081C2D35BBD9EBFE928ABEAA6AF3349","7D85353EDA1F0637B3252A0AB041AE42E43E1962ECE617B3BA25D7659E081785","F2D8696C8B7B53260B301CF9C3021261AD165443FF3A1332A27A8BC60BC4FB88","F2D8696C8B7B53260B301CF9C3021261E774D1C79467003B36BFD880D5E98525B102D96C3AFB2D94F700137224AEF12F","5F44A178E4A1E0AA6D2EFACACBE151216ACFC2D991C0F587B20E7EA73BE2C1BD","A5AF8CD54D229E189B25C159BA9F611D912D5851CDCF4EE58D4008E8EE0EDA86","AED47C053B9B9B51CE9FB37441AE816E40369E414CA116A86673A4667849B746","9CA262667664C6B5DC7B4A1B16F43DB7BDAC6856AEFE6CF349789520D845515F4BC844DC67C1E93D51A5730F5B6EFF83","A3AE93A35AC1324A20C8E4E0A4A2055B318BACDEC9BCC0C65BED0D95BDA47562797C50C93930228BAE60908A8A60A3E8","ECAB7232551EADD14C7DF5889B83BF5D371AC8EE3D44994B76FC4AE8B7B9FA38","16D59890EC31C37064B0DB9AABCB7DEF69FEF87876A7523D36E217F65B8ED59D7E4D7CE045694E1BCB05D1E3DABCA875","FB9A9A7FAD32AD97F1D46087F6F4E139","0422E0D580D193FDD6A996A059224B1F64945106EE7E1F8770721559240E10934F24BB2082C681B4CD4B274130DBD63F","C29A084FE9E28BDA0340738557BE687D2452141D8F0E1ABA75F673AC1EE887BC","2CB64FE4DC46E70E281FD943A8D93BDAD4028FA23F3AEDB8D65B7918460CFAED","5BE637759BD285AC3A406F151BA8ACCC7652A8707B05975303C570C38722C1C496D59181734A1BAEA4267BE347EBCFE5","FB9A9A7FAD32AD97F1D46087F6F4E139","C5EA2960C848361C3ED9D397A915BFE1","7F84E31C3D5C4689361C1377EF7264CDADD6F76FC9E6B61EA2C2E6961272B9FB","3852E9EA7A28B7EC61163E670C4B31D0","F3CE802CC895BB73C7270F80A49B80F5CD4B95F364BC3CC143453B2CFCBECAAAF4E6B11B6BD99FA316DE3E53FA15B6692A17847ECE10C73EADEA25D0956D9910","5B3F1FE837F9803A08AE780D9CDD54014FFE42A25E8286E988592959F068CD2461FA75B01DDD8B9E1A31880CB3F177E1BEFD66FF9565F997E83CDC60BF837CA0","E32AC0FE4F84B2C5D0E16BF59D364147D78307563354BAFE86FAE751F7FEBA25","8D0BD66928DEB32F2670B842F63BA9DEDE1B4F84BF74033D414BFED4210BB2AA873BD073EB7F198F32C2B83246BE6F47","A8F1EB139C2A0644CA4F6566BA76FC446104EA5C53C1A269642347137548D20A35B96C529F167CA603197F7CFDC3221700FA2822C5347BC53FC27CA1257F04C0","AAD33366DEFA9DA9F8A4751531C3EC738599015371C562ECD0FEE07E536BDCB008055353928A593096F8653EEBF491F38166CF40C4E6269E39D61106734462EB","D3A9F91B51FAF422FD67E0670B8321884FAED8A513A9C43648A0CAE0CE4B52BD8F1D8BACE5B3CDE948D11C050A6FCCA284AD4DED6C318E2925FC12F4B1AA2415C26848EE56CF6882AC0A5EA87BB4C4FADA53800840EE357D005C43BF6666AB0395EA66AB8F435EC893B534DA5418FB4A","B56806557F1115C50BD2542EFDAC3F80C7D3FDAD396A00A4E54B574D10BD57C6093981495C49184C6470BD1F42DDE770FE27342ADB7295DD37D539BC853339A7","AE7C45B6DE13AFA02AAAFE50D90D61C0B4E61101CB1B1EC97AE0032AE9C8DC7551DFE944E31262DB1FEA4882B0F3B307FCA6F4EABF9BB3D7C4A5B5F4A44FF66F","3F5ECD38CDF91191AC8FCF4AE394DA315F9559CED443897C339436F7AC4D7468F1A0CDE3108A23C7D9E52CA19F0E91CE0342C2D141CB63FFD7F33238054BB626","A8472142D22773E7E33E8F15360AEA8CEAE3010F5B1ACB94346CDF6F1B62AE2A464D9C3C150214B676E093931490CE3F6E3D89065B771CB2C966678671DBCEA3","7EC10A86967699F5DE5BADDBD5877EB9E363BE06F9B5253D60CCF2B861676AB47CC2019D6D7FAFC55A841B687F7D21A0CD708CFF872401407ED757AC4D342D93","E3132DFF1067A95C4A7192A080BD48BDC5422078030488FA764A567589BBFF89590631FF278C7FA0AB2A4F8971F44F54F7254CB828B19C9EE751AF52F4E8274A","4E859A76F82AAC25904269CB5769A0839A70887C5E55C712752FDA19C9F2C63AA69B339F4C56D4E8D7A1ACCED6A85FE2F19695EDDDADBC88C52568F938E10C28E3399B8AC049C36F83E52585D6C9BBEFBAEFCA046C3FB5E83B097EE998A2B7FA","D769300E224DB503682E97B268327F583A4713972DFDB02E86BF54163C4C7D13FC3D31CA40A1E8221C343A4F3470110E","7FB61B855E8C9322FE4DDFC835BE6574DAF462B2307CE181312F7777F44CC48E91108301066705CEB99556B9F3434D189D5D9698292288A37753F42451383C1B5FA7C5F3B69C932FD609A97549E829B5","7FB61B855E8C9322FE4DDFC835BE6574DA3EE69AA19EF8200BADC63C8BEAA38D4D2064F14308EEE032E9409CA9F70BA8748BDB271E054CF62A407A9452934402","7FB61B855E8C9322FE4DDFC835BE6574712A42456497648389C3255B2933B866D4EC155E92DCDDAC469371A280AEADB8F776B2AF785752AAB42CC88738D0015C","3602FB3BCF3835C7773A8501D9DFAFFF1A1A687AD119DC9ABBB1BDBC9AEA40E96D8B066AAC4F31B6714166B6E2A18291710AFD279E26EEB2AEC00566AC85658761D5F32E6F7AFA43429BBF95615E2E809DAF80D1B7D8346C2E978F47D6AC5A27","7FB61B855E8C9322FE4DDFC835BE65743696235461635B3A59004FBAA01B0782C5F2E797CF3C1B8E3399E12DD6FDA073559F857B14D404FD442210AD8C56386A","7FB61B855E8C9322FE4DDFC835BE6574F9AB0C73BF1FA30F6765A171C26A4C3F3FAF10CFF8698C431BD9FA9FCC2B83442FB4BBA4D5F3B946F215852ADB2562A2","3602FB3BCF3835C7773A8501D9DFAFFF2862E827DC0AF91081DBAB9D2E24BF5AFE19B3F033C4D90B865536041DDC552A9E25C20E480AD60C67ECE334AF713C993DBE8C830131299C8EE187A8596AF64D5637C218C5A0C86AA4DF7A822C48DE1F","EA491E6233A94DE6644340DBFC5E72B51766ACC1CA5EABC12F9CE8D3D535683F","15F59E694494682F88B0463F6B1FC0E7D8F0296D478FE8C78EA359B452F6250CC405B6DE829AD25939D578BFBF29F990BA18C9CF127EF6D421106D3333C4524E","D769300E224DB503682E97B268327F586AA131E5ABBCAC0C979DF0E2A521E8C319B5A9BE40F970F980C48C0F2C670DB28D7CF4814D189BDCBC1E565B052E7708","D769300E224DB503682E97B268327F58A4F56189A56FC19C7BDA8647A9FFFB8013C5CD575703F81C4758CC61B5230B7814582EB44143EC992CF1E55250E97C48","D769300E224DB503682E97B268327F58A703A23DD77136846E241781FCA9D3F1932F90DB1739F688090BC8416F041B9E","D769300E224DB503682E97B268327F58E3826F2F93BAF60CD6EAADEE6B1268DE5A3800052AFDA254670D5772E59F0B45","D769300E224DB503682E97B268327F58C2AB77A39253E57B9EA1FA66A6E3F6F53277B3E44E227600561212F9D7326525","D769300E224DB503682E97B268327F5821D56F823FE9E8C74858F35196A9BE075498A8F2C729906BE4AC8D7BCA05159220E0F075EC3001B8D154CA260664189F","D769300E224DB503682E97B268327F58289ADED705BACF9CF247E36B43526282A85046AB6E504EF86240FB2D422675B24C4534B4E34C8E1FA7F1ED8CB249C30E","D769300E224DB503682E97B268327F5821D56F823FE9E8C74858F35196A9BE072FB7DBA8A1A7A808D2425ABBC97BFCDF63E15FD9DFD2A99225404205E0764DE6","D769300E224DB503682E97B268327F58184B71B57C7911B6D7A32115355BFB83","D769300E224DB503682E97B268327F582649D2DFD039344F0A9DC74CD2333639","D769300E224DB503682E97B268327F582649D2DFD039344F0A9DC74CD2333639","D769300E224DB503682E97B268327F585CD32BEEA763D23531F948B7E09AFFD5B0216A6F163BB948B3919DC7BC162AE83C0F63BFBE0D0BD83E050A0CD9D7AB3532C028F1EB42A0090C8CBE874CE0512E633BD684B4EEDDE18A64ED5F757435266BAB0459A61BB74BDBBB35B110BBDC646BB8BA0A65D8757FDA79BEAEF0FCF541","D769300E224DB503682E97B268327F58044F953DB9BFD78FFD9E1BA43696CF5EF826E20EACD3A193295C476E9693923B82A74488C5D3FBDE71935E7D0E031B0A5B89492BEF54D9388B52A3BBDE0EB3EE","D769300E224DB503682E97B268327F582649D2DFD039344F0A9DC74CD2333639","D769300E224DB503682E97B268327F58390CB0473829944EA947CD9CEDB0B338","98C1A2D38554539125C0F83C0A7C9FFA","C565CC428F05001EC06AA7E14B3CB6B2","2BC40ADBEE7B72D3D7C1F117BFC248E7","FB9A9A7FAD32AD97F1D46087F6F4E139"];function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=n(185),_=s.enc.Utf8.parse("REdlbmU="),u=s.enc.Utf8.parse("aHVhbmdodWE="),l=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resArr=[],this.frustRatio=16/9,this.frustPlane=20,this.frustumHelper=null,this.frustPointsList=[],this.frustumHelperList=[],this.camLookat=[],this.baseTextureS=t,this.videoTextureArr=n,this.scene=r}var t,n,l;return t=e,(n=[{key:"Decrypt",value:function(e){var t=s.enc.Hex.parse(e),n=s.enc.Base64.stringify(t);return s.AES.decrypt(n,_,{iv:u,mode:s.mode.CBC,padding:s.pad.Pkcs7}).toString(s.enc.Utf8).toString()}},{key:"de",value:function(e){var t=[],n=this;return e.forEach((function(e){t.push(n.Decrypt(e))})),t.join("\n")}},{key:"spaceCalculate",value:function(e){return new Promise((function(t,n){e.forEach((function(e,t){resArr[e]=transform(data.tex_video_data[e].intrinsic,data.tex_video_data[e].pose)})),t()}))}},{key:"transform",value:function(e,t){var n,o,i;return new Promise((function(a,s){n=2*Math.atan(parseFloat(e[1][2])/parseFloat(e[1][1]))*180/Math.PI;var _=t;o=[parseFloat(_[0][3]),parseFloat(_[1][3]),parseFloat(_[2][3])],i=(new r.w).set(_[0][0],_[0][1],_[0][2],_[0][3],_[1][0],_[1][1],_[1][2],_[1][3],_[2][0],_[2][1],_[2][2],_[2][3],0,0,0,1),a(n,o,i)}))}},{key:"generateFrustumHelper",value:function(e,t,n,o){var i=this.frustRatio,a=this.frustPlane,s=this.frustPointsList,_=e,u=a*Math.tan(r.v.degToRad(.5*_)),l=u*i,c=[new r.U,new r.U(-l,-u,a),new r.U(l,-u,a),new r.U(-l,u,a),new r.U(l,u,a)];s[o]=[],s[o].push(c);var d=(new r.d).setFromPoints(c);d.setIndex([0,1,0,2,0,3,0,4,1,2,2,4,4,3,3,1]);var p=new r.s(d,new r.r({color:16711680,transparent:!0}));this.scene.add(p),p.position.set(t.x,t.y,t.z);var f=(new r.w).set(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15]);return console.log(f),p.setRotationFromMatrix(f),p.updateMatrixWorld(),p}},{key:"initFrustum",value:function(e,t){this.frustPointsList;var n=this.frustumHelperList,o=this.frustumHelper,i=this;return new Promise((function(a,s){e.forEach((function(e,a){n[e]=[],o=i.generateFrustumHelper(t.fov,t.position,t.poseMat4,e),n[e].push(o);var s=[new r.U,new r.U,new r.U,new r.U,new r.U];i.frustPointsList[e][0].forEach((function(t,r){n[e][0].localToWorld(s[r].copy(t))}));var _=new r.U(0,0,0);for(a=1;a<5;a++)_=(new r.U).addVectors(_,s[a]);_.multiplyScalar(.25),i.camLookat.push({x:_.x,y:_.y,z:_.z})})),a()}))}},{key:"returnFuseMaterital",value:function(e,t){this.frustPointsList;var n=this.frustumHelperList,a=this.baseTextureS,s=this.videoTextureArr,_=this.de(o),u=this.de(i),l={baseColor:{value:new r.f(16777215)},frustum:{value:[new r.U,new r.U,new r.U,new r.U,new r.U]},baseTexture:{value:a[e]},videoTexture:{value:[s[t]]}};return this.frustPointsList[t][0].forEach((function(e,r){n[t][0].localToWorld(l.frustum.value[r].copy(e))})),new r.J({uniforms:l,vertexShader:_,fragmentShader:u,vertexColors:r.V,side:r.l,depthTest:!0})}}])&&a(t.prototype,n),l&&a(t,l),e}()},147:function(e,t,n){},150:function(e){e.exports=JSON.parse('{"name":"fusion-platform","version":"5.0.5","title":"5.0.5","main":"./src/entry.js","sideEffects":["*.css","*.less","*.scss"],"description":"","scripts":{"dll":"webpack --config build/dll.config.js","dev":"webpack-dev-server --open --progress --config build/webpack.dev.js --disable-host-check","build":"webpack --config build/webpack.prod.js"},"author":{"name":"demon","email":"hh_demon@163.com","github":"https://github.com/infiniteDemon"},"license":"ISC","dependencies":{"@babel/polyfill":"^7.2.5","@tweenjs/tween.js":"^17.2.0","axios":"^0.19.0","crypto-js":"^3.1.9-1","flv.js":"^1.5.0","jquery":"^3.4.1","js-base64":"^2.5.1","lodash":"^4.17.11","three":"^0.106.2","to-regex-range":"^5.0.1"},"devDependencies":{"@babel/core":"^7.4.5","@babel/preset-env":"^7.4.5","babel-loader":"^8.0.6","clean-webpack-plugin":"^2.0.1","copy-webpack-plugin":"^4.6.0","css-loader":"^1.0.1","cssnano":"^4.1.10","eslint":"^5.15.1","eslint-config-airbnb-base":"^13.1.0","eslint-import-resolver-webpack":"^0.11.0","eslint-loader":"^2.1.2","eslint-plugin-import":"^2.16.0","file-loader":"^2.0.0","html-loader":"^0.5.5","html-webpack-plugin":"^4.0.0-beta.5","less":"^3.9.0","less-loader":"^4.1.0","mini-css-extract-plugin":"^0.5.0","optimize-css-assets-webpack-plugin":"^5.0.1","postcss-import":"^12.0.1","postcss-loader":"^3.0.0","postcss-preset-env":"^6.6.0","style-loader":"^0.23.1","terser-webpack-plugin":"^1.2.3","url-loader":"^1.1.2","webpack":"^4.26.1","webpack-cli":"^3.1.2","webpack-dev-server":"^3.7.2","webpack-merge":"^4.1.4"},"browserslist":["defaults"]}')},16:function(e,t,n){"use strict";n(34),n(51),n(40),n(81),n(41),n(42),n(21);var r=n(1),o=n(22),i=n(55),a={importJs:function(e,t,n){var r=document.createElement(t);r.defer=!0,r.src=e,document.body.appendChild(r),n&&n()},returnType:function(e){return{}.toString.call(e)},returnDgene:function(){console.log("".concat(r.a.error).concat(r.a.ENTRY_INITIALIZE_ERROR)),setTimeout((function(){window.open("https://www.dgene.com/","_self")}),5e3)},initMode:function(e,t,n){var a=this,s={};null==t&&(t=null),n?console.log("".concat(r.a.info,"local mode")):console.log("".concat(r.a.info,"network mode")),(n?Promise.all([Object(o.b)("".concat(e.api.apiBase).concat(e.api.scene,".json")),Object(o.b)("".concat(e.api.apiBase).concat(e.api.file,".json")),Object(o.b)("".concat(e.api.apiBase).concat(e.api.fusion,".json"))]):Promise.all([Object(o.a)("GET","".concat(e.url).concat(e.api.apiBase).concat(e.api.scene),null,null),Object(o.a)("GET","".concat(e.url).concat(e.api.apiBase).concat(e.api.file),null,null),Object(o.a)("GET","".concat(e.url).concat(e.api.apiBase).concat(e.api.fusion),null,null)])).then((function(n){0==n[0].code?a.returnType(n[0].data)==a.Object?s.scene=n[0].data:console.error("".concat(r.a.error).concat(r.a.ENTRY_SCENE_INITIALIZE_ERROR)):console.error("".concat(r.a.error).concat(r.a.ENTRY_SCENE_REQUEST_ERROR)),0==n[1].code&&a.returnType(n[1].data)==a.Array?s.file=n[1].data:console.error("".concat(r.a.error).concat(r.a.ENTRY_FILE_INITIALIZE_ERROR)),0==n[2].code&&a.returnType(n[2].data)==a.Object?s.fusion=n[2].data:console.error("".concat(r.a.error).concat(r.a.ENTRY_FUSION_INITIALIZE_ERROR)),(t=new i.a(e,s)).init(),t.render()}))},String:"[object String]",Object:"[object Object]",Array:"[object Array]",Number:"[object Number]"};t.a=a},209:function(e,t,n){"use strict";n.r(t);n(27),n(24),n(34),n(51),n(40),n(21),n(81),n(147);var r,o=n(6),i=n.n(o),a=(n(148),n(16)),s=n(0),_=n(1),u=n(55),l=["U","2","F","s","d","G","V","k","X","1","/","k","0","5","u","I","T","A","B","y","D","2","m","R","f","D","m","D","X","Y","X","P","H","/","r","P","N","R","z","l","H","s","M","="].join("");function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onLoad=n,this.onProgress=t,this.options=r,this.resTemp=null,this.initSetting={},this.init()}var t,n,o;return t=e,(n=[{key:"init",value:function(){var e,t,n,r,o,i=this;e=document,t=window,n=e.documentElement,r="orientationchange"in window?"orientationchange":"resize",o=function(){var e=n.clientWidth;e&&(n.style.fontSize=e/3840*100+"px")},e.addEventListener&&(t.addEventListener(r,o,!1),e.addEventListener("DOMContentLoaded",o,!1)),i.initScene(),s.g.onProgress=function(e,t,n){return i.onProgress(e,t,n)},s.g.onLoad=function(){return i.onLoad()}}},{key:"initScene",value:function(){var e=this;e.options.isLocal?console.log("".concat(_.a.info,"local mode")):console.log("".concat(_.a.info,"network mode")),e.options.isLocal?e.resTemp=Promise.all([this.$json("".concat(e.options.api.apiBase).concat(e.options.api.scene,".json")),this.$json("".concat(e.options.api.apiBase).concat(e.options.api.file,".json")),this.this.$json("".concat(e.options.api.apiBase).concat(e.options.api.fusion,".json"))]):e.resTemp=Promise.all([this.$ajax("GET","".concat(e.options.url).concat(e.options.api.apiBase).concat(e.options.api.scene),null,null),this.$ajax("GET","".concat(e.options.url).concat(e.options.api.apiBase).concat(e.options.api.file),null,null),this.$ajax("GET","".concat(e.options.url).concat(e.options.api.apiBase).concat(e.options.api.fusion),null,null)]),e.resTemp.then((function(t){0==t[0].code?a.a.returnType(t[0].data)==a.a.Object?e.initSetting.scene=t[0].data:console.error("".concat(_.a.error).concat(_.a.ENTRY_SCENE_INITIALIZE_ERROR)):console.error("".concat(_.a.error).concat(_.a.ENTRY_SCENE_REQUEST_ERROR)),0==t[1].code&&a.a.returnType(t[1].data)==a.a.Array?e.initSetting.file=t[1].data:console.error("".concat(_.a.error).concat(_.a.ENTRY_FILE_INITIALIZE_ERROR)),0==t[2].code&&a.a.returnType(t[2].data)==a.a.Object?e.initSetting.fusion=t[2].data:console.error("".concat(_.a.error).concat(_.a.ENTRY_FUSION_INITIALIZE_ERROR)),e.options.development==l?(e.dgeneScene=new u.a(e.options,e.initSetting),e.dgeneScene.init(),e.dgeneScene.render()):(r=new u.a(e.options,e.initSetting),console.log("".concat(_.a.log).concat(_.a.ENTRY_Developer_CLOSE)),r.init(),r.render())}))}},{key:"$ajax",value:function(){var e=arguments,t=this,n=null,r={"Access-Control-Allow-Origin":"*","Content-Type":"application/json"};return"POST"==arguments[0]?(n="POST",r=Object.assign(r,{"Content-Type":"application/x-www-form-urlencoded"})):"GET"==arguments[0]&&(n="GET"),new Promise((function(o,a){i.a.ajax({type:n,url:e[1],dataType:"json",data:e[2],xhrFields:r,beforeSend:function(e){e.setRequestHeader("Authorization","Bearer ".concat(t.options.publicKey))},success:function(e){o(e)},error:function(e,t){return console.error("Dgene error:request:  "+t),o(t),!1}})}))}},{key:"$json",value:function(){var e=arguments;return new Promise((function(t,n){i.a.getJSON(e[0],(function(e){t(e)}))}))}},{key:"callIndex",value:function(){return this.options.development==l?this.dgeneScene.callModelIndex():r.callModelIndex()}},{key:"Fkey",value:function(e){var t=i.a.Event("keydown");t.keyCode=e,i()("body").trigger(t)}},{key:"getCameraY",value:function(){return this.options.development==l?this.dgeneScene.getCameraY():r.getCameraY()}},{key:"debugLog",value:function(){return this.options.development==l?this.dgeneScene.debugLog():r.debugLog()}},{key:"restCamera",value:function(){return this.options.development==l?this.dgeneScene.restCamera():r.restCamera()}},{key:"camFlyTo",value:function(e,t){return this.options.development==l?this.dgeneScene.camFlyTo(e,t):r.camFlyTo(e,t)}},{key:"getCameraPosition",value:function(){return this.options.development==l?this.dgeneScene.getCameraPosition():r.getCameraPosition()}},{key:"getControl",value:function(){return this.options.development==l?this.dgeneScene.getControl():r.getControl()}}])&&c(t.prototype,n),o&&c(t,o),e}();window.Dgene=d},22:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));n(34),n(21),n(24);var r=n(6),o=n.n(r);function i(){var e=arguments,t=null,n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json"};return"POST"==arguments[0]?(t="POST",n=Object.assign(n,{"Content-Type":"application/x-www-form-urlencoded"})):"GET"==arguments[0]&&(t="GET"),new Promise((function(r,i){o.a.ajax({type:t,url:e[1],dataType:"json",data:e[2],xhrFields:n,beforeSend:function(e){e.setRequestHeader("Authorization","Bearer ".concat(setting.publicKey))},success:function(e){r(e)},error:function(e,t){return console.error("Dgene error:request:  "+t),r(t),!1}})}))}function a(){var e=arguments;return new Promise((function(t,n){o.a.getJSON(e[0],(function(e){t(e)}))}))}},46:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","vec4 texel = texture2D( tDiffuse, vUv );","gl_FragColor = opacity * texel;","}"].join("\n")}},55:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DgeneScene}));var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(34),core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(51),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es6_array_is_array__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(107),core_js_modules_es6_array_is_array__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es6_array_is_array__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(61),core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(62),core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es6_string_iterator__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(81),core_js_modules_es6_string_iterator__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es6_string_iterator__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(155),core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(41),core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es6_date_to_string__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(42),core_js_modules_es6_date_to_string__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es6_date_to_string__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es6_object_to_string__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(21),core_js_modules_es6_object_to_string__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es6_object_to_string__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_es6_object_define_property__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(27),core_js_modules_es6_object_define_property__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_es6_object_define_property__WEBPACK_IMPORTED_MODULE_10__),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(83),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_11__),core_js_modules_es6_number_constructor__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(158),core_js_modules_es6_number_constructor__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(core_js_modules_es6_number_constructor__WEBPACK_IMPORTED_MODULE_12__),regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(161),regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_13__),core_js_modules_es6_array_map__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(162),core_js_modules_es6_array_map__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(core_js_modules_es6_array_map__WEBPACK_IMPORTED_MODULE_14__),core_js_modules_es6_array_for_each__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(89),core_js_modules_es6_array_for_each__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(core_js_modules_es6_array_for_each__WEBPACK_IMPORTED_MODULE_15__),core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(54),core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_16__),core_js_modules_es6_function_bind__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(90),core_js_modules_es6_function_bind__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(core_js_modules_es6_function_bind__WEBPACK_IMPORTED_MODULE_17__),three__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(0),jquery__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(6),jquery__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_19__),_jsm_loaders_DRACOLoader__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(128),_jsm_controls_MapControls__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(127),_jsm_libs_dat_gui_module__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(130),_baseFusion_DgeneFlv__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(94),_baseFusion_DgeneFuse__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(136),_baseJS_globalFun__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(16),_libs_$ajax__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(22),_locales_en_us__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(1),_DgeneTween__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(67),_jsm_postprocessing_EffectComposer_js__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(135),_jsm_postprocessing_RenderPass_js__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(131),_jsm_postprocessing_ShaderPass_js__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(56),_jsm_postprocessing_OutlinePass_js__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__(132),_jsm_shaders_FXAAShader_js__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__(133);function asyncGeneratorStep(e,t,n,r,o,i,a){try{var s=e[i](a),_=s.value}catch(e){return void n(e)}s.done?t(_):Promise.resolve(_).then(r,o)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){asyncGeneratorStep(i,r,o,a,s,"next",e)}function s(e){asyncGeneratorStep(i,r,o,a,s,"throw",e)}a(void 0)}))}}function _createForOfIteratorHelper(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var TWEEN=__webpack_require__(112),DgeneScene=function(){function DgeneScene(e,t){_classCallCheck(this,DgeneScene),e?this.option=e:_baseJS_globalFun__WEBPACK_IMPORTED_MODULE_25__.a.returnDgene(),t?console.log("".concat(_locales_en_us__WEBPACK_IMPORTED_MODULE_27__.a.log).concat(_locales_en_us__WEBPACK_IMPORTED_MODULE_27__.a.ENTRY_INITIALIZE_Vesion)):_baseJS_globalFun__WEBPACK_IMPORTED_MODULE_25__.a.returnDgene(),this.scene=new three__WEBPACK_IMPORTED_MODULE_18__.I,this.camera=new three__WEBPACK_IMPORTED_MODULE_18__.C(this.fov,window.innerWidth/window.innerHeight,t.scene.camera.near||1e-4,t.scene.camera.far||4e3),this.light=new three__WEBPACK_IMPORTED_MODULE_18__.b(16777215),this.renderer=new three__WEBPACK_IMPORTED_MODULE_18__.Y({antialias:!0,alpha:!0,preserveDrawingBuffer:!0}),this.initRenVal=t.scene.renderer;var n=document.createElement("ul");n.id="videoList",this.appendDomChild(n),this.controls=new _jsm_controls_MapControls__WEBPACK_IMPORTED_MODULE_21__.a(this.camera,this.renderer.domElement),this.initConVal=t.scene.controls,this.mixers=[],this.initInfo={initFov:t.scene.camera.fov||45,initCameraPos:t.scene.camera.position||{x:400,y:400,z:400},initCameraLookAt:t.scene.camera.lookAt||{x:0,y:0,z:0}},this.models=t.file||[],this.modelLoad=new _jsm_loaders_DRACOLoader__WEBPACK_IMPORTED_MODULE_20__.a,this.imgLoad=new three__WEBPACK_IMPORTED_MODULE_18__.M,this.baseModels=[],this.baseTextureS=[],this.videoTextureArr=[],this.renderOrderNum=0,this.rayGroup=new three__WEBPACK_IMPORTED_MODULE_18__.n,this.isGui=e.isGui||!1,this.gui=e.isGui?new _jsm_libs_dat_gui_module__WEBPACK_IMPORTED_MODULE_22__.a:null,this.camPoint=null,this.intersection=null,this.raycaster=new three__WEBPACK_IMPORTED_MODULE_18__.H,this.mouse=new three__WEBPACK_IMPORTED_MODULE_18__.T,this.guiParams=new function(){this[""]=!1,this.fov=!1,this.scale=1,this.x=0,this.y=0,this.z=0},this._frustum=new three__WEBPACK_IMPORTED_MODULE_18__.m,this._projScreenMatrix=new three__WEBPACK_IMPORTED_MODULE_18__.w,this.godChosen=[],this.isGod=!0,this.isCcam=!1,this.dgeneFuse=[],this.dgeneFlv=null,this.flvObj={},this.runFlvObj=[],this.fusiedArr=[],this.fuseObj={index:"monitoring",camJson:{},flv:{type:"mp4",viedoStearm:null},modelIndex:[],isGlobalView:!1},this.fuseTime=null,this.result=t.fusion,this.CusGroup=new three__WEBPACK_IMPORTED_MODULE_18__.n,this.CusModels=[],this.selectedObjects=[],this.composer=null,this.effectFXAA=null,this.outlinePass=null,this.outlinePassParams={edgeStrength:8.3,edgeGlow:1,edgeThickness:1,pulsePeriod:3,rotate:!1,usePatternTexture:!1,visibleEdgeColor:1696767,hiddenEdgeColor:1640965}}var _deleteFlv,_deleteFuse,_applyFuse,_spere;return _createClass(DgeneScene,[{key:"init",value:function(){this.camera.position.set(this.initInfo.initCameraPos.x,this.initInfo.initCameraPos.y,this.initInfo.initCameraPos.z),this.camera.up.set(0,1,0),this.camera.lookAt(this.initInfo.initCameraLookAt.x,this.initInfo.initCameraLookAt.y,this.initInfo.initCameraLookAt.z),this.scene.add(this.rayGroup),this.scene.add(this.CusGroup),this.scene.add(this.camera),this.scene.add(this.light);new three__WEBPACK_IMPORTED_MODULE_18__.c(1e4);if(this.models.length>=1)for(var e=0;e<this.models.length;e++)this.load(this.models[e]);else console.warn("Dgene warn:No model data was detected");if(this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.domElement.id="DgeneFusion",this.appendDomChild(this.renderer.domElement),this.initRenVal)for(var t in this.initRenVal)if(this.initRenVal.hasOwnProperty(t)){if("style"==t)continue;this.renderer[t]=this.initRenVal[t]}if(this.initRenVal.style)for(var n in this.initRenVal.style)this.initRenVal.style.hasOwnProperty(n)&&(this.renderer.domElement.style[n]=this.initRenVal.style[n]);window.addEventListener("resize",this.onWindowResize.bind(this),!1),this.option.isDown&&window.addEventListener("mousedown",this.onDocumentMouseMove.bind(this),!1),this.initControls(),this.initKey(),this.option.isOutLine&&(this.composer=new _jsm_postprocessing_EffectComposer_js__WEBPACK_IMPORTED_MODULE_29__.a(this.renderer),this.renderPass=new _jsm_postprocessing_RenderPass_js__WEBPACK_IMPORTED_MODULE_30__.a(this.scene,this.camera),this.composer.addPass(this.renderPass),this.outlinePass=new _jsm_postprocessing_OutlinePass_js__WEBPACK_IMPORTED_MODULE_32__.a(new three__WEBPACK_IMPORTED_MODULE_18__.T(window.innerWidth,window.innerHeight),this.scene,this.camera),this.outlinePass.edgeStrength=this.outlinePassParams.edgeStrength,this.outlinePass.edgeGlow=this.outlinePassParams.edgeGlow,this.outlinePass.edgeThickness=this.outlinePassParams.edgeThickness,this.outlinePass.pulsePeriod=this.outlinePassParams.pulsePeriod,this.outlinePass.usePatternTexture=this.outlinePassParams.usePatternTexture,this.outlinePass.visibleEdgeColor.set(this.outlinePassParams.visibleEdgeColor),this.composer.addPass(this.outlinePass),this.effectFXAA=new _jsm_postprocessing_ShaderPass_js__WEBPACK_IMPORTED_MODULE_31__.a(_jsm_shaders_FXAAShader_js__WEBPACK_IMPORTED_MODULE_33__.a),this.effectFXAA.uniforms.resolution.value.set(1/window.innerWidth,1/window.innerHeight),this.effectFXAA.renderToScreen=!0,this.composer.addPass(this.effectFXAA)),this.dgeneFlv=new _baseFusion_DgeneFlv__WEBPACK_IMPORTED_MODULE_23__.a(this.flvObj,this.videoTextureArr),this.isGui?this.initGUI():console.info("Dgene info:test mode is close")}},{key:"appendDomChild",value:function(e){var t=this.option.appendDomID;t&&jquery__WEBPACK_IMPORTED_MODULE_19___default()("#".concat(t)).length>0?jquery__WEBPACK_IMPORTED_MODULE_19___default()("#".concat(t)).append(e):document.body.appendChild(e)}},{key:"initControls",value:function(){if(this.initConVal)for(var e in this.initConVal)this.initConVal.hasOwnProperty(e)&&(this.controls[e]=this.initConVal[e])}},{key:"onWindowResize",value:function(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)}},{key:"callModelIndex",value:function(e){var t=this;return t.isGod&&(t.godChosen=[],t.godChosen.length=0,t._projScreenMatrix.multiplyMatrices(t.camera.projectionMatrix,t.camera.matrixWorldInverse),t._frustum.setFromMatrix(t._projScreenMatrix),t.scene.traverse((function(e){e instanceof three__WEBPACK_IMPORTED_MODULE_18__.x&&t._frustum.intersectsObject(e)&&t.godChosen.push(e.name)}))),e&&e(JSON.stringify(t.godChosen)),JSON.stringify(t.godChosen)}},{key:"render",value:function(){var e=this;TWEEN.update(),this.controls.update(),this.renderer.render(this.scene,this.camera),this.option.isOutLine&&this.composer.render(),this.isCcam&&console.info("Dgene info:",this.camera);var t,n=_createForOfIteratorHelper(this.mixers);try{for(n.s();!(t=n.n()).done;){t.value.update(this.clock.getDelta())}}catch(e){n.e(e)}finally{n.f()}window.requestAnimationFrame((function(){e.render()}))}},{key:"clean",value:function(){this.scene.traverse((function(e){e instanceof three__WEBPACK_IMPORTED_MODULE_18__.x&&(e.geometry&&e.geometry.dispose(),e.material&&(e.material.materials?(e.material.materials.forEach((function(e){e.map&&e.map.dispose(),e.dispose()})),e.material.materials.length=0):(e.material.map&&e.material.map.dispose(),e.material.dispose())))}))}},{key:"initGUI",value:function(){var e=this,t=this.guiParams;console.error("Dgene error:Your current version permissions are insufficient, please contact the administrator to open permissions");var n=this.gui.addFolder("camera");n.add(t,"scale",-200,200).step(.01).onChange((function(t){e.baseModels.huaweimesh.scale.set(t,t,t)})).listen(),n.add(t,"x",-200,200).step(1).onChange((function(t){e.baseModels.huaweimesh.position.x=t})).listen(),n.add(t,"y",-200,200).step(1).onChange((function(t){e.baseModels.huaweimesh.position.y=t})).listen(),n.add(t,"z",-200,200).step(1).onChange((function(t){e.baseModels.huaweimesh.position.z=t})).listen(),n.open()}},{key:"load",value:function(e){var t=this;return t.baseTextureS[e.index]=t.imgLoad.load(e.texture[0][t.option.loadType]),t.baseModels[e.index]=t.modelLoad.load(e.model[t.option.loadType],function(){var n=_asyncToGenerator(regeneratorRuntime.mark((function n(r){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r.computeVertexNormals(),o=new three__WEBPACK_IMPORTED_MODULE_18__.y({map:t.baseTextureS[e.index],side:three__WEBPACK_IMPORTED_MODULE_18__.l,depthTest:!0}),t.baseModels[e.index]=new three__WEBPACK_IMPORTED_MODULE_18__.x(r,o),1,t.baseModels[e.index].scale.set(1,1,1),t.renderOrderNum++,t.baseModels[e.index].renderOrder=2*t.renderOrderNum,t.baseModels[e.index].name=e.index,t.rayGroup.add(t.baseModels[e.index]);case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),t.CusModels[e.index]}},{key:"spere",value:(_spere=_asyncToGenerator(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.guiParams,n=new three__WEBPACK_IMPORTED_MODULE_18__.K(1,40,40),r=new three__WEBPACK_IMPORTED_MODULE_18__.y({color:16711680}),this.camPoint=new three__WEBPACK_IMPORTED_MODULE_18__.x(n,r),this.scene.add(this.camPoint),this.camPoint.position.set(t.pointX,t.pointY,t.pointZ);case 6:case"end":return e.stop()}}),e,this)}))),function(){return _spere.apply(this,arguments)})},{key:"onDocumentMouseMove",value:function(){if(event.preventDefault(),0===event.button){this.mouse.x=event.clientX/window.innerWidth*2-1,this.mouse.y=-event.clientY/window.innerHeight*2+1,this.raycaster.setFromCamera(this.mouse,this.camera);var e=this.raycaster.intersectObject(this.scene,!0);e.length>0&&console.log(e)}}},{key:"Fkey",value:function(e){var t=jquery__WEBPACK_IMPORTED_MODULE_19___default.a.Event("keydown");t.keyCode=e,jquery__WEBPACK_IMPORTED_MODULE_19___default()("body").trigger(t)}},{key:"initKey",value:function initKey(){var _this=this;!function(){console.info("Dgene info:The initialization registration event has been injected"),jquery__WEBPACK_IMPORTED_MODULE_19___default()(document).keydown((function(event){var switchFront="switch (event.keyCode) {\n\t\t\t\t\t\t\tcase 32:\n\t\t\t\t\t\t\t\t_this.activeInit()\n\t\t\t\t\t\t\t\tbreak;",switchBack="default:\n\t\t\t\t\t\t\t\tbreak;}",str="";for(var key in _this.result)if(_this.result.hasOwnProperty(key)){var index=[];for(var j in _this.result)if(_this.result.hasOwnProperty(j)){if(_this.result[key].keyCode!=_this.result[j].keyCode)continue;index.push(_this.result[j].index)}str+="\n\t\t\t\t\t\tcase ".concat(Number(_this.result[key].keyCode),": _this.activeFuse('").concat(index,"')\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t")}eval(switchFront+str+switchBack)}))}()}},{key:"activeInit",value:function(){console.log("Dgene log:space"),this.deleteFuse(),_DgeneTween__WEBPACK_IMPORTED_MODULE_28__.a.changeToTarget(this.camera,this.controls,{x:this.initInfo.initCameraPos.x,y:this.initInfo.initCameraPos.y,z:this.initInfo.initCameraPos.z},{x:0,y:0,z:0},45*this.option.fovWinScale),this.camera.updateProjectionMatrix(),this.scene.traverse((function(e){e instanceof three__WEBPACK_IMPORTED_MODULE_18__.x&&(e.visible=!0)}))}},{key:"activeFuse",value:function(e){this.deleteFuse(),e=e.split(","),this.applyFuse(e),this.result[e[e.length-1]].isreal?_DgeneTween__WEBPACK_IMPORTED_MODULE_28__.a.changeToTarget(this.camera,this.controls,this.result[e[e.length-1]].realposition,this.result[e[e.length-1]].realtar,this.result[e[e.length-1]].camJson.fov*this.option.fovWinScale):_DgeneTween__WEBPACK_IMPORTED_MODULE_28__.a.changeToTarget(this.camera,this.controls,this.result[e[e.length-1]].camJson.position,this.result[e[e.length-1]].camJson.lookAt,45*this.option.fovWinScale),this.camera.updateProjectionMatrix()}},{key:"applyFuse",value:(_applyFuse=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=this).fusiedArr=[],n.option.fusConEnable||(n.controls.enabled=!1),t.forEach((function(e){var t=n.result[e];console.info("".concat(_locales_en_us__WEBPACK_IMPORTED_MODULE_27__.a.log).concat(_locales_en_us__WEBPACK_IMPORTED_MODULE_27__.a.SCENE_FUSION_OK)),n.dgeneFlv.createFlv(t.index,t.flv.type,t.flv[n.option.videoSource]).play(),n.runFlvObj.push(t.index),n.dgeneFuse[t.index]=new _baseFusion_DgeneFuse__WEBPACK_IMPORTED_MODULE_24__.a(n.baseTextureS,n.videoTextureArr,n.scene),n.dgeneFuse[t.index].initFrustum([t.index],t.camJson),setTimeout((function(){t.modelIndex.forEach((function(e,r){n.baseModels[e].material=n.dgeneFuse[t.index].returnFuseMaterital(e,t.index),n.fusiedArr.push(e)})),t.isInside&&(n.option.isshowVideo?(jquery__WEBPACK_IMPORTED_MODULE_19___default()("#".concat(t.index)).show(),jquery__WEBPACK_IMPORTED_MODULE_19___default()("#".concat(t.index)).css({width:"100%"})):jquery__WEBPACK_IMPORTED_MODULE_19___default()("#".concat(t.index)).hide())}),.9*n.option.animateDuringTime)})),e.abrupt("return");case 5:case"end":return e.stop()}}),e,this)}))),function(e){return _applyFuse.apply(this,arguments)})},{key:"fadeOut",value:function(e){var t=this;if(t.fusiedArr.length>=1){var n=.01;t.fuseTime=setInterval((function(){if(!(n<.99))return e&&(t.deleteFlv(),e()),void clearInterval(t.fuseTime);n+=.01;var r,o=_createForOfIteratorHelper(t.fusiedArr);try{for(o.s();!(r=o.n()).done;){var i=r.value;t.baseModels[i].material.uniforms.opacity.value=n}}catch(e){o.e(e)}finally{o.f()}}),10)}e&&e()}},{key:"deleteFuse",value:(_deleteFuse=_asyncToGenerator(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=this).controls.enabled=!0,jquery__WEBPACK_IMPORTED_MODULE_19___default()("#videoList li").remove(),t.fusiedArr.forEach((function(e){t.baseModels[e].material=new three__WEBPACK_IMPORTED_MODULE_18__.y({map:t.baseTextureS[e],side:three__WEBPACK_IMPORTED_MODULE_18__.l,depthTest:!0})})),t.runFlvObj.forEach((function(e){t.dgeneFlv.destroy(e)}));case 5:case"end":return e.stop()}}),e,this)}))),function(){return _deleteFuse.apply(this,arguments)})},{key:"deleteFlv",value:(_deleteFlv=_asyncToGenerator(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=this).runFlvObj.length>=1&&(t.runFlvObj.forEach((function(e){t.dgeneFlv.destroy(e)})),t.runFlvObj=[]);case 2:case"end":return e.stop()}}),e,this)}))),function(){return _deleteFlv.apply(this,arguments)})},{key:"craeteVideo",value:function(e){var t=this;_baseJS_globalFun__WEBPACK_IMPORTED_MODULE_25__.a.returnType(e)==_baseJS_globalFun__WEBPACK_IMPORTED_MODULE_25__.a.String&&Object(_libs_$ajax__WEBPACK_IMPORTED_MODULE_26__.a)("GET",apiConfig.flv,{index:e},null).then((function(e){new _baseFusion_DgeneFlv__WEBPACK_IMPORTED_MODULE_23__.a(t.flvObj,t.videoTextureArr).createFlv(e.index,e.flv.type,e.flv.viedoStearm).play(),t.runFlvObj.push(e.index)}))}},{key:"getCameraY",value:function(){return this.camera.position.y}},{key:"debugLog",value:function(){return this.controls}},{key:"restCamera",value:function(){this.controls.reset(),this.camera.position.set(this.initInfo.initCameraPos.x,this.initInfo.initCameraPos.y,this.initInfo.initCameraPos.z),this.camera.up.set(0,1,0),this.camera.lookAt(this.initInfo.initCameraLookAt.x,this.initInfo.initCameraLookAt.y,this.initInfo.initCameraLookAt.z)}},{key:"camFlyTo",value:function(e,t){new TWEEN.Tween(this.camera.position).to({x:e.x,y:e.y,z:e.z},t).easing(TWEEN.Easing.Exponential.InOut).start()}},{key:"getCameraPosition",value:function(){return this.camera.position}},{key:"getControl",value:function(){return this.controls}}]),DgeneScene}()},56:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n(35),n(24);var r=n(0),o=n(10),i=function(e,t){o.a.call(this),this.textureID=void 0!==t?t:"tDiffuse",e instanceof r.J?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=r.S.clone(e.uniforms),this.material=new r.J({defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new o.a.FullScreenQuad(this.material)};i.prototype=Object.assign(Object.create(o.a.prototype),{constructor:i,render:function(e,t,n){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=n.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}})},67:function(e,t,n){"use strict";var r=n(112);function o(e,t,n){new r.Tween(e.position).to({x:t.x,y:t.y,z:t.z},n).easing(r.Easing.Exponential.InOut).start()}function i(e,t,n){new r.Tween(e.target).to({x:t.x,y:t.y,z:t.z},n).easing(r.Easing.Exponential.InOut).start()}function a(e,t,n){new r.Tween(e).to({zoom:t},n).onUpdate((function(){e.updateProjectionMatrix()})).start()}function s(e,t,n){new r.Tween(e).to({fov:t},n).onUpdate((function(){e.updateProjectionMatrix()})).start()}var _={setTargetPosTwo:function(e,t,n,o){var i=new r.Tween(e.position).to({x:t.x,y:t.y,z:t.z},o).easing(r.Easing.Exponential.InOut),a=new r.Tween(e.position).to({x:n.x,y:n.y,z:n.z},o).easing(r.Easing.Exponential.InOut);a.chain(i),a.start()},setTargetPos:o,setLookAt:i,setTargetRot:function(e,t,n,r,o){TweenMax.to(e.rotation,o,{x:t,y:n,z:r,ease:Expo.easeInOut})},setTargetZoom:a,setTargetFov:s,setTargetOpacity:function(e,t,n){material.transparent=!0,new r.Tween(e).to({opacity:t},n).onUpdate((function(){e.needsUpdate=!0})).start()},changeToTarget:function(e,t,n,_,u,l,c){r.removeAll(),u=u||27,l=l||1,o(e,n,c=c),i(t,_,c),s(e,u,c),a(e,l,c)}};t.a=_},94:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(27);var r=n(134),o=n(0);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.flvObj=t,this.videoTextureArr=n}var t,n,a;return t=e,(n=[{key:"createFlv",value:function(e,t,n){var i=this.flvObj,a=this.videoTextureArr,s=document.createElement("video");s.setAttribute("crossOrigin","*"),a[e]=new o.W(s);var _=document.getElementById("videoList"),u=document.createElement("li");return _.appendChild(u),u.appendChild(s),s.id=e,s.style.zIndex=3,s.style.position="fixed",s.style.top="0px",s.style.left="0px",s.style.display="none",s.loop="true",i[e]={},i[e]=r.a.createPlayer({type:t||"mp4",isLive:"mp4"!=t,url:n||"none",enableStashBuffer:!1,withCredentials:!1,cors:!0}),i[e].attachMediaElement(s),i[e].load(),i[e]}},{key:"play",value:function(e){this.flvObj[e].play()}},{key:"destroy",value:function(e){var t=this.flvObj;void 0!==t[e]&&null!=t[e]&&(t[e].unload(),t[e].detachMediaElement(),t[e].destroy(),t[e]=null)}}])&&i(t.prototype,n),a&&i(t,a),e}()}},[[209,1,2]]]);